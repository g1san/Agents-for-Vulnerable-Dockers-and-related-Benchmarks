FROM jenkins/jenkins:2.426.2-jdk17

# Switch to root to modify configurations
USER root

# Install necessary tools for exploitation testing
RUN apt-get update && apt-get install -y \
    curl \
    wget \
    vim \
    && rm -rf /var/lib/apt/lists/*

# Switch back to jenkins user
USER jenkins

# Disable setup wizard (makes it easier to test)
ENV JAVA_OPTS="-Djenkins.install.runSetupWizard=false"