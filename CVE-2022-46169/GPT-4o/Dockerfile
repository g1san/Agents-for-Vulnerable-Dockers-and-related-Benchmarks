FROM php:7.4-apache

RUN apt-get update && apt-get install -y \
    rrdtool snmp snmpd libsnmp-dev unzip git mariadb-client \
    && docker-php-ext-install mysqli sockets

WORKDIR /var/www/html

RUN git clone --branch release/1.2.22 https://github.com/Cacti/cacti.git .

COPY cacti/config.php /var/www/html/include/config.php
