{
    "files": [
        {
            "location": "./../../dockers/CVE-2021-40438/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  apache:\n    build: .\n    container_name: vulnerable_apache\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./httpd.conf:/usr/local/apache2/conf/httpd.conf\n      - ./extra/httpd-vhosts.conf:/usr/local/apache2/conf/extra/httpd-vhosts.conf\n      - ./htdocs:/usr/local/apache2/htdocs\n    networks:\n      - cve_network\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\nnetworks:\n  cve_network:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2021-40438/custom_no_tool/Dockerfile",
            "content": "FROM httpd:2.4.48\n\nCOPY httpd.conf /usr/local/apache2/conf/httpd.conf\nCOPY extra/httpd-vhosts.conf /usr/local/apache2/conf/extra/httpd-vhosts.conf\nCOPY htdocs /usr/local/apache2/htdocs\nCOPY entrypoint.sh /usr/local/bin/entrypoint.sh\nRUN chmod +x /usr/local/bin/entrypoint.sh\n\nENTRYPOINT [\"/usr/local/bin/entrypoint.sh\"]\nCMD [\"httpd-foreground\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2021-40438/custom_no_tool/httpd.conf",
            "content": "ServerRoot \"/usr/local/apache2\"\nListen 80\nLoadModule mpm_event_module modules/mod_mpm_event.so\nLoadModule authn_core_module modules/mod_authn_core.so\nLoadModule authz_core_module modules/mod_authz_core.so\nLoadModule proxy_module modules/mod_proxy.so\nLoadModule proxy_http_module modules/mod_proxy_http.so\nLoadModule log_config_module modules/mod_log_config.so\nLoadModule unixd_module modules/mod_unixd.so\n\n<IfModule unixd_module>\n    User daemon\n    Group daemon\n</IfModule>\n\nServerAdmin you@example.com\nServerName localhost\n\n<Directory />\n    AllowOverride none\n    Require all denied\n</Directory>\n\nDocumentRoot \"/usr/local/apache2/htdocs\"\n<Directory \"/usr/local/apache2/htdocs\">\n    AllowOverride None\n    Require all granted\n</Directory>\n\n<Proxy *>\n    Require all granted\n</Proxy>\n\n# Ensure ProxyRequests is off for security reasons\nProxyRequests Off\n\nErrorLog \"logs/error_log\"\nLogLevel warn\n\n<IfModule log_config_module>\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\n    CustomLog \"logs/access_log\" common\n</IfModule>\n\n<IfModule alias_module>\n    ScriptAlias /cgi-bin/ \"/usr/local/apache2/cgi-bin/\"\n</IfModule>\n\n<Directory \"/usr/local/apache2/cgi-bin\">\n    AllowOverride None\n    Options None\n    Require all granted\n</Directory>\n\n<IfModule mime_module>\n    TypesConfig conf/mime.types\n    AddType application/x-compress .Z\n    AddType application/x-gzip .gz .tgz\n</IfModule>\n\nInclude conf/extra/httpd-vhosts.conf\n"
        },
        {
            "location": "./../../dockers/CVE-2021-40438/custom_no_tool/extra/httpd-vhosts.conf",
            "content": "<VirtualHost *:80>\n    ServerAdmin webmaster@dummy-host.example.com\n    DocumentRoot \"/usr/local/apache2/htdocs\"\n    ServerName dummy-host.example.com\n    ErrorLog \"logs/dummy-host.example.com-error_log\"\n    CustomLog \"logs/dummy-host.example.com-access_log\" common\n</VirtualHost>\n\n<Directory \"/usr/local/apache2/htdocs\">\n    AllowOverride None\n    Require all granted\n</Directory>\n"
        },
        {
            "location": "./../../dockers/CVE-2021-40438/custom_no_tool/htdocs/index.html",
            "content": "<html>\n<body>\n<h1>It works!</h1>\n<p>This is the default web page for this server.</p>\n</body>\n</html>\n"
        },
        {
            "location": "./../../dockers/CVE-2021-40438/custom_no_tool/entrypoint.sh",
            "content": "#!/bin/bash\n\n# Start Apache HTTP Server and log output to console\nhttpd-foreground &\n\n# Capture the PID of the Apache process\nAPACHE_PID=$!\n\n# Wait for the Apache process to exit\nwait \"$APACHE_PID\"\n\n# Log any errors to the console\nif [ $? -ne 0 ]; then\n  echo \"Apache HTTP Server failed to start. Check the configuration files and logs for errors.\"\n  cat /usr/local/apache2/logs/error_log\nfi\n"
        }
    ],
    "directory_tree": "CVE-2021-40438/\n\u2514\u2500\u2500 custom_no_tool\n    \u251c\u2500\u2500 Dockerfile\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 entrypoint.sh\n    \u251c\u2500\u2500 extra\n    \u2502   \u2514\u2500\u2500 httpd-vhosts.conf\n    \u251c\u2500\u2500 htdocs\n    \u2502   \u2514\u2500\u2500 index.html\n    \u2514\u2500\u2500 httpd.conf\n"
}