{
    "files": [
        {
            "location": "./../../dockers/CVE-2018-7600/custom_no_tool/docker-compose.yml",
            "content": "version: '3.7'\n\nservices:\n  drupal:\n    image: drupal:7.57\n    ports:\n      - \"8080:80\"\n    volumes:\n      - drupal-data:/var/www/html\n    environment:\n      - DRUPAL_DB_HOST=db\n      - DRUPAL_DB_NAME=drupal\n      - DRUPAL_DB_USER=drupal\n      - DRUPAL_DB_PASSWORD=drupal\n    depends_on:\n      - db\n\n  db:\n    image: mysql:5.7\n    ports:\n      - \"3306:3306\"\n    volumes:\n      - db-data:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: drupal\n      MYSQL_USER: drupal\n      MYSQL_PASSWORD: drupal\n\nvolumes:\n  drupal-data:\n  db-data:\n"
        },
        {
            "location": "./../../dockers/CVE-2018-7600/custom_no_tool/drupal/settings.php",
            "content": "<?php\n\n$databases = array (\n  'default' => \n  array (\n    'default' => \n    array (\n      'database' => 'drupal',\n      'username' => 'drupal',\n      'password' => 'drupal',\n      'host' => 'db',\n      'port' => '',\n      'driver' => 'mysql',\n      'prefix' => '',\n    ),\n  ),\n);\n\n$update_free_access = FALSE;\n\n$drupal_hash_salt = '';\n\nini_set('session.gc_probability', 1);\nini_set('session.gc_divisor', 100);\nini_set('session.gc_maxlifetime', 200000);\nini_set('session.cookie_lifetime', 2000000);\n\n$settings['trusted_host_patterns'] = [\n  '^localhost$',\n  '^127\\.0\\.0\\.1$',\n];\n\n"
        },
        {
            "location": "./../../dockers/CVE-2018-7600/custom_no_tool/drupal/install.php",
            "content": "<?php\n\n// This script is used to automate the installation of Drupal.\n// It will be executed when the Drupal container starts.\n\n// Check if the site is already installed.\nif (file_exists('/var/www/html/sites/default/settings.php')) {\n  exit('Drupal is already installed.\\n');\n}\n\n// Copy the default settings file.\ncopy('/var/www/html/sites/default/default.settings.php', '/var/www/html/sites/default/settings.php');\n\n// Include the settings file to set the database connection.\ninclude '/var/www/html/sites/default/settings.php';\n\n// Set up the database connection.\n$databases['default']['default'] = array (\n  'driver' => 'mysql',\n  'database' => 'drupal',\n  'username' => 'drupal',\n  'password' => 'drupal',\n  'host' => 'db',\n  'prefix' => '',\n);\n\n// Save the settings file.\nfile_put_contents('/var/www/html/sites/default/settings.php', '<?php\\n' . var_export($databases, TRUE) . ';\\n');\n\n// Run the Drupal installation script.\nexec('drush site-install standard --account-name=admin --account-pass=admin --db-url=mysql://drupal:drupal@db/drupal');\n\n"
        }
    ],
    "directory_tree": "CVE-2018-7600/\n\u2514\u2500\u2500 custom_no_tool\n    \u251c\u2500\u2500 docker-compose.yml\n    \u2514\u2500\u2500 drupal\n        \u251c\u2500\u2500 settings.php\n        \u2514\u2500\u2500 install.php\n"
}