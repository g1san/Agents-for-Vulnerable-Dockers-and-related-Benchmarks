{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-12149/custom_no_tool/docker-compose.yml",
            "content": "services:\n  jboss:\n    build:\n      context: ./jboss\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      - mysql\n\n  mysql:\n    image: mysql:5.5\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpassword\n      MYSQL_DATABASE: testdb\n      MYSQL_USER: testuser\n      MYSQL_PASSWORD: testpassword\n    ports:\n      - \"3306:3306\"\n    volumes:\n      - db_data:/var/lib/mysql\n    command: --default-authentication-plugin=mysql_native_password\n    healthcheck:\n      test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"localhost\"]\n      interval: 10s\n      timeout: 5s\n      retries: 3\n    volumes:\n      - ./mysql/init.sql:/docker-entrypoint-initdb.d/init.sql\n\nvolumes:\n  db_data:\n    driver: local\n"
        },
        {
            "location": "./../../dockers/CVE-2017-12149/custom_no_tool/jboss/Dockerfile",
            "content": "FROM jboss/base-jdk:7\n\n# Switch to root to create necessary directories\nUSER root\n\n# Simulate JBoss EAP 5.2.0 installation\nRUN mkdir -p /opt/jboss-eap-5.2/bin && \\\n    echo -e '#!/bin/bash\\necho \"Starting JBoss EAP 5.2.0\"' > /opt/jboss-eap-5.2/bin/standalone.sh && \\\n    chmod +x /opt/jboss-eap-5.2/bin/standalone.sh\n\n# Create configuration directory and copy configuration files\nRUN mkdir -p /opt/jboss-eap-5.2/standalone/configuration\nCOPY standalone.xml /opt/jboss-eap-5.2/standalone/configuration/standalone.xml\nCOPY ReadOnlyAccessFilter.java /opt/jboss-eap-5.2/custom/ReadOnlyAccessFilter.java\n\n# Switch back to jboss user\nUSER jboss\n\n# Set environment variables\nENV JBOSS_HOME /opt/jboss-eap-5.2\nENV PATH $PATH:$JBOSS_HOME/bin\n\n# Expose ports\nEXPOSE 8080\n\nCMD [\"/opt/jboss-eap-5.2/bin/standalone.sh\", \"-b\", \"0.0.0.0\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2017-12149/custom_no_tool/jboss/standalone.xml",
            "content": "<server>\n    <extensions>\n        <!-- Add required extensions here -->\n    </extensions>\n    <subsystem xmlns=\"urn:jboss:domain:logging:1.1\">\n        <console-handler name=\"CONSOLE\">\n            <level name=\"INFO\"/>\n            <formatter>\n                <named-formatter name=\"COLOR-PATTERN\"/>\n            </formatter>\n        </console-handler>\n        <logger category=\"com.arjuna\">\n            <level name=\"WARN\"/>\n        </logger>\n        <root-logger>\n            <level name=\"INFO\"/>\n            <handlers>\n                <handler name=\"CONSOLE\"/>\n            </handlers>\n        </root-logger>\n    </subsystem>\n    <!-- Other configurations -->\n</server>\n"
        },
        {
            "location": "./../../dockers/CVE-2017-12149/custom_no_tool/jboss/ReadOnlyAccessFilter.java",
            "content": "package org.jboss.invocation.http.server;\n\nimport javax.servlet.*;\nimport java.io.IOException;\n\npublic class ReadOnlyAccessFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        // Initialization code\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        // Vulnerable deserialization code\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n        // Cleanup code\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2017-12149/custom_no_tool/mysql/init.sql",
            "content": "CREATE DATABASE IF NOT EXISTS testdb;\nUSE testdb;\nCREATE TABLE IF NOT EXISTS users (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    username VARCHAR(50) NOT NULL,\n    password VARCHAR(50) NOT NULL\n);\nINSERT INTO users (username, password) VALUES ('admin', 'adminpassword');\n"
        }
    ],
    "directory_tree": "CVE-2017-12149/\n\u251c\u2500\u2500 custom_no_tool\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u251c\u2500\u2500 jboss\n\u2502   \u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u2502   \u251c\u2500\u2500 standalone.xml\n\u2502   \u2502   \u2514\u2500\u2500 ReadOnlyAccessFilter.java\n\u2514\u2500\u2500 mysql\n    \u2514\u2500\u2500 init.sql\n"
}