# Use Eclipse Temurin OpenJDK 8 as the base image
FROM eclipse-temurin:8-jdk

# Install necessary utilities
RUN apt-get update && apt-get install -y unzip wget && rm -rf /var/lib/apt/lists/*

# Install GeoServer
RUN mkdir -p /opt/geoserver && \
    cd /opt/geoserver && \
    wget https://sourceforge.net/projects/geoserver/files/GeoServer/2.23.6/geoserver-2.23.6-bin.zip && \
    unzip geoserver-2.23.6-bin.zip && \
    rm geoserver-2.23.6-bin.zip

# Set environment variables
ENV GEOSERVER_HOME /opt/geoserver

# Expose default GeoServer port
EXPOSE 8080

# Start GeoServer
CMD ["/opt/geoserver/bin/startup.sh"]
