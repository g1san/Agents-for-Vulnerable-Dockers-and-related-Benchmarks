{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  git:\n    build: ./git\n    container_name: vulnerable_git\n    ports:\n      - \"2222:22\"\n    volumes:\n      - git_data:/home/git\n    environment:\n      - USER_NAME=git\n      - USER_PASSWORD=git\n\nvolumes:\n  git_data:\n"
        },
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/git/Dockerfile",
            "content": "FROM ubuntu:16.04\n\nRUN apt-get update && \\\n    apt-get install -y openssh-server build-essential wget libssl-dev libcurl4-openssl-dev libexpat1-dev gettext && \\\n    mkdir /var/run/sshd && \\\n    useradd -m -d /home/git -s /usr/bin/git-shell git && \\\n    echo 'git:git' | chpasswd && \\\n    mkdir -p /home/git/.ssh && \\\n    chown git:git /home/git/.ssh\n\n# Install specific vulnerable version of Git\nRUN wget https://www.kernel.org/pub/software/scm/git/git-2.7.4.tar.gz && \\\n    tar -xzvf git-2.7.4.tar.gz && \\\n    cd git-2.7.4 && \\\n    make prefix=/usr/local all && \\\n    make prefix=/usr/local install\n\nCOPY sshd_config /etc/ssh/sshd_config\n\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/git/sshd_config",
            "content": "# Package generated configuration file\n# See the sshd_config(5) manpage for details\n\n# What ports, IPs and protocols we listen for\nPort 22\n# Use these options to restrict which interfaces/protocols sshd will bind to\n#ListenAddress ::\n#ListenAddress 0.0.0.0\nProtocol 2\n\n# HostKeys for protocol version 2\nHostKey /etc/ssh/ssh_host_rsa_key\nHostKey /etc/ssh/ssh_host_dsa_key\n#Privilege Separation is turned on for security\nUsePrivilegeSeparation yes\n\n# Lifetime and size of ephemeral version 1 server key\nKeyRegenerationInterval 3600\nServerKeyBits 1024\n\n# Logging\nSyslogFacility AUTH\nLogLevel INFO\n\n# Authentication:\nLoginGraceTime 120\nPermitRootLogin no\nStrictModes yes\n\nRSAAuthentication yes\nPubkeyAuthentication yes\n\n# To enable empty passwords, change to yes (NOT RECOMMENDED)\nPermitEmptyPasswords no\n\n# Change to yes to enable challenge-response passwords (beware issues with\n# some PAM modules and threads)\nChallengeResponseAuthentication no\n\n# Change to no to disable tunnelled clear text passwords\n#PasswordAuthentication yes\n\n# Kerberos options\n#KerberosAuthentication no\n#KerberosGetAFSToken no\n#KerberosOrLocalPasswd yes\n#KerberosTicketCleanup yes\n\n# GSSAPI options\n#GSSAPIAuthentication no\n#GSSAPICleanupCredentials yes\n\nX11Forwarding yes\nX11DisplayOffset 10\nPrintMotd no\nPrintLastLog yes\nTCPKeepAlive yes\n#UseLogin no\n\n#MaxStartups 10:30:60\n#Banner /etc/issue.net\n\n# Allow client to pass locale environment variables\nAcceptEnv LANG LC_*\n\nSubsystem sftp /usr/lib/openssh/sftp-server\n\nUsePAM yes\n\n# Allow git-shell as a login shell\nMatch User git\n    ForceCommand git-shell\n    X11Forwarding no\n    AllowTcpForwarding no\n    PermitTTY yes\n"
        }
    ],
    "directory_tree": "CVE-2017-8386/\n\u251c\u2500\u2500 custom_no_tool\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u2514\u2500\u2500 git\n\u2502       \u251c\u2500\u2500 Dockerfile\n\u2502       \u2514\u2500\u2500 sshd_config\n"
}