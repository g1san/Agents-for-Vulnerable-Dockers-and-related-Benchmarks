services:
  jmeter:
    image: justb4/jmeter:3.3
    container_name: jmeter
    volumes:
      - ./jmeter:/opt/apache-jmeter-3.3
    ports:
      - "1099:1099"  # RMI default port
    command: bash -c "/opt/apache-jmeter-3.3/bin/jmeter-server -Djava.rmi.server.hostname=0.0.0.0"
    networks:
      - my_custom_network

  openjdk:
    image: openjdk:8u212-jre
    container_name: openjdk
    command: tail -f /dev/null
    networks:
      - my_custom_network

networks:
  my_custom_network:
    driver: bridge
