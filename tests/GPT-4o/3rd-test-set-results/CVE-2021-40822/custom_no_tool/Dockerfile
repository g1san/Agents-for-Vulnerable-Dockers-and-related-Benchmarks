# Use an available base image for GeoServer
FROM tomcat:9-jdk8-openjdk

# Install unzip utility
RUN apt-get update && apt-get install -y unzip && rm -rf /var/lib/apt/lists/*

# Download and install GeoServer
RUN wget -qO geoserver-2.19.2-war.zip https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.2/geoserver-2.19.2-war.zip \
    && unzip geoserver-2.19.2-war.zip -d /usr/local/tomcat/webapps \
    && rm geoserver-2.19.2-war.zip

# Expose the default GeoServer port
EXPOSE 8080

# Set the entry point to Tomcat
CMD ["catalina.sh", "run"]
