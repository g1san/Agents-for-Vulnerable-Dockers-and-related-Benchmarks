{
    "files": [
        {
            "location": "./../../dockers/CVE-2022-24816/custom_no_tool/docker-compose.yml",
            "content": "services:\n  geoserver:\n    build: .\n    environment:\n      - GEOSERVER_JAVA_OPTS=-Dorg.geotools.coverage.jaiext.enabled=true\n    volumes:\n      - geoserver_data:/var/local/geoserver\n    ports:\n      - \"8080:8080\"\n\n  nginx:\n    image: \"nginx:1.21\"\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n    depends_on:\n      - geoserver\n\nvolumes:\n  geoserver_data:\n    driver: local\n"
        },
        {
            "location": "./../../dockers/CVE-2022-24816/custom_no_tool/nginx.conf",
            "content": "events {}\n\nhttp {\n    server {\n        listen 80;\n\n        location / {\n            proxy_pass http://geoserver:8080;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2022-24816/custom_no_tool/Dockerfile",
            "content": "# Start from a base image that includes necessary tools\nFROM kartoza/geoserver:2.20.0\n\n# Switch to root to perform system updates\nUSER root\n\n# Ensure the geoserver user exists\nRUN id -u geoserver &>/dev/null || useradd -m geoserver\n\n# Remove existing JAI-EXT library if it exists\nRUN rm -f /usr/local/tomcat/webapps/geoserver/WEB-INF/lib/jaiext-*.jar\n\n# Copy the JAI-EXT library from the local context\nCOPY jaiext-1.1.21.jar /usr/local/tomcat/webapps/geoserver/WEB-INF/lib/jaiext.jar\n\n# Set permissions for geoserver user\nRUN chown -R geoserver:geoserver /usr/local/tomcat/webapps/geoserver\n\n# Revert back to the default user\nUSER geoserver\n"
        },
        {
            "location": "./../../dockers/CVE-2022-24816/custom_no_tool/jaiext-1.1.21.jar",
            "content": "(Binary content of the JAI-EXT 1.1.21 library)"
        }
    ],
    "directory_tree": "CVE-2022-24816/\n\u2514\u2500\u2500 custom_no_tool\n    \u251c\u2500\u2500 Dockerfile\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 jaiext-1.1.21.jar\n    \u2514\u2500\u2500 nginx.conf"
}