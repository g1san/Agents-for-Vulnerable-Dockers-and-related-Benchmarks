services:
  vulnerable-app:
    build: ./vulnerable-app
    ports:
      - "8080:8080"
    depends_on:
      - maven

  maven:
    image: maven:3.6.3-jdk-8-slim
    volumes:
      - ./vulnerable-app:/usr/src/app
    working_dir: /usr/src/app
    command: mvn clean package

  openjdk:
    image: openjdk:8-jdk-bullseye
    command: sleep infinity
