{
    "files": [
        {
            "location": "./../../dockers/CVE-2019-20933/custom_no_tool/docker-compose.yml",
            "content": "version: '3.7'\n\nservices:\n  influxdb:\n    image: influxdb:1.7.5\n    container_name: vulnerable_influxdb\n    ports:\n      - \"8086:8086\"\n    volumes:\n      - influxdb-data:/var/lib/influxdb\n    environment:\n      - INFLUXDB_DB=mydb\n      - INFLUXDB_ADMIN_ENABLED=true\n      - INFLUXDB_HTTP_AUTH_ENABLED=false\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8086/ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\nvolumes:\n  influxdb-data:\n    driver: local\n"
        },
        {
            "location": "./../../dockers/CVE-2019-20933/custom_no_tool/init-influxdb.sh",
            "content": "#!/bin/bash\n\n# Wait for InfluxDB to start\nuntil curl -s http://localhost:8086/ping; do\n    echo \"Waiting for InfluxDB to be available...\"\n    sleep 2\ndone\n\n# Create a database and some test data\ncurl -XPOST \"http://localhost:8086/query\" --data-urlencode \"q=CREATE DATABASE mydb\"\ncurl -XPOST \"http://localhost:8086/write?db=mydb\" --data-binary 'weather,location=us-midwest temperature=82 1465839830100400200'\ncurl -XPOST \"http://localhost:8086/write?db=mydb\" --data-binary 'weather,location=us-northeast temperature=72 1465839830100400200'\n"
        }
    ],
    "directory_tree": "CVE-2019-20933/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 docker-compose.yml\n    \u2514\u2500\u2500 init-influxdb.sh"
}