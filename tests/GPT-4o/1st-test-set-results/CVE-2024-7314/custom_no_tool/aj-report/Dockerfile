FROM openjdk:8u312-jdk

WORKDIR /app

# Copy source code and build application
COPY . /app

# Ensure the Maven wrapper is executable
RUN chmod +x ./mvnw

# Use Maven to build the application
RUN ./mvnw clean package

# Copy the built JAR file into the container
COPY target/aj-report-1.0-SNAPSHOT.jar /app/aj-report.jar

EXPOSE 8080

CMD ["java", "-jar", "/app/aj-report.jar"]
