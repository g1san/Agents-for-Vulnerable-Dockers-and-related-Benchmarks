<?php
// Secure PHP script
if (isset($_SERVER['HTTP_PROXY'])) {
    echo "HTTP_PROXY is set, but this header is ignored for security reasons.";
} else {
    echo "HTTP_PROXY is not set.";
}

// Simulate a request to an internal service
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "http://internal-service");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$output = curl_exec($ch);
curl_close($ch);

// Output the result of the internal request
echo "\nInternal request output: " . $output;
?>
