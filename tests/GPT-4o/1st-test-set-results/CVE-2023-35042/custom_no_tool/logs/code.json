{
    "files": [
        {
            "location": "./../../dockers/CVE-2023-35042/custom_no_tool/docker-compose.yml",
            "content": "services:\n  geoserver:\n    image: geoserver/geoserver:2.18.6\n    container_name: geoserver\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - geoserver_data:/var/local/geoserver\n    environment:\n      - GEOSERVER_JAVA_OPTS=-Dorg.geotools.referencing.forceXY=true\n\n  postgres:\n    image: postgres:14.0\n    container_name: postgres\n    environment:\n      POSTGRES_DB: geoserver\n      POSTGRES_USER: geoserver\n      POSTGRES_PASSWORD: geoserver\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\nvolumes:\n  geoserver_data:\n  postgres_data:\n"
        },
        {
            "location": "./../../dockers/CVE-2023-35042/custom_no_tool/Dockerfile",
            "content": "FROM geoserver/geoserver:2.18.6\n\n# Ensure janino jar is not present to avoid vulnerability\nRUN rm /usr/local/tomcat/webapps/geoserver/WEB-INF/lib/janino-*.jar\n\n# Copy additional configurations if needed\nCOPY geoserver.xml /var/local/geoserver/config/geoserver.xml\n"
        },
        {
            "location": "./../../dockers/CVE-2023-35042/custom_no_tool/init.sql",
            "content": "CREATE TABLE spatial_data (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(100),\n    geom GEOMETRY(Point, 4326)\n);\n\nINSERT INTO spatial_data (name, geom) VALUES\n('Location1', 'SRID=4326;POINT(-71.060316 48.432044)'),\n('Location2', 'SRID=4326;POINT(-72.060316 49.432044)');\n"
        },
        {
            "location": "./../../dockers/CVE-2023-35042/custom_no_tool/geoserver.xml",
            "content": "<GeoServer>\n  <global>\n    <settings>\n      <proxyBaseUrl>http://localhost:8080/geoserver</proxyBaseUrl>\n    </settings>\n  </global>\n</GeoServer>\n"
        },
        {
            "location": "./../../dockers/CVE-2023-35042/custom_no_tool/setup.sh",
            "content": "#!/bin/bash\n\n# Wait for PostgreSQL to be ready\nuntil pg_isready -h postgres -p 5432 -U geoserver; do\n  echo \"Waiting for PostgreSQL to be ready...\"\n  sleep 2\ndone\n\n# Apply initial SQL script\npsql -h postgres -U geoserver -d geoserver -f /docker-entrypoint-initdb.d/init.sql\n"
        }
    ],
    "directory_tree": "CVE-2023-35042/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 Dockerfile\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 geoserver.xml\n    \u251c\u2500\u2500 init.sql\n    \u2514\u2500\u2500 setup.sh"
}