FROM openjdk:8u312-jdk

# Clone ysoserial from GitHub
RUN apt-get update && apt-get install -y git maven && \
    git clone https://github.com/frohoff/ysoserial.git /ysoserial && \
    cd /ysoserial && \
    mvn clean package -DskipTests && \
    mv target/ysoserial-*.jar /ysoserial/ysoserial.jar

# Set working directory
WORKDIR /ysoserial

# Default command
CMD ["/bin/bash"]
