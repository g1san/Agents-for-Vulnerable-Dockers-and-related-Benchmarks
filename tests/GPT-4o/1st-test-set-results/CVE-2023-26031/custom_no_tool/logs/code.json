{
    "files": [
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/docker-compose.yml",
            "content": "services:\n  hadoop:\n    build:\n      context: ./hadoop\n    container_name: hadoop\n    environment:\n      - CLUSTER_NAME=test\n    volumes:\n      - hadoop_data:/hadoop/dfs/name\n    networks:\n      - hadoop-net\n    command: \"/entrypoint.sh\"\n\n  datanode:\n    build:\n      context: ./hadoop\n    container_name: datanode\n    environment:\n      - CLUSTER_NAME=test\n    volumes:\n      - hadoop_data:/hadoop/dfs/data\n    networks:\n      - hadoop-net\n    depends_on:\n      - hadoop\n    command: \"/entrypoint.sh\"\n\n  resourcemanager:\n    build:\n      context: ./hadoop\n    container_name: resourcemanager\n    environment:\n      - CLUSTER_NAME=test\n    networks:\n      - hadoop-net\n    depends_on:\n      - hadoop\n    command: \"/entrypoint.sh\"\n\n  nodemanager:\n    build:\n      context: ./hadoop\n    container_name: nodemanager\n    environment:\n      - CLUSTER_NAME=test\n    networks:\n      - hadoop-net\n    depends_on:\n      - resourcemanager\n    command: \"/entrypoint.sh\"\n\n  historyserver:\n    build:\n      context: ./hadoop\n    container_name: historyserver\n    environment:\n      - CLUSTER_NAME=test\n    networks:\n      - hadoop-net\n    depends_on:\n      - hadoop\n      - resourcemanager\n    command: \"/entrypoint.sh\"\n\nvolumes:\n  hadoop_data:\n\nnetworks:\n  hadoop-net:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/hadoop/Dockerfile",
            "content": "FROM ubuntu:20.04\n\nRUN apt-get update && \\\n    apt-get install -y openjdk-8-jdk wget ssh && \\\n    wget https://archive.apache.org/dist/hadoop/common/hadoop-3.3.4/hadoop-3.3.4.tar.gz && \\\n    tar -xzf hadoop-3.3.4.tar.gz && \\\n    mv hadoop-3.3.4 /usr/local/hadoop && \\\n    rm hadoop-3.3.4.tar.gz && \\\n    mkdir -p /usr/local/hadoop/logs && \\\n    chown -R root:root /usr/local/hadoop && \\\n    chmod -R 755 /usr/local/hadoop\n\nENV HADOOP_HOME=/usr/local/hadoop\nENV PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\n\nCOPY core-site.xml $HADOOP_HOME/etc/hadoop/core-site.xml\nCOPY hdfs-site.xml $HADOOP_HOME/etc/hadoop/hdfs-site.xml\nCOPY yarn-site.xml $HADOOP_HOME/etc/hadoop/yarn-site.xml\nCOPY entrypoint.sh /entrypoint.sh\nRUN chmod +x /entrypoint.sh\n\nCMD [\"/bin/bash\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/hadoop/core-site.xml",
            "content": "<configuration>\n    <property>\n        <name>fs.defaultFS</name>\n        <value>hdfs://hadoop:9000</value>\n    </property>\n</configuration>\n"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/hadoop/hdfs-site.xml",
            "content": "<configuration>\n    <property>\n        <name>dfs.replication</name>\n        <value>1</value>\n    </property>\n</configuration>\n"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/hadoop/yarn-site.xml",
            "content": "<configuration>\n    <property>\n        <name>yarn.resourcemanager.hostname</name>\n        <value>resourcemanager</value>\n    </property>\n    <property>\n        <name>yarn.nodemanager.aux-services</name>\n        <value>mapreduce_shuffle</value>\n    </property>\n</configuration>\n"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/hadoop/entrypoint.sh",
            "content": "#!/bin/bash\n\n# Start SSH service\nservice ssh start\n\n# Start Hadoop services\necho \"Starting Hadoop services...\"\n\nif [[ \"$HOSTNAME\" == \"hadoop\" ]]; then\n    $HADOOP_HOME/bin/hdfs namenode -format -force\n    $HADOOP_HOME/sbin/start-dfs.sh\nfi\n\nif [[ \"$HOSTNAME\" == \"resourcemanager\" ]]; then\n    $HADOOP_HOME/sbin/start-yarn.sh\nfi\n\nif [[ \"$HOSTNAME\" == \"historyserver\" ]]; then\n    $HADOOP_HOME/bin/mapred --daemon start historyserver\nfi\n\n# Keep the container running\ntail -f /dev/null\n"
        }
    ],
    "directory_tree": "CVE-2023-26031/\n\u251c\u2500\u2500 custom_no_tool\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u2514\u2500\u2500 hadoop\n\u2502       \u251c\u2500\u2500 Dockerfile\n\u2502       \u251c\u2500\u2500 core-site.xml\n\u2502       \u251c\u2500\u2500 entrypoint.sh\n\u2502       \u251c\u2500\u2500 hdfs-site.xml\n\u2502       \u2514\u2500\u2500 yarn-site.xml"
}