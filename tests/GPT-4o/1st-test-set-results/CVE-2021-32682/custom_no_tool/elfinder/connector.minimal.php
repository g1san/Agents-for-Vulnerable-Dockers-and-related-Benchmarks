<?php

// This is a minimal connector for elFinder vulnerable testing
// It allows access to the elFinder file manager

require 'autoload.php';

$opts = array(
    'roots' => array(
        array(
            'driver'        => 'LocalFileSystem',
            'path'          => '/var/www/html/elfinder/files/',
            'URL'           => 'http://localhost:8080/files/',
            'accessControl' => 'access',             // Disable and hide dot starting files (OPTIONAL)
            'uploadAllow'   => array('image', 'text/plain', 'application/x-php'),
            'uploadDeny'    => array('all'),
            'uploadOrder'   => array('deny', 'allow'),
            'attributes' => array(
                array(
                    'pattern' => '/\.php$/',
                    'read' => true,
                    'write' => true,
                    'locked' => false,
                    'hidden' => false
                )
            )
        )
    )
);

// run elFinder
$connector = new elFinderConnector(new elFinder($opts));
$connector->run();

?>
