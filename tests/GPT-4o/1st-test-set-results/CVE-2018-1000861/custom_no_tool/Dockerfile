# Use the official Jenkins LTS image as a parent image
FROM jenkins/jenkins:2.153

# Set the user to root for installation
USER root

# Install additional packages if needed
RUN apt-get update && apt-get install -y \
    openjdk-8-jdk \
    && rm -rf /var/lib/apt/lists/*

# Switch back to the jenkins user
USER jenkins

# Expose the default Jenkins port
EXPOSE 8080

# Define the default command to run Jenkins
CMD ["/usr/bin/java", "-jar", "/usr/share/jenkins/jenkins.war"]