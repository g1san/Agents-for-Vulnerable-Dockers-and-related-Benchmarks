{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-6920/custom_no_tool/docker-compose.yml",
            "content": "version: '3.1'\n\nservices:\n\n  drupal:\n    image: drupal:8.3.3\n    ports:\n      - \"8080:80\"\n    environment:\n      - DRUPAL_DB_HOST=db\n      - DRUPAL_DB_NAME=drupal\n      - DRUPAL_DB_USER=drupal\n      - DRUPAL_DB_PASSWORD=drupal\n    depends_on:\n      - db\n    volumes:\n      - drupal-data:/var/www/html\n\n  db:\n    image: mariadb:10.1.34\n    environment:\n      - MYSQL_ROOT_PASSWORD=root\n      - MYSQL_DATABASE=drupal\n      - MYSQL_USER=drupal\n      - MYSQL_PASSWORD=drupal\n    volumes:\n      - db-data:/var/lib/mysql\n      - ./init.sql:/docker-entrypoint-initdb.d/init.sql\n\n  web:\n    image: nginx:1.15.0\n    ports:\n      - \"8081:80\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf\n    depends_on:\n      - drupal\n\nvolumes:\n  drupal-data:\n  db-data:\n"
        },
        {
            "location": "./../../dockers/CVE-2017-6920/custom_no_tool/nginx.conf",
            "content": "http {\n    server {\n        listen 80;\n        server_name localhost;\n\n        location / {\n            proxy_pass http://drupal;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2017-6920/custom_no_tool/init.sql",
            "content": "CREATE DATABASE IF NOT EXISTS drupal;\nUSE drupal;\n\nDROP USER IF EXISTS 'drupal'@'%';\nCREATE USER 'drupal'@'%' IDENTIFIED BY 'drupal';\nGRANT ALL PRIVILEGES ON drupal.* TO 'drupal'@'%';\nFLUSH PRIVILEGES;\n\nCREATE TABLE IF NOT EXISTS test_data (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    data VARCHAR(255) NOT NULL\n);\nINSERT INTO test_data (data) VALUES ('test1'), ('test2'), ('test3');\n"
        }
    ],
    "directory_tree": "CVE-2017-6920/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 init.sql\n    \u2514\u2500\u2500 nginx.conf\n"
}