{
    "files": [
        {
            "location": "./../../dockers/CVE-2016-9086/custom_no_tool/docker-compose.yml",
            "content": "services:\n  gitlab:\n    build: ./gitlab\n    container_name: gitlab\n    hostname: 'gitlab.example.com'\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url 'http://gitlab.example.com'\n        gitlab_rails['gitlab_shell_ssh_port'] = 2224\n    ports:\n      - '80:80'\n      - '443:443'\n      - '2224:22'\n    volumes:\n      - './gitlab/config:/etc/gitlab'\n      - './gitlab/logs:/var/log/gitlab'\n      - './gitlab/data:/var/opt/gitlab'\n\n  postgres:\n    image: postgres:9.6\n    container_name: postgres\n    environment:\n      POSTGRES_USER: gitlab\n      POSTGRES_PASSWORD: gitlabpass\n      POSTGRES_DB: gitlabhq_production\n    volumes:\n      - './postgres/data:/var/lib/postgresql/data'\n    ports:\n      - '5432:5432'\n\n  redis:\n    image: redis:3.2\n    container_name: redis\n    volumes:\n      - './redis/data:/data'\n    ports:\n      - '6379:6379'\n\nnetworks:\n  default:\n    name: gitlab_network\n    external: true\n"
        },
        {
            "location": "./../../dockers/CVE-2016-9086/custom_no_tool/gitlab/Dockerfile",
            "content": "FROM ubuntu:16.04\n\n# Set non-interactive mode for APT\nENV DEBIAN_FRONTEND=noninteractive\n\n# Install dependencies\nRUN apt-get update && apt-get install -y \\\n    curl \\\n    openssh-server \\\n    ca-certificates \\\n    postfix \\\n    git \\\n    build-essential \\\n    libssl-dev \\\n    libreadline-dev \\\n    zlib1g-dev \\\n    libyaml-dev \\\n    libxml2-dev \\\n    libxslt1-dev \\\n    libcurl4-openssl-dev \\\n    libffi-dev \\\n    libicu-dev \\\n    logrotate \\\n    python-docutils \\\n    cmake \\\n    pkg-config \\\n    ruby-full \\\n    ruby-dev\n\n# Install Bundler\nRUN gem install bundler -v 1.17.3\n\n# Download GitLab source code using shallow clone\nRUN git clone --depth 1 --branch v8.13.2 https://gitlab.com/gitlab-org/gitlab-ce.git /home/git/gitlab\n\n# Set up GitLab\nWORKDIR /home/git/gitlab\nRUN cp config/gitlab.yml.example config/gitlab.yml && \\\n    cp config/unicorn.rb.example config/unicorn.rb && \\\n    cp config/database.yml.postgresql config/database.yml && \\\n    # Create a default redis.yml if it doesn't exist\n    [ ! -f config/redis.yml.example ] && echo \"production:\\n  url: redis://redis:6379\" > config/redis.yml.example; \\\n    cp config/redis.yml.example config/redis.yml && \\\n    bundle install --deployment --without development test mysql aws kerberos\n\n# Expose ports\nEXPOSE 80 443 22\n\n# Start GitLab\nCMD [\"/home/git/gitlab/bin/rake\", \"gitlab:setup\", \"RAILS_ENV=production\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2016-9086/custom_no_tool/gitlab/config/gitlab.rb",
            "content": "external_url 'http://gitlab.example.com'\n\npostgresql['enable'] = false\nredis['enable'] = false\ngitlab_rails['db_adapter'] = 'postgresql'\ngitlab_rails['db_encoding'] = 'unicode'\ngitlab_rails['db_host'] = 'postgres'\ngitlab_rails['db_port'] = '5432'\ngitlab_rails['db_username'] = 'gitlab'\ngitlab_rails['db_password'] = 'gitlabpass'\ngitlab_rails['db_database'] = 'gitlabhq_production'\n\ngitlab_rails['redis_host'] = 'redis'\ngitlab_rails['redis_port'] = '6379'\n"
        },
        {
            "location": "./../../dockers/CVE-2016-9086/custom_no_tool/gitlab/init.sql",
            "content": "CREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    username VARCHAR(255) NOT NULL,\n    email VARCHAR(255) NOT NULL\n);\n\nINSERT INTO users (username, email) VALUES ('testuser', 'testuser@example.com');\n"
        }
    ],
    "directory_tree": "CVE-2016-9086/\n\u251c\u2500\u2500 custom_no_tool\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u251c\u2500\u2500 gitlab\n\u2502   \u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u2502   \u251c\u2500\u2500 config\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 gitlab.rb\n\u2502   \u2502   \u2514\u2500\u2500 init.sql\n\u2502   \u251c\u2500\u2500 postgres\n\u2502   \u2502   \u2514\u2500\u2500 data\n\u2502   \u2514\u2500\u2500 redis\n\u2502       \u2514\u2500\u2500 data"
}