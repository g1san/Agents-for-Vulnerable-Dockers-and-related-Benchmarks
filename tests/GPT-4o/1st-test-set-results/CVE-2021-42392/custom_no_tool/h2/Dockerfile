FROM eclipse-temurin:8-jdk

WORKDIR /opt/h2

# Download and install H2 database
RUN wget https://repo1.maven.org/maven2/com/h2database/h2/1.4.200/h2-1.4.200.jar -O h2.jar

# Expose the H2 Console web port
EXPOSE 8082

# Start H2 database with console enabled
CMD ["java", "-cp", "h2.jar", "org.h2.tools.Server", "-web", "-webAllowOthers", "-tcp", "-tcpAllowOthers", "-ifNotExists"]
