{
    "files": [
        {
            "location": "./../../dockers/CVE-2018-16509/custom_no_tool/docker-compose.yml",
            "content": "services:\n  ghostscript:\n    build: ./ghostscript\n    container_name: ghostscript_vulnerable\n    volumes:\n      - ./output:/output\n\n  python:\n    build: ./python\n    container_name: python_script\n    depends_on:\n      - ghostscript\n    volumes:\n      - ./output:/output\n\n  imagemagick:\n    build: ./imagemagick\n    container_name: imagemagick_vulnerable\n    depends_on:\n      - ghostscript\n    volumes:\n      - ./output:/output\n"
        },
        {
            "location": "./../../dockers/CVE-2018-16509/custom_no_tool/ghostscript/Dockerfile",
            "content": "FROM debian:bullseye-slim\n\nRUN apt-get update \\\n    && apt-get install -y wget build-essential \\\n    && wget https://github.com/ArtifexSoftware/ghostpdl-downloads/releases/download/gs924/ghostscript-9.24.tar.gz \\\n    && tar -xzf ghostscript-9.24.tar.gz \\\n    && cd ghostscript-9.24 \\\n    && ./configure \\\n    && make \\\n    && make install \\\n    && apt-get clean \\\n    && rm -rf /var/lib/apt/lists/* /ghostscript-9.24 /ghostscript-9.24.tar.gz\n\nCOPY test.eps /test.eps\nCMD [\"gs\", \"-dSAFER\", \"-dNOPAUSE\", \"-dBATCH\", \"-sDEVICE=pngalpha\", \"-sOutputFile=/output/output.png\", \"/test.eps\"]"
        },
        {
            "location": "./../../dockers/CVE-2018-16509/custom_no_tool/ghostscript/test.eps",
            "content": "%!PS\n% This is a simple EPS file that does not use restricted operations.\nnewpath\n100 100 moveto\n200 200 lineto\nstroke\nshowpage\n"
        },
        {
            "location": "./../../dockers/CVE-2018-16509/custom_no_tool/python/Dockerfile",
            "content": "FROM python:3.7-slim\n\nRUN pip install --no-cache-dir Pillow\n\nCOPY script.py /script.py\nCOPY ../ghostscript/test.eps /test.eps\nCMD [\"python\", \"/script.py\"]"
        },
        {
            "location": "./../../dockers/CVE-2018-16509/custom_no_tool/python/script.py",
            "content": "from PIL import Image\n\n# Open the EPS file and convert it to PNG\nwith Image.open('/test.eps') as img:\n    img.save('/output/output.png', 'PNG')\n"
        },
        {
            "location": "./../../dockers/CVE-2018-16509/custom_no_tool/imagemagick/Dockerfile",
            "content": "FROM ubuntu:18.04\n\nRUN apt-get update \\\n    && apt-get install -y imagemagick ghostscript \\\n    && apt-get clean \\\n    && rm -rf /var/lib/apt/lists/*\n\nCOPY ../ghostscript/test.eps /test.eps\nCMD [\"convert\", \"/test.eps\", \"/output/output.png\"]"
        }
    ],
    "directory_tree": "CVE-2018-16509/\n\u251c\u2500\u2500 custom_no_tool/\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u251c\u2500\u2500 ghostscript/\n\u2502   \u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u2502   \u2514\u2500\u2500 test.eps\n\u2502   \u251c\u2500\u2500 imagemagick/\n\u2502   \u2502   \u2514\u2500\u2500 Dockerfile\n\u2502   \u2514\u2500\u2500 python/\n\u2502       \u251c\u2500\u2500 Dockerfile\n\u2502       \u2514\u2500\u2500 script.py\n\u2514\u2500\u2500 output/ # Ensure this directory exists"
}