FROM debian:bullseye-slim

COPY ./ColdFusion_9_WWE_linux64.bin ./

RUN apt-get update && \
    apt-get install -y wget unzip openjdk-11-jdk && \
    chmod +x ColdFusion_9_WWE_linux64.bin && \
    ./ColdFusion_9_WWE_linux64.bin -f installer.properties && \
    rm ColdFusion_9_WWE_linux64.bin

COPY ./CFIDE /opt/coldfusion9/CFIDE

CMD ["/opt/coldfusion9/bin/coldfusion", "start"]
