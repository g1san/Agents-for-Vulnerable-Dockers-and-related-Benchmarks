{
    "files": [
        {
            "location": "./../../dockers/CVE-2019-11581/custom_no_tool/docker-compose.yml",
            "content": "services:\n  jira:\n    build: ./jira\n    container_name: jira\n    ports:\n      - \"8080:8080\"\n    environment:\n      - ATL_JDBC_URL=jdbc:postgresql://postgres:5432/jiradb\n      - ATL_JDBC_USER=jira\n      - ATL_JDBC_PASSWORD=jira\n      - ATL_DB_TYPE=postgres72\n      - ATL_PROXY_NAME=localhost\n      - ATL_PROXY_PORT=8080\n      - ATL_TOMCAT_PORT=8080\n    depends_on:\n      - postgres\n    volumes:\n      - jira_data:/var/atlassian/application-data/jira\n\n  postgres:\n    image: postgres:11\n    container_name: postgres\n    environment:\n      POSTGRES_USER: jira\n      POSTGRES_PASSWORD: jira\n      POSTGRES_DB: jiradb\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  smtp:\n    image: boky/postfix\n    container_name: smtp\n    environment:\n      MAIL_DOMAIN: example.com\n      SMTP_USER: user:password\n    ports:\n      - \"25:25\"\n\nvolumes:\n  postgres_data:\n    driver: local\n  jira_data:\n    driver: local\n"
        },
        {
            "location": "./../../dockers/CVE-2019-11581/custom_no_tool/init.sql",
            "content": "CREATE TABLE IF NOT EXISTS test_table (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    description TEXT\n);\n\nINSERT INTO test_table (name, description) VALUES\n('Test Entry 1', 'This is a test entry'),\n('Test Entry 2', 'This is another test entry');\n"
        },
        {
            "location": "./../../dockers/CVE-2019-11581/custom_no_tool/Dockerfile",
            "content": "FROM postgres:11\n\nCOPY ./init.sql /docker-entrypoint-initdb.d/\n"
        },
        {
            "location": "./../../dockers/CVE-2019-11581/custom_no_tool/jira/Dockerfile",
            "content": "FROM atlassian/jira-software:7.13.5\n\nUSER root\n\n# Ensure the Jira configuration directory exists and has the correct permissions\nRUN mkdir -p /opt/atlassian/jira/conf/Catalina/localhost \\\n    && chown -R jira:jira /opt/atlassian/jira/conf\n\n# Add execution permission to the entrypoint script\nRUN chmod +x /docker-entrypoint-init.d/jira-entrypoint.sh\n\nUSER jira\n\n# Copy the entrypoint script\nCOPY jira-entrypoint.sh /docker-entrypoint-init.d/jira-entrypoint.sh\n\nENTRYPOINT [\"/docker-entrypoint-init.d/jira-entrypoint.sh\"]\nCMD [\"/entrypoint.sh\", \"-fg\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2019-11581/custom_no_tool/jira/jira-entrypoint.sh",
            "content": "#!/bin/bash\nset -e\n\n# Ensure the Jira configuration directory exists and has the correct permissions\nmkdir -p /opt/atlassian/jira/conf/Catalina/localhost\nchown -R jira:jira /opt/atlassian/jira/conf\n\n# Execute the original entrypoint script\nexec \"$@\"\n"
        }
    ],
    "directory_tree": "CVE-2019-11581/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 Dockerfile\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 init.sql\n    \u2514\u2500\u2500 jira/\n        \u251c\u2500\u2500 Dockerfile\n        \u2514\u2500\u2500 jira-entrypoint.sh\n"
}