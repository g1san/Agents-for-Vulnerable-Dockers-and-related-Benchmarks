services:
  ghostscript:
    build: ./ghostscript
    container_name: ghostscript
    volumes:
      - ./scripts:/scripts
    command: tail -f /dev/null

  imagemagick:
    image: dpokidov/imagemagick:7.0.8-14
    container_name: imagemagick
    volumes:
      - ./scripts:/scripts
    depends_on:
      - ghostscript

  python:
    image: python:3.7
    container_name: python
    volumes:
      - ./scripts:/scripts
    working_dir: /scripts
    depends_on:
      - imagemagick
    command: python script.py
