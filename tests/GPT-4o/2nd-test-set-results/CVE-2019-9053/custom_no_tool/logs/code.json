{
    "files": [
        {
            "location": "./../../dockers/CVE-2019-9053/custom_no_tool/docker-compose.yml",
            "content": "services:\n  cmsms:\n    build: .\n    container_name: cmsms\n    volumes:\n      - ./src:/var/www/html\n    ports:\n      - \"8080:80\"\n    depends_on:\n      - db\n\n  db:\n    image: mysql:5.7\n    container_name: cmsms_db\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpassword\n      MYSQL_DATABASE: cmsms_db\n      MYSQL_USER: cmsms_user\n      MYSQL_PASSWORD: userpassword\n    volumes:\n      - db_data:/var/lib/mysql\n      - ./src/cmsms.sql:/docker-entrypoint-initdb.d/cmsms.sql\n    ports:\n      - \"3306:3306\"\n\nvolumes:\n  db_data:\n"
        },
        {
            "location": "./../../dockers/CVE-2019-9053/custom_no_tool/Dockerfile",
            "content": "FROM php:7.3-apache\n\n# Install necessary extensions and tools\nRUN docker-php-ext-install mysqli pdo pdo_mysql && \\\n    a2enmod rewrite\n\n# Download and install CMS Made Simple version 2.2.9\nRUN curl -o cmsms.tar.gz -L https://downloads.sourceforge.net/project/cmsmadesimple/stable/2.2.9/cmsmadesimple-2.2.9-install.tar.gz && \\\n    file_type=$(file --mime-type -b cmsms.tar.gz) && \\\n    if [ \"$file_type\" = \"application/x-gzip\" ]; then \\\n        tar -xzf cmsms.tar.gz -C /var/www/html --strip-components=1; \\\n    else \\\n        tar -xf cmsms.tar.gz -C /var/www/html --strip-components=1; \\\n    fi && \\\n    rm cmsms.tar.gz\n\n# Copy configuration files\nCOPY ./src/config.php /var/www/html/config.php\n\n# Set permissions\nRUN chown -R www-data:www-data /var/www/html && \\\n    chmod -R 755 /var/www/html\n\n# Expose port 80\nEXPOSE 80\n"
        },
        {
            "location": "./../../dockers/CVE-2019-9053/custom_no_tool/src/index.php",
            "content": "<?php\nphpinfo();\n"
        },
        {
            "location": "./../../dockers/CVE-2019-9053/custom_no_tool/src/config.php",
            "content": "<?php\n// Database configuration\n$host = 'cmsms_db';\n$dbname = 'cmsms_db';\n$username = 'cmsms_user';\n$password = 'userpassword';\n\ntry {\n    $pdo = new PDO(\"mysql:host=$host;dbname=$dbname\", $username, $password);\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\n    echo 'Connection failed: ' . $e->getMessage();\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2019-9053/custom_no_tool/src/cmsms.sql",
            "content": "CREATE TABLE users (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    username VARCHAR(255) NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    email VARCHAR(255) NOT NULL\n);\n\nINSERT INTO users (username, password_hash, email) VALUES ('admin', '5f4dcc3b5aa765d61d8327deb882cf99', 'admin@example.com');\n\nCREATE TABLE news (\n    news_id INT AUTO_INCREMENT PRIMARY KEY,\n    news_title VARCHAR(255) NOT NULL,\n    news_content TEXT NOT NULL\n);\n\nINSERT INTO news (news_title, news_content) VALUES ('Sample News', 'This is a sample news content.');\n"
        }
    ],
    "directory_tree": "CVE-2019-9053/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 Dockerfile\n    \u2514\u2500\u2500 src/\n        \u251c\u2500\u2500 index.php\n        \u251c\u2500\u2500 config.php\n        \u2514\u2500\u2500 cmsms.sql\n"
}