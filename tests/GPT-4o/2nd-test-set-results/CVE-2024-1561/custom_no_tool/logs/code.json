{
    "files": [
        {
            "location": "./../../dockers/CVE-2024-1561/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  gradio:\n    build: ./gradio\n    ports:\n      - \"7860:7860\"\n    environment:\n      - GRADIO_DEBUG=1\n\n  nginx:\n    image: nginx:1.21\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\n    ports:\n      - \"80:80\"\n"
        },
        {
            "location": "./../../dockers/CVE-2024-1561/custom_no_tool/gradio/Dockerfile",
            "content": "# Use Python 3.9 as the base image\nFROM python:3.9\n\n# Set working directory\nWORKDIR /app\n\n# Copy the requirements file and install dependencies\nCOPY requirements.txt ./\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy the Gradio application files\nCOPY . .\n\n# Expose the default Gradio port\nEXPOSE 7860\n\n# Command to run the Gradio application\nCMD [\"python\", \"app.py\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2024-1561/custom_no_tool/gradio/requirements.txt",
            "content": "gradio==4.13.0\nflask\nhuggingface_hub==0.19.3\n"
        },
        {
            "location": "./../../dockers/CVE-2024-1561/custom_no_tool/gradio/app.py",
            "content": "import gradio as gr\nimport os\n\n# Simple Gradio interface to demonstrate the vulnerability\ndef read_file(filename):\n    try:\n        with open(filename, 'r') as file:\n            return file.read()\n    except Exception as e:\n        return str(e)\n\niface = gr.Interface(fn=read_file, inputs=\"text\", outputs=\"text\")\n\niface.launch(share=False)  # Changed to share=False for security\n"
        },
        {
            "location": "./../../dockers/CVE-2024-1561/custom_no_tool/nginx/nginx.conf",
            "content": "events {}\n\nhttp {\n    server {\n        listen 80;\n\n        location / {\n            proxy_pass http://gradio:7860;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n}\n"
        }
    ],
    "directory_tree": "CVE-2024-1561/\n\u251c\u2500\u2500 custom_no_tool/\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u251c\u2500\u2500 gradio/\n\u2502   \u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u2502   \u251c\u2500\u2500 requirements.txt\n\u2502   \u2502   \u2514\u2500\u2500 app.py\n\u2502   \u2514\u2500\u2500 nginx/\n\u2502       \u2514\u2500\u2500 nginx.conf\n"
}