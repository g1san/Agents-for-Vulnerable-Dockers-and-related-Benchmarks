FROM php:7.4-apache

# Install necessary PHP extensions
RUN docker-php-ext-install mysqli

# Download and extract elFinder version 2.1.58
RUN curl -L https://github.com/Studio-42/elFinder/archive/refs/tags/2.1.58.tar.gz | tar xz --strip 1 -C /var/www/html

# Set permissions for elFinder
RUN chown -R www-data:www-data /var/www/html

# Expose the default port
EXPOSE 80

CMD ["apache2-foreground"]
