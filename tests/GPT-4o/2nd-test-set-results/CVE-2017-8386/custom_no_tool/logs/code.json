{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/docker-compose.yml",
            "content": "version: '3.7'\nservices:\n  git:\n    build: ./git\n    ports:\n      - \"22:22\"  # Use default port 22 for Git service\n    networks:\n      - gitnet\n\n  ssh:\n    image: \"rastasheep/ubuntu-sshd:18.04\"\n    container_name: \"openssh-server\"\n    ports:\n      - \"22:22\"  # Use default port 22 for SSH service\n    volumes:\n      - ./ssh/sshd_config:/etc/ssh/sshd_config\n      - ./ssh/authorized_keys:/root/.ssh/authorized_keys\n    command: /usr/sbin/sshd -D\n    depends_on:\n      - git\n    networks:\n      - gitnet\n\nnetworks:\n  gitnet:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/git/Dockerfile",
            "content": "FROM ubuntu:18.04\n\nRUN apt-get update && \\\n    apt-get install -y \\\n    build-essential \\\n    libssl-dev \\\n    zlib1g-dev \\\n    libcurl4-gnutls-dev \\\n    libexpat1-dev \\\n    gettext \\\n    wget \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Install Git version 2.12.2\nRUN cd /usr/src && \\\n    wget https://www.kernel.org/pub/software/scm/git/git-2.12.2.tar.gz && \\\n    tar xzf git-2.12.2.tar.gz && \\\n    cd git-2.12.2 && \\\n    make prefix=/usr/local all && \\\n    make prefix=/usr/local install && \\\n    cd .. && \\\n    rm -rf git-2.12.2 git-2.12.2.tar.gz\n\nRUN apt-get update && \\\n    apt-get install -y openssh-server && \\\n    mkdir /var/run/sshd && \\\n    useradd -m -s /usr/bin/git-shell gituser && \\\n    mkdir -p /home/gituser/.ssh && \\\n    chown -R gituser:gituser /home/gituser/.ssh\n\nCOPY git-shell-commands /home/gituser/git-shell-commands\n\nRUN chown -R gituser:gituser /home/gituser/git-shell-commands && \\\n    chmod +x /home/gituser/git-shell-commands/no-interactive-login\n\nEXPOSE 22\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/git/git-shell-commands/no-interactive-login",
            "content": "#!/bin/sh\necho \"Welcome to the restricted git shell.\"\nexec git-shell -c \"$1\"\n"
        },
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/ssh/sshd_config",
            "content": "Port 22\nPermitRootLogin no\nPasswordAuthentication no\nChallengeResponseAuthentication no\nUsePAM yes\nX11Forwarding no\nAcceptEnv LANG LC_*\nSubsystem sftp /usr/lib/openssh/sftp-server\nPermitTunnel no\nAllowAgentForwarding no\nAllowTcpForwarding no\nPermitTTY yes\nForceCommand /usr/bin/git-shell\n"
        },
        {
            "location": "./../../dockers/CVE-2017-8386/custom_no_tool/ssh/authorized_keys",
            "content": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD3... user@hostname\n"
        }
    ],
    "directory_tree": "CVE-2017-8386/\n\u2514\u2500\u2500 custom_no_tool\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 git\n    \u2502   \u251c\u2500\u2500 Dockerfile\n    \u2502   \u2514\u2500\u2500 git-shell-commands\n    \u2502       \u2514\u2500\u2500 no-interactive-login\n    \u2514\u2500\u2500 ssh\n        \u251c\u2500\u2500 sshd_config\n        \u2514\u2500\u2500 authorized_keys\n"
}