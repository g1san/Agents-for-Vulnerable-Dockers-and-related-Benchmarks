{
    "files": [
        {
            "location": "./../../dockers/CVE-2020-29599/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  imagemagick:\n    build: ./imagemagick\n    container_name: imagemagick_vuln\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./data:/data\n\nnetworks:\n  default:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2020-29599/custom_no_tool/imagemagick/Dockerfile",
            "content": "FROM ubuntu:20.04\n\n# Set non-interactive frontend for apt-get\nENV DEBIAN_FRONTEND=noninteractive\n\n# Install dependencies\nRUN apt-get update && \\\n    apt-get install -y wget build-essential && \\\n    apt-get install -y ghostscript libxml2-dev && \\\n    apt-get clean\n\n# Define ImageMagick version\nENV IMAGEMAGICK_VERSION=6.9.11-39\n\n# Download and install ImageMagick from a reliable mirror\nRUN wget https://legacy.imagemagick.org/download/releases/ImageMagick-${IMAGEMAGICK_VERSION}.tar.gz && \\\n    tar -xzf ImageMagick-${IMAGEMAGICK_VERSION}.tar.gz && \\\n    cd ImageMagick-${IMAGEMAGICK_VERSION} && \\\n    ./configure --prefix=/usr/local && \\\n    make && \\\n    make install && \\\n    ldconfig /usr/local/lib\n\n# Copy test script\nCOPY test.sh /usr/local/bin/test.sh\nRUN chmod +x /usr/local/bin/test.sh\n\n# Expose port\nEXPOSE 80\n\nCMD [\"/usr/local/bin/test.sh\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2020-29599/custom_no_tool/imagemagick/test.sh",
            "content": "#!/bin/bash\n\n# Start a simple HTTP server to interact with ImageMagick\ncd /data\npython3 -m http.server 80 &\n\n# Wait indefinitely\nwhile true; do sleep 1000; done\n"
        },
        {
            "location": "./../../dockers/CVE-2020-29599/custom_no_tool/data/README.md",
            "content": "# Data Directory\n\nThis directory is mounted into the ImageMagick container and can be used to store files for testing purposes.\n"
        }
    ],
    "directory_tree": "CVE-2020-29599/\n\u251c\u2500\u2500 custom_no_tool/\n\u2502   \u251c\u2500\u2500 data/\n\u2502   \u2502   \u2514\u2500\u2500 README.md\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u2514\u2500\u2500 imagemagick/\n\u2502       \u251c\u2500\u2500 Dockerfile\n\u2502       \u2514\u2500\u2500 test.sh"
}