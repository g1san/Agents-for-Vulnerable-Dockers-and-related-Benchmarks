{
    "files": [
        {
            "location": "./../../dockers/CVE-2019-20933/custom_no_tool/docker-compose.yml",
            "content": "version: '3.7'\n\nservices:\n  influxdb:\n    image: influxdb:1.7.5\n    container_name: influxdb_vulnerable\n    ports:\n      - \"8086:8086\"\n    volumes:\n      - influxdb_data:/var/lib/influxdb\n    environment:\n      - INFLUXDB_DB=mydb\n      - INFLUXDB_ADMIN_ENABLED=true\n\nvolumes:\n  influxdb_data:\n    driver: local\n"
        },
        {
            "location": "./../../dockers/CVE-2019-20933/custom_no_tool/init-influxdb.sh",
            "content": "#!/bin/bash\n\nset -e\n\nINFLUXDB_INIT_PORT=\"8086\"\nINFLUXDB_INIT_HOST=\"http://localhost:$INFLUXDB_INIT_PORT\"\n\n# Wait for InfluxDB to start\nuntil curl -s $INFLUXDB_INIT_HOST/ping\n do\n   echo \"Waiting for InfluxDB to be up...\"\n   sleep 2\n done\n\n# Create a test database and insert test data\ncurl -i -XPOST \"$INFLUXDB_INIT_HOST/query\" --data-urlencode \"q=CREATE DATABASE mydb\"\ncurl -i -XPOST \"$INFLUXDB_INIT_HOST/query\" --data-urlencode \"q=CREATE USER admin WITH PASSWORD 'admin' WITH ALL PRIVILEGES\"\ncurl -i -XPOST \"$INFLUXDB_INIT_HOST/query?db=mydb\" --data-urlencode \"q=INSERT cpu,host=serverA,region=us_west value=0.64\"\ncurl -i -XPOST \"$INFLUXDB_INIT_HOST/query?db=mydb\" --data-urlencode \"q=INSERT cpu,host=serverB,region=us_east value=0.82\""
        }
    ],
    "directory_tree": "CVE-2019-20933/\n\u2514\u2500\u2500 custom_no_tool\n    \u251c\u2500\u2500 docker-compose.yml\n    \u2514\u2500\u2500 init-influxdb.sh"
}