{
    "files": [
        {
            "location": "./../../dockers/CVE-2024-27348/custom_no_tool/docker-compose.yml",
            "content": "services:\n  hugegraph-server:\n    build: .\n    container_name: hugegraph-server\n    ports:\n      - \"8080:8080\"\n    environment:\n      - JAVA_HOME=/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64\n    volumes:\n      - hugegraph-data:/var/lib/hugegraph\n    command: sh -c 'while ! nc -z db 3306; do sleep 1; done; ./bin/start-hugegraph.sh'\n    depends_on:\n      - db\n\n  db:\n    image: mysql:5.7\n    container_name: hugegraph-db\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpassword\n      MYSQL_DATABASE: hugegraph\n    volumes:\n      - db-data:/var/lib/mysql\n    ports:\n      - \"3306:3306\"\n\nvolumes:\n  hugegraph-data:\n  db-data:\n"
        },
        {
            "location": "./../../dockers/CVE-2024-27348/custom_no_tool/init.sql",
            "content": "CREATE TABLE IF NOT EXISTS vertices (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    type VARCHAR(255) NOT NULL\n);\n\nINSERT INTO vertices (name, type) VALUES ('Vertex1', 'TypeA');\nINSERT INTO vertices (name, type) VALUES ('Vertex2', 'TypeB');\n"
        },
        {
            "location": "./../../dockers/CVE-2024-27348/custom_no_tool/Dockerfile",
            "content": "# Use an official AdoptOpenJDK runtime as a parent image\nFROM adoptopenjdk:11-jdk-hotspot\n\n# Set the working directory in the container\nWORKDIR /usr/src/app\n\n# Install necessary packages\nRUN apt-get update && apt-get install -y wget netcat && rm -rf /var/lib/apt/lists/*\n\n# Download HugeGraph-Server binary from GitHub releases\nRUN wget https://github.com/apache/incubator-hugegraph/releases/download/v0.11.2/hugegraph-0.11.2.tar.gz \\\n    && tar -xzf hugegraph-0.11.2.tar.gz -C /usr/src/app \\\n    && rm hugegraph-0.11.2.tar.gz\n\n# Set the working directory to HugeGraph-Server\nWORKDIR /usr/src/app/hugegraph-0.11.2\n\n# Expose the port the app runs on\nEXPOSE 8080\n\n# Run the application\nCMD [\"sh\", \"-c\", \"while ! nc -z db 3306; do sleep 1; done; ./bin/start-hugegraph.sh\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2024-27348/custom_no_tool/README.md",
            "content": "# CVE-2024-27348 Vulnerable Environment Setup\n\nThis setup is intended to create a vulnerable environment for testing CVE-2024-27348, affecting Apache HugeGraph-Server.\n\n## Prerequisites\n\n- Docker installed on your machine\n- Docker Compose installed\n\n## Setup Instructions\n\n1. Navigate to the directory containing the `docker-compose.yml` file.\n2. Run the following command to start the services:\n\n   ```bash\n   docker-compose up --build\n   ```\n\n3. The HugeGraph-Server will be accessible at `http://localhost:8080`.\n\n## Notes\n\n- The MySQL database is initialized with a simple table and some test data.\n- The environment is configured to automatically start and be ready for testing the CVE.\n"
        }
    ],
    "directory_tree": "CVE-2024-27348/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 Dockerfile\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 init.sql\n    \u2514\u2500\u2500 README.md"
}