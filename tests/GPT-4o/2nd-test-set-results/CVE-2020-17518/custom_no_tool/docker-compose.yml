services:
  flink:
    image: apache/flink:1.11.2
    container_name: flink
    ports:
      - "8081:8081"
    environment:
      - JOB_MANAGER_RPC_ADDRESS=flink
    command: jobmanager

  taskmanager:
    image: apache/flink:1.11.2
    container_name: taskmanager
    depends_on:
      - flink
    environment:
      - JOB_MANAGER_RPC_ADDRESS=flink
    command: taskmanager

  zookeeper:
    image: zookeeper:3.5.8
    container_name: zookeeper
    ports:
      - "2181:2181"
    environment:
      ZOO_MY_ID: 1
      ZOO_SERVERS: server.1=zookeeper:2888:3888

  jre:
    image: openjdk:8u292-jre
    container_name: jre
    command: tail -f /dev/null
