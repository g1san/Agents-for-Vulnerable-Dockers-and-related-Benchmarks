{
    "files": [
        {
            "location": "./../../dockers/CVE-2024-43441/custom_no_tool/docker-compose.yml",
            "content": "services:\n  hugegraph:\n    build:\n      context: ./hugegraph-server\n      dockerfile: Dockerfile\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      - cassandra\n    environment:\n      - HUGEGRAPH_SERVER_ADDRESS=http://0.0.0.0:8080\n    volumes:\n      - hugegraph-data:/var/lib/hugegraph\n\n  cassandra:\n    image: cassandra:3.11\n    ports:\n      - \"9042:9042\"\n    environment:\n      - CASSANDRA_CLUSTER_NAME=TestCluster\n    volumes:\n      - cassandra-data:/var/lib/cassandra\n    healthcheck:\n      test: [\"CMD\", \"cqlsh\", \"-e\", \"describe keyspaces\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\nvolumes:\n  hugegraph-data:\n  cassandra-data:\n"
        },
        {
            "location": "./../../dockers/CVE-2024-43441/custom_no_tool/init-hugegraph.sh",
            "content": "#!/bin/bash\n\n# Wait for Cassandra to be ready\nuntil cqlsh -e 'describe keyspaces'; do\n  echo \"Waiting for Cassandra to be ready...\"\n  sleep 5\ndone\n\n# Wait for HugeGraph server to be ready\nuntil curl -s http://localhost:8080/graphs; do\n  echo \"Waiting for HugeGraph server to be ready...\"\n  sleep 5\ndone\n\n# Initialize HugeGraph Schema\ncurl -X POST -H \"Content-Type: application/json\" \\\n     -d '{\n            \"name\": \"person\",\n            \"properties\": {\n                \"name\": \"text\",\n                \"age\": \"int\"\n            }\n        }' \\\n     http://localhost:8080/graphs/hugegraph/schema/vertexlabels\n\n# Add sample data\ncurl -X POST -H \"Content-Type: application/json\" \\\n     -d '{\n            \"label\": \"person\",\n            \"properties\": {\n                \"name\": \"John\",\n                \"age\": 30\n            }\n        }' \\\n     http://localhost:8080/graphs/hugegraph/vertices\n\ncurl -X POST -H \"Content-Type: application/json\" \\\n     -d '{\n            \"label\": \"person\",\n            \"properties\": {\n                \"name\": \"Jane\",\n                \"age\": 25\n            }\n        }' \\\n     http://localhost:8080/graphs/hugegraph/vertices\n"
        },
        {
            "location": "./../../dockers/CVE-2024-43441/custom_no_tool/hugegraph-server/Dockerfile",
            "content": "# Use AdoptOpenJDK 8 as the base image\nFROM adoptopenjdk:8-jdk-hotspot\n\n# Set the working directory\nWORKDIR /app\n\n# Copy HugeGraph Server source files\nCOPY . /app\n\n# Ensure start-hugegraph.sh is executable\nRUN chmod +x /app/bin/start-hugegraph.sh\n\n# Ensure hugegraph-server.sh is executable\nRUN chmod +x /app/bin/hugegraph-server.sh\n\n# Copy the hugegraph-server.jar file to the appropriate location\nCOPY hugegraph-server.jar /app/lib/hugegraph-server.jar\n\n# Expose the port HugeGraph server runs on\nEXPOSE 8080\n\n# Start HugeGraph Server\nCMD [\"/app/bin/start-hugegraph.sh\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2024-43441/custom_no_tool/hugegraph-server/bin/start-hugegraph.sh",
            "content": "#!/bin/bash\n\n# Start the HugeGraph server\n./bin/hugegraph-server.sh\n"
        },
        {
            "location": "./../../dockers/CVE-2024-43441/custom_no_tool/hugegraph-server/bin/hugegraph-server.sh",
            "content": "#!/bin/bash\n\n# Start the HugeGraph server\njava -jar /app/lib/hugegraph-server.jar\n"
        }
    ],
    "directory_tree": "CVE-2024-43441/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 init-hugegraph.sh\n    \u2514\u2500\u2500 hugegraph-server/\n        \u251c\u2500\u2500 Dockerfile\n        \u251c\u2500\u2500 hugegraph-server.jar\n        \u2514\u2500\u2500 bin/\n            \u251c\u2500\u2500 start-hugegraph.sh\n            \u2514\u2500\u2500 hugegraph-server.sh\n"
}