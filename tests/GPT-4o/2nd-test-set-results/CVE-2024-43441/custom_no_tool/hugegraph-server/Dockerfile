# Use AdoptOpenJDK 8 as the base image
FROM adoptopenjdk:8-jdk-hotspot

# Set the working directory
WORKDIR /app

# Copy HugeGraph Server source files
COPY . /app

# Ensure start-hugegraph.sh is executable
RUN chmod +x /app/bin/start-hugegraph.sh

# Ensure hugegraph-server.sh is executable
RUN chmod +x /app/bin/hugegraph-server.sh

# Copy the hugegraph-server.jar file to the appropriate location
COPY hugegraph-server.jar /app/lib/hugegraph-server.jar

# Expose the port HugeGraph server runs on
EXPOSE 8080

# Start HugeGraph Server
CMD ["/app/bin/start-hugegraph.sh"]
