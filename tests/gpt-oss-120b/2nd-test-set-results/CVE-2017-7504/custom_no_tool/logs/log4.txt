#1 [internal] load local bake definitions
#1 reading from stdin 1.33kB done
#1 DONE 0.0s

#2 [jboss internal] load build definition from Dockerfile
#2 transferring dockerfile: 881B done
#2 DONE 0.0s

#3 [web internal] load build definition from Dockerfile
#3 transferring dockerfile: 193B done
#3 DONE 0.0s

#4 [web internal] load metadata for docker.io/library/python:3.9-slim
#4 DONE 0.4s

#5 [jboss internal] load metadata for docker.io/library/openjdk:8-jre-slim
#5 DONE 0.4s

#6 [web internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [jboss internal] load .dockerignore
#7 transferring context: 2B done
#7 DONE 0.0s

#8 [web internal] load build context
#8 transferring context: 577B done
#8 DONE 0.0s

#9 [web 1/5] FROM docker.io/library/python:3.9-slim@sha256:545badebace9a958b98d3e272f0f0d46c0a1a389ac77e24c33f2e7b548ce1b6b
#9 resolve docker.io/library/python:3.9-slim@sha256:545badebace9a958b98d3e272f0f0d46c0a1a389ac77e24c33f2e7b548ce1b6b 0.0s done
#9 DONE 0.0s

#10 [web 2/5] WORKDIR /app
#10 CACHED

#11 [jboss 1/4] FROM docker.io/library/openjdk:8-jre-slim@sha256:53186129237fbb8bc0a12dd36da6761f4c7a2a20233c20d4eb0d497e4045a4f5
#11 resolve docker.io/library/openjdk:8-jre-slim@sha256:53186129237fbb8bc0a12dd36da6761f4c7a2a20233c20d4eb0d497e4045a4f5 0.0s done
#11 CACHED

#12 [web 3/5] COPY requirements.txt .
#12 DONE 0.0s

#13 [web 4/5] RUN pip install --no-cache-dir -r requirements.txt
#13 2.093 Collecting Flask>=2.0
#13 2.189   Downloading flask-3.1.2-py3-none-any.whl (103 kB)
#13 2.219      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 103.3/103.3 kB 4.0 MB/s eta 0:00:00
#13 2.278 Collecting pymysql==0.9.3
#13 2.298   Downloading PyMySQL-0.9.3-py2.py3-none-any.whl (47 kB)
#13 2.303      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 47.7/47.7 kB 15.0 MB/s eta 0:00:00
#13 2.345 Collecting itsdangerous>=2.2.0
#13 2.364   Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
#13 2.397 Collecting blinker>=1.9.0
#13 2.413   Downloading blinker-1.9.0-py3-none-any.whl (8.5 kB)
#13 2.457 Collecting jinja2>=3.1.2
#13 2.476   Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
#13 2.499      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.9/134.9 kB 7.0 MB/s eta 0:00:00
#13 2.562 Collecting werkzeug>=3.1.0
#13 2.583   Downloading werkzeug-3.1.3-py3-none-any.whl (224 kB)
#13 2.624      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 224.5/224.5 kB 6.7 MB/s eta 0:00:00
#13 2.721 Collecting importlib-metadata>=3.6.0
#13 2.738   Downloading importlib_metadata-8.7.0-py3-none-any.whl (27 kB)
#13 2.787 Collecting click>=8.1.3
#13 2.806   Downloading click-8.1.8-py3-none-any.whl (98 kB)
#13 2.816      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.2/98.2 kB 12.7 MB/s eta 0:00:00
#13 3.007 Collecting markupsafe>=2.1.1
#13 3.027   Downloading markupsafe-3.0.3-cp39-cp39-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (20 kB)
#13 3.107 Collecting zipp>=3.20
#13 3.132   Downloading zipp-3.23.0-py3-none-any.whl (10 kB)
#13 3.314 Installing collected packages: pymysql, zipp, markupsafe, itsdangerous, click, blinker, werkzeug, jinja2, importlib-metadata, Flask
#13 3.817 Successfully installed Flask-3.1.2 blinker-1.9.0 click-8.1.8 importlib-metadata-8.7.0 itsdangerous-2.2.0 jinja2-3.1.6 markupsafe-3.0.3 pymysql-0.9.3 werkzeug-3.1.3 zipp-3.23.0
#13 3.818 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#13 3.959 
#13 3.959 [notice] A new release of pip is available: 23.0.1 -> 25.3
#13 3.959 [notice] To update, run: pip install --upgrade pip
#13 DONE 6.2s

#14 [jboss 2/4] RUN apt-get update && apt-get install -y curl unzip ca-certificates && rm -rf /var/lib/apt/lists/*
#14 0.397 Get:1 http://deb.debian.org/debian bullseye InRelease [75.1 kB]
#14 0.437 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
#14 0.465 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.0 kB]
#14 0.543 Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
#14 2.228 Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [420 kB]
#14 2.287 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#14 3.121 Fetched 8652 kB in 3s (3075 kB/s)
#14 3.121 Reading package lists...
#14 3.633 Reading package lists...
#14 4.083 Building dependency tree...
#14 5.781 Reading state information...
#14 5.889 ca-certificates is already the newest version (20210119).
#14 5.889 The following additional packages will be installed:
#14 5.890   libbrotli1 libcurl4 libldap-2.4-2 libldap-common libnghttp2-14 libpsl5
#14 5.890   librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libssh2-1
#14 5.891   publicsuffix
#14 5.893 Suggested packages:
#14 5.893   libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal
#14 5.893   libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql zip
#14 6.109 The following NEW packages will be installed:
#14 6.110   curl libbrotli1 libcurl4 libldap-2.4-2 libldap-common libnghttp2-14 libpsl5
#14 6.110   librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libssh2-1
#14 6.111   publicsuffix unzip
#14 6.201 0 upgraded, 14 newly installed, 0 to remove and 46 not upgraded.
#14 6.201 Need to get 2154 kB of archives.
#14 6.201 After this operation, 4763 kB of additional disk space will be used.
#14 6.201 Get:1 http://deb.debian.org/debian bullseye/main amd64 libbrotli1 amd64 1.0.9-2+b2 [279 kB]
#14 6.266 Get:2 http://deb.debian.org/debian bullseye/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-2.1+deb11u1 [69.1 kB]
#14 6.272 Get:3 http://deb.debian.org/debian bullseye/main amd64 libsasl2-2 amd64 2.1.27+dfsg-2.1+deb11u1 [106 kB]
#14 6.287 Get:4 http://deb.debian.org/debian bullseye/main amd64 libldap-2.4-2 amd64 2.4.57+dfsg-3+deb11u1 [232 kB]
#14 6.313 Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 libnghttp2-14 amd64 1.43.0-1+deb11u2 [77.0 kB]
#14 6.319 Get:6 http://deb.debian.org/debian bullseye/main amd64 libpsl5 amd64 0.21.0-1.2 [57.3 kB]
#14 6.322 Get:7 http://deb.debian.org/debian bullseye/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]
#14 6.332 Get:8 http://deb.debian.org/debian bullseye/main amd64 libssh2-1 amd64 1.9.0-2+deb11u1 [156 kB]
#14 6.364 Get:9 http://deb.debian.org/debian-security bullseye-security/main amd64 libcurl4 amd64 7.74.0-1.3+deb11u15 [347 kB]
#14 6.391 Get:10 http://deb.debian.org/debian-security bullseye-security/main amd64 curl amd64 7.74.0-1.3+deb11u15 [272 kB]
#14 6.414 Get:11 http://deb.debian.org/debian bullseye/main amd64 libldap-common all 2.4.57+dfsg-3+deb11u1 [95.8 kB]
#14 6.420 Get:12 http://deb.debian.org/debian bullseye/main amd64 libsasl2-modules amd64 2.1.27+dfsg-2.1+deb11u1 [104 kB]
#14 6.429 Get:13 http://deb.debian.org/debian bullseye/main amd64 publicsuffix all 20220811.1734-0+deb11u1 [127 kB]
#14 6.442 Get:14 http://deb.debian.org/debian bullseye/main amd64 unzip amd64 6.0-26+deb11u1 [172 kB]
#14 ...

#15 [web 5/5] COPY . .
#15 DONE 0.4s

#16 [web] exporting to image
#16 exporting layers
#16 exporting layers 1.3s done
#16 exporting manifest sha256:6b8b3ad2022bfd0617300963e9b3084eede75ef3bab9893ada55fcd374278681 0.1s done
#16 exporting config sha256:f4ba6daec29479fece77fcbcb662757a9fac99efa8e13ce58e76475183dee353
#16 exporting config sha256:f4ba6daec29479fece77fcbcb662757a9fac99efa8e13ce58e76475183dee353 0.1s done
#16 exporting attestation manifest sha256:63e4e66cfb4bf9a6a77116788ae8e856db5e390079b09f411293801ef21c9bf5
#16 exporting attestation manifest sha256:63e4e66cfb4bf9a6a77116788ae8e856db5e390079b09f411293801ef21c9bf5 0.2s done
#16 exporting manifest list sha256:774aa37b40fde14c4bc3d14ff437630c667031a906831d24fe36fab6622f0795
#16 exporting manifest list sha256:774aa37b40fde14c4bc3d14ff437630c667031a906831d24fe36fab6622f0795 0.1s done
#16 naming to docker.io/library/custom_no_tool-web:latest 0.0s done
#16 unpacking to docker.io/library/custom_no_tool-web:latest
#16 unpacking to docker.io/library/custom_no_tool-web:latest 0.6s done
#16 DONE 2.5s

#14 [jboss 2/4] RUN apt-get update && apt-get install -y curl unzip ca-certificates && rm -rf /var/lib/apt/lists/*
#14 6.721 debconf: delaying package configuration, since apt-utils is not installed
#14 6.761 Fetched 2154 kB in 0s (6378 kB/s)
#14 6.921 Selecting previously unselected package libbrotli1:amd64.
#14 6.921 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 7071 files and directories currently installed.)
#14 6.927 Preparing to unpack .../00-libbrotli1_1.0.9-2+b2_amd64.deb ...
#14 7.007 Unpacking libbrotli1:amd64 (1.0.9-2+b2) ...
#14 7.227 Selecting previously unselected package libsasl2-modules-db:amd64.
#14 7.228 Preparing to unpack .../01-libsasl2-modules-db_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...
#14 7.245 Unpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-2.1+deb11u1) ...
#14 7.462 Selecting previously unselected package libsasl2-2:amd64.
#14 7.463 Preparing to unpack .../02-libsasl2-2_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...
#14 7.511 Unpacking libsasl2-2:amd64 (2.1.27+dfsg-2.1+deb11u1) ...
#14 7.955 Selecting previously unselected package libldap-2.4-2:amd64.
#14 7.956 Preparing to unpack .../03-libldap-2.4-2_2.4.57+dfsg-3+deb11u1_amd64.deb ...
#14 7.988 Unpacking libldap-2.4-2:amd64 (2.4.57+dfsg-3+deb11u1) ...
#14 8.229 Selecting previously unselected package libnghttp2-14:amd64.
#14 8.230 Preparing to unpack .../04-libnghttp2-14_1.43.0-1+deb11u2_amd64.deb ...
#14 8.266 Unpacking libnghttp2-14:amd64 (1.43.0-1+deb11u2) ...
#14 8.542 Selecting previously unselected package libpsl5:amd64.
#14 8.543 Preparing to unpack .../05-libpsl5_0.21.0-1.2_amd64.deb ...
#14 8.576 Unpacking libpsl5:amd64 (0.21.0-1.2) ...
#14 8.786 Selecting previously unselected package librtmp1:amd64.
#14 8.787 Preparing to unpack .../06-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...
#14 8.821 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#14 9.182 Selecting previously unselected package libssh2-1:amd64.
#14 9.184 Preparing to unpack .../07-libssh2-1_1.9.0-2+deb11u1_amd64.deb ...
#14 9.221 Unpacking libssh2-1:amd64 (1.9.0-2+deb11u1) ...
#14 9.512 Selecting previously unselected package libcurl4:amd64.
#14 9.513 Preparing to unpack .../08-libcurl4_7.74.0-1.3+deb11u15_amd64.deb ...
#14 9.553 Unpacking libcurl4:amd64 (7.74.0-1.3+deb11u15) ...
#14 9.817 Selecting previously unselected package curl.
#14 ...

#17 [web] resolving provenance for metadata file
#17 DONE 0.0s

#14 [jboss 2/4] RUN apt-get update && apt-get install -y curl unzip ca-certificates && rm -rf /var/lib/apt/lists/*
#14 9.818 Preparing to unpack .../09-curl_7.74.0-1.3+deb11u15_amd64.deb ...
#14 9.861 Unpacking curl (7.74.0-1.3+deb11u15) ...
#14 10.12 Selecting previously unselected package libldap-common.
#14 10.12 Preparing to unpack .../10-libldap-common_2.4.57+dfsg-3+deb11u1_all.deb ...
#14 10.15 Unpacking libldap-common (2.4.57+dfsg-3+deb11u1) ...
#14 10.32 Selecting previously unselected package libsasl2-modules:amd64.
#14 10.32 Preparing to unpack .../11-libsasl2-modules_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...
#14 10.35 Unpacking libsasl2-modules:amd64 (2.1.27+dfsg-2.1+deb11u1) ...
#14 10.48 Selecting previously unselected package publicsuffix.
#14 10.48 Preparing to unpack .../12-publicsuffix_20220811.1734-0+deb11u1_all.deb ...
#14 10.50 Unpacking publicsuffix (20220811.1734-0+deb11u1) ...
#14 10.67 Selecting previously unselected package unzip.
#14 10.67 Preparing to unpack .../13-unzip_6.0-26+deb11u1_amd64.deb ...
#14 10.70 Unpacking unzip (6.0-26+deb11u1) ...
#14 10.86 Setting up libpsl5:amd64 (0.21.0-1.2) ...
#14 10.94 Setting up unzip (6.0-26+deb11u1) ...
#14 11.00 Setting up libbrotli1:amd64 (1.0.9-2+b2) ...
#14 11.07 Setting up libsasl2-modules:amd64 (2.1.27+dfsg-2.1+deb11u1) ...
#14 11.15 Setting up libnghttp2-14:amd64 (1.43.0-1+deb11u2) ...
#14 11.22 Setting up libldap-common (2.4.57+dfsg-3+deb11u1) ...
#14 11.29 Setting up libsasl2-modules-db:amd64 (2.1.27+dfsg-2.1+deb11u1) ...
#14 11.35 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#14 11.41 Setting up libsasl2-2:amd64 (2.1.27+dfsg-2.1+deb11u1) ...
#14 11.46 Setting up libssh2-1:amd64 (1.9.0-2+deb11u1) ...
#14 11.52 Setting up publicsuffix (20220811.1734-0+deb11u1) ...
#14 11.57 Setting up libldap-2.4-2:amd64 (2.4.57+dfsg-3+deb11u1) ...
#14 11.63 Setting up libcurl4:amd64 (7.74.0-1.3+deb11u15) ...
#14 11.68 Setting up curl (7.74.0-1.3+deb11u15) ...
#14 11.74 Processing triggers for libc-bin (2.31-13+deb11u3) ...
#14 DONE 13.3s

#18 [jboss 3/4] RUN curl -L -o /tmp/jboss.zip https://download.jboss.org/jbossas/4.2.3/jboss-4.2.3.GA.zip     && unzip /tmp/jboss.zip -d /opt/     && mv /opt/jboss-4.2.3.GA /opt/jbossas     && rm /tmp/jboss.zip     && chmod +x /opt/jbossas/bin/run.sh
#18 0.603   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
#18 0.603                                  Dload  Upload   Total   Spent    Left  Speed
#18 0.603 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0   196    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100   196  100   196    0     0    256      0 --:--:-- --:--:-- --:--:--   255
#18 1.374 Archive:  /tmp/jboss.zip
#18 1.374   End-of-central-directory signature not found.  Either this file is not
#18 1.374   a zipfile, or it constitutes one disk of a multi-part archive.  In the
#18 1.374   latter case the central directory and zipfile comment will be found on
#18 1.374   the last disk(s) of this archive.
#18 1.374 unzip:  cannot find zipfile directory in one of /tmp/jboss.zip or
#18 1.374         /tmp/jboss.zip.zip, and cannot find /tmp/jboss.zip.ZIP, period.
#18 ERROR: process "/bin/sh -c curl -L -o /tmp/jboss.zip https://download.jboss.org/jbossas/4.2.3/jboss-4.2.3.GA.zip     && unzip /tmp/jboss.zip -d /opt/     && mv /opt/jboss-4.2.3.GA $JBOSS_HOME     && rm /tmp/jboss.zip     && chmod +x $JBOSS_HOME/bin/run.sh" did not complete successfully: exit code: 9
------
 > [jboss 3/4] RUN curl -L -o /tmp/jboss.zip https://download.jboss.org/jbossas/4.2.3/jboss-4.2.3.GA.zip     && unzip /tmp/jboss.zip -d /opt/     && mv /opt/jboss-4.2.3.GA /opt/jbossas     && rm /tmp/jboss.zip     && chmod +x /opt/jbossas/bin/run.sh:

100   196  100   196    0     0    256      0 --:--:-- --:--:-- --:--:--   255
1.374 Archive:  /tmp/jboss.zip
1.374   End-of-central-directory signature not found.  Either this file is not
1.374   a zipfile, or it constitutes one disk of a multi-part archive.  In the
1.374   latter case the central directory and zipfile comment will be found on
1.374   the last disk(s) of this archive.
1.374 unzip:  cannot find zipfile directory in one of /tmp/jboss.zip or
1.374         /tmp/jboss.zip.zip, and cannot find /tmp/jboss.zip.ZIP, period.
------
Dockerfile:11

--------------------

  10 |     # Download JBoss AS 4.2.3 from the official JBoss archive, unpack and set up

  11 | >>> RUN curl -L -o /tmp/jboss.zip https://download.jboss.org/jbossas/4.2.3/jboss-4.2.3.GA.zip \

  12 | >>>     && unzip /tmp/jboss.zip -d /opt/ \

  13 | >>>     && mv /opt/jboss-4.2.3.GA $JBOSS_HOME \

  14 | >>>     && rm /tmp/jboss.zip \

  15 | >>>     && chmod +x $JBOSS_HOME/bin/run.sh

  16 |     

--------------------

target jboss: failed to solve: process "/bin/sh -c curl -L -o /tmp/jboss.zip https://download.jboss.org/jbossas/4.2.3/jboss-4.2.3.GA.zip     && unzip /tmp/jboss.zip -d /opt/     && mv /opt/jboss-4.2.3.GA $JBOSS_HOME     && rm /tmp/jboss.zip     && chmod +x $JBOSS_HOME/bin/run.sh" did not complete successfully: exit code: 9

