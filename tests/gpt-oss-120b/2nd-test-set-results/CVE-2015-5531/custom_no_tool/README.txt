This Docker Compose configuration sets up two services needed to reproduce CVE-2015-5531:

1. **Docker-in-Docker (DinD)** – Runs Docker Engine version 23.0 inside a privileged container. The Docker daemon is exposed on host port 2375 without TLS for easy interaction. You can connect to it with any Docker client, e.g., `docker -H tcp://localhost:2375 ps`.

2. **Elasticsearch** – Uses a custom‑built Elasticsearch 1.5.4 image that includes the required Java 8 runtime, necessary system utilities (procps, locales) and proper locale configuration. The service listens on the default HTTP port 9200, which is mapped to the host.

Both services are started on the same Docker network automatically created by Docker Compose, so no manual linking is required. To launch the environment, simply run:

    docker compose up -d

The stack will start the DinD container and the Elasticsearch container. Once the Elasticsearch healthcheck reports `healthy`, you can test the vulnerability against the Elasticsearch instance (e.g., using `curl` against `http://localhost:9200`). No additional configuration or manual steps are needed.