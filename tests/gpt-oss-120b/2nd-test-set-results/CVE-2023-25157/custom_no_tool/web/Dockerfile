FROM php:8.2-apache

ENV DEBIAN_FRONTEND=noninteractive

COPY index.php /var/www/html/

RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        build-essential \
        libpq-dev \
        postgresql-client && \
    docker-php-ext-install -j$(nproc) pgsql pdo_pgsql && \
    docker-php-ext-enable pgsql pdo_pgsql && \
    apt-get clean && rm -rf /var/lib/apt/lists/*
