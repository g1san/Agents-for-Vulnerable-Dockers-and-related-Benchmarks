#1 [internal] load local bake definitions
#1 reading from stdin 703B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 30B
#2 transferring dockerfile: 825B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.9-slim
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 973B done
#5 DONE 0.0s

#6 [1/6] FROM docker.io/library/python:3.9-slim@sha256:545badebace9a958b98d3e272f0f0d46c0a1a389ac77e24c33f2e7b548ce1b6b
#6 resolve docker.io/library/python:3.9-slim@sha256:545badebace9a958b98d3e272f0f0d46c0a1a389ac77e24c33f2e7b548ce1b6b 0.0s done
#6 DONE 0.0s

#7 [2/6] RUN python -m pip install --upgrade "pip==20.3.4"
#7 CACHED

#8 [3/6] RUN pip install Flask==2.2.5 mysql-connector-python==8.0.33 Pillow==9.5.0
#8 CACHED

#9 [4/6] RUN echo "deb [trusted=yes] http://snapshot.debian.org/archive/debian/20210201T000000Z stretch main" > /etc/apt/sources.list.d/snapshot.list &&     apt-get update -o Acquire::Check-Valid-Until=false &&     apt-get install -y --no-install-recommends ghostscript=9.23* libgs9-common=9.23* &&     rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/snapshot.list
#9 0.248 Hit:1 http://deb.debian.org/debian trixie InRelease
#9 0.248 Get:2 http://deb.debian.org/debian trixie-updates InRelease [47.3 kB]
#9 0.253 Get:3 http://deb.debian.org/debian-security trixie-security InRelease [43.4 kB]
#9 0.265 Get:4 http://deb.debian.org/debian trixie/main amd64 Packages [9669 kB]
#9 0.725 Get:5 http://deb.debian.org/debian trixie-updates/main amd64 Packages [5412 B]
#9 0.725 Get:6 http://deb.debian.org/debian-security trixie-security/main amd64 Packages [69.0 kB]
#9 5.316 Ign:7 http://snapshot.debian.org/archive/debian/20210201T000000Z stretch InRelease
#9 5.585 Get:8 http://snapshot.debian.org/archive/debian/20210201T000000Z stretch Release [118 kB]
#9 5.906 Get:9 http://snapshot.debian.org/archive/debian/20210201T000000Z stretch Release.gpg [2410 B]
#9 5.919 Ign:9 http://snapshot.debian.org/archive/debian/20210201T000000Z stretch Release.gpg
#9 6.123 Get:10 http://snapshot.debian.org/archive/debian/20210201T000000Z stretch/main amd64 Packages [7080 kB]
#9 7.017 Fetched 17.0 MB in 7s (2497 kB/s)
#9 7.017 Reading package lists...
#9 7.803 W: OpenPGP signature verification failed: http://snapshot.debian.org/archive/debian/20210201T000000Z stretch Release: Sub-process /usr/bin/sqv returned an error code (1), error message is: Missing key 126C0D24BD8A2942CC7DF8AC7638D0442B90D010, which is needed to verify signature. Missing key 16E90B3FDF65EDE3AA7F323C04EE7237B7D453EC, which is needed to verify signature. Missing key 067E3C456BAE240ACEE88F6FEF0F382A1A7B6500, which is needed to verify signature.
#9 7.812 Reading package lists...
#9 8.629 Building dependency tree...
#9 8.826 Reading state information...
#9 8.848 Package ghostscript is not available, but is referred to by another package.
#9 8.848 This may mean that the package is missing, has been obsoleted, or
#9 8.848 is only available from another source
#9 8.848 However the following packages replace it:
#9 8.848   manpages-de
#9 8.848 
#9 8.848 Package libgs9-common is not available, but is referred to by another package.
#9 8.848 This may mean that the package is missing, has been obsoleted, or
#9 8.848 is only available from another source
#9 8.848 However the following packages replace it:
#9 8.848   libgs-common
#9 8.848 
#9 8.852 E: Version '9.23*' for 'ghostscript' was not found
#9 8.852 E: Version '9.23*' for 'libgs9-common' was not found
#9 ERROR: process "/bin/sh -c echo \"deb [trusted=yes] http://snapshot.debian.org/archive/debian/20210201T000000Z stretch main\" > /etc/apt/sources.list.d/snapshot.list &&     apt-get update -o Acquire::Check-Valid-Until=false &&     apt-get install -y --no-install-recommends ghostscript=9.23* libgs9-common=9.23* &&     rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/snapshot.list" did not complete successfully: exit code: 100
------
 > [4/6] RUN echo "deb [trusted=yes] http://snapshot.debian.org/archive/debian/20210201T000000Z stretch main" > /etc/apt/sources.list.d/snapshot.list &&     apt-get update -o Acquire::Check-Valid-Until=false &&     apt-get install -y --no-install-recommends ghostscript=9.23* libgs9-common=9.23* &&     rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/snapshot.list:
8.848   manpages-de
8.848 
8.848 Package libgs9-common is not available, but is referred to by another package.
8.848 This may mean that the package is missing, has been obsoleted, or
8.848 is only available from another source
8.848 However the following packages replace it:
8.848   libgs-common
8.848 
8.852 E: Version '9.23*' for 'ghostscript' was not found
8.852 E: Version '9.23*' for 'libgs9-common' was not found
------
Dockerfile:10

--------------------

   9 |     # Install vulnerable Ghostscript 9.23 from a Debian stretch snapshot using a wildcard version selector

  10 | >>> RUN echo "deb [trusted=yes] http://snapshot.debian.org/archive/debian/20210201T000000Z stretch main" > /etc/apt/sources.list.d/snapshot.list && \

  11 | >>>     apt-get update -o Acquire::Check-Valid-Until=false && \

  12 | >>>     apt-get install -y --no-install-recommends ghostscript=9.23* libgs9-common=9.23* && \

  13 | >>>     rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/snapshot.list

  14 |     

--------------------

failed to solve: process "/bin/sh -c echo \"deb [trusted=yes] http://snapshot.debian.org/archive/debian/20210201T000000Z stretch main\" > /etc/apt/sources.list.d/snapshot.list &&     apt-get update -o Acquire::Check-Valid-Until=false &&     apt-get install -y --no-install-recommends ghostscript=9.23* libgs9-common=9.23* &&     rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/snapshot.list" did not complete successfully: exit code: 100

