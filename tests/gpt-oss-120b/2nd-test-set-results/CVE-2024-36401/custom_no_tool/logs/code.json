{
    "files": [
        {
            "location": "./../../dockers/CVE-2024-36401/custom_no_tool/docker-compose.yml",
            "content": "services:\n  vulnerable-redis:\n    image: redis:6.2.5\n    ports:\n      - \"6379:6379\"\n    command: [\"redis-server\", \"--requirepass\", \"weakpass\"]\n\n  hardened-geoserver:\n    build: ./geoserver\n    ports:\n      - \"8081:8080\"\n    environment:\n      - GEOSERVER_ADMIN_PASSWORD=admin\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080/geoserver/web\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\n  vulnerable-app:\n    build: ./app\n    depends_on:\n      - vulnerable-redis\n      - hardened-geoserver\n    ports:\n      - \"8080:8080\"\n    environment:\n      - REDIS_HOST=vulnerable-redis\n      - REDIS_PORT=6379\n      - REDIS_PASS=weakpass\n      - GEOSERVER_HOST=hardened-geoserver\n      - GEOSERVER_PORT=8080\n      - GEOSERVER_USER=admin\n      - GEOSERVER_PASS=admin"
        },
        {
            "location": "./../../dockers/CVE-2024-36401/custom_no_tool/geoserver/Dockerfile",
            "content": "FROM kartoza/geoserver:2.25.2\n\n# Switch to root to install additional packages\nUSER root\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends curl && \\\n    rm -rf /var/lib/apt/lists/* && \\\n    curl --version\n\n# Revert to the default GeoServer user (jetty)\nUSER jetty"
        },
        {
            "location": "./../../dockers/CVE-2024-36401/custom_no_tool/app/Dockerfile",
            "content": "FROM python:3.10-slim\n\nWORKDIR /app\n\n# Copy application source code\nCOPY . /app\n\n# Install system utilities and Python dependencies\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends curl && \\\n    rm -rf /var/lib/apt/lists/* && \\\n    pip install --upgrade pip && \\\n    if [ -f requirements.txt ]; then pip install --no-cache-dir -r requirements.txt; fi\n\n# Default command (adjust as needed for your application)\nCMD [\"python\", \"app.py\"]"
        }
    ],
    "directory_tree": "CVE-2024-36401/custom_no_tool"
}