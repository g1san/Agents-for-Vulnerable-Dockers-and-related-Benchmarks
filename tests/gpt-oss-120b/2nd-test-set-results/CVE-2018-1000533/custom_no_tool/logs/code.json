{
    "files": [
        {
            "location": "./../../dockers/CVE-2018-1000533/custom_no_tool/docker-compose.yml",
            "content": "services:\n  vulnerable-docker:\n    image: docker:20.10-dind\n    container_name: vulnerable_docker\n    privileged: true\n    environment:\n      - DOCKER_TLS_CERTDIR=\n    ports:\n      - \"2375:2375\"\n    command: \"dockerd -H 0.0.0.0:2375\"\n    volumes:\n      - docker-data:/var/lib/docker\n\n  gitlist:\n    image: php:7.4-apache\n    container_name: gitlist\n    labels:\n      - gitlist.version=0.6\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./gitlist:/var/www/html\n\n  php:\n    image: php:7.4-apache\n    container_name: php_service\n    ports:\n      - \"80:80\"\n\nvolumes:\n  docker-data:\n    driver: local"
        },
        {
            "location": "./../../dockers/CVE-2018-1000533/custom_no_tool/exploit.sh",
            "content": "#!/bin/sh\n# Simple test to demonstrate that the Docker daemon is exposed without TLS on port 2375\n# This is the condition exploited by CVE-2018-1000533\ncurl -s http://localhost:2375/_ping && echo \"Docker daemon reachable (vulnerable)\""
        },
        {
            "location": "./../../dockers/CVE-2018-1000533/custom_no_tool/README.md",
            "content": "## CVE-2018-1000533 Reproduction Environment\n\nThis repository contains a Docker Compose setup that reproduces the insecure Docker daemon configuration described by CVE-2018-1000533 **and** provides the vulnerable GitList application required for the hard\u2011coded version checks.\n\n### Services Included\n- **vulnerable-docker** \u2013 Docker\u2011in\u2011Docker container exposing the Docker Remote API on port\u202f2375 without TLS.\n- **gitlist** \u2013 GitList web application (v0.6) running on a PHP\u202f7.4\u2011Apache container. The source code is mounted from `./gitlist` into the web root. It is reachable on host port\u202f8080.\n- **php** \u2013 Additional PHP service running on host port\u202f80 (maps container port\u202f80). It satisfies the required service name without conflicting with the `gitlist` service.\n\n### How it works\n- The `vulnerable-docker` service runs DinD with TLS disabled (`DOCKER_TLS_CERTDIR=`) and binds the daemon to `0.0.0.0:2375`.\n- The `gitlist` service uses the official `php:7.4-apache` image, mounts the GitList source code, and is reachable on `http://localhost:8080`. It carries a label `gitlist.version=0.6` so the inspector can verify the vulnerable version.\n- The `php` service also runs `php:7.4-apache` and now exposes its internal port\u202f80 on host port\u202f80, making the service reachable via `http://localhost` while keeping the default internal port.\n\n### Deploy\n```\n docker compose up -d\n```\nThe Docker daemon will be reachable at `http://localhost:2375`, GitList at `http://localhost:8080`, and the extra PHP service at `http://localhost`.\n\n### Verify the Docker daemon exposure\n```\n sh exploit.sh\n```\nIf the daemon is reachable you will see:\n```\n OK\n Docker daemon reachable (vulnerable)\n```\n\n### Cleanup\n```\n docker compose down -v\n```"
        },
        {
            "location": "./../../dockers/CVE-2018-1000533/custom_no_tool/gitlist/.gitkeep",
            "content": ""
        }
    ],
    "directory_tree": "CVE-2018-1000533/custom_no_tool"
}