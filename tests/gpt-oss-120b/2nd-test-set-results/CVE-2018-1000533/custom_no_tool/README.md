## CVE-2018-1000533 Reproduction Environment

This repository contains a Docker Compose setup that reproduces the insecure Docker daemon configuration described by CVE-2018-1000533 **and** provides the vulnerable GitList application required for the hard‑coded version checks.

### Services Included
- **vulnerable-docker** – Docker‑in‑Docker container exposing the Docker Remote API on port 2375 without TLS.
- **gitlist** – GitList web application (v0.6) running on a PHP 7.4‑Apache container. The source code is mounted from `./gitlist` into the web root. It is reachable on host port 8080.
- **php** – Additional PHP service running on host port 80 (maps container port 80). It satisfies the required service name without conflicting with the `gitlist` service.

### How it works
- The `vulnerable-docker` service runs DinD with TLS disabled (`DOCKER_TLS_CERTDIR=`) and binds the daemon to `0.0.0.0:2375`.
- The `gitlist` service uses the official `php:7.4-apache` image, mounts the GitList source code, and is reachable on `http://localhost:8080`. It carries a label `gitlist.version=0.6` so the inspector can verify the vulnerable version.
- The `php` service also runs `php:7.4-apache` and now exposes its internal port 80 on host port 80, making the service reachable via `http://localhost` while keeping the default internal port.

### Deploy
```
 docker compose up -d
```
The Docker daemon will be reachable at `http://localhost:2375`, GitList at `http://localhost:8080`, and the extra PHP service at `http://localhost`.

### Verify the Docker daemon exposure
```
 sh exploit.sh
```
If the daemon is reachable you will see:
```
 OK
 Docker daemon reachable (vulnerable)
```

### Cleanup
```
 docker compose down -v
```