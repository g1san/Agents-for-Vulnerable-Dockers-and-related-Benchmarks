FROM docker:20.10.7
RUN apk add --no-cache curl gcc musl-dev
COPY exploit.sh /usr/local/bin/exploit.sh
COPY malicious.c /tmp/malicious.c
RUN gcc -shared -fPIC -o /usr/local/bin/malicious.so /tmp/malicious.c
RUN chmod +x /usr/local/bin/exploit.sh
CMD ["/usr/local/bin/exploit.sh"]