import gradio as gr

with gr.Blocks() as demo:
    gr.Markdown("# Gradio vulnerable demo for CVE‑2023‑51449")
    with gr.Row():
        file_input = gr.File(label="Upload a file")
        gallery = gr.Gallery(label="File preview")
    submit = gr.Button("Submit")
    submit.click(lambda f: f, inputs=file_input, outputs=gallery)

demo.launch(server_name="0.0.0.0", server_port=7860, share=False)