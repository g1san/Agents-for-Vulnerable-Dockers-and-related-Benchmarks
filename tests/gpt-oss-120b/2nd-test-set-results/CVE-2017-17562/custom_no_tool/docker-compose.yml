services:
  goahead:
    build: ./goahead
    ports:
      - "8080:8080"
    environment:
      - CGI_ENABLED=1
    depends_on:
      - alpine
  alpine:
    image: alpine:3.20.0
    command: ["sh", "-c", "while true; do sleep 3600; done"]
  busybox:
    image: busybox:latest
    command: ["sh", "-c", "while true; do sleep 3600; done"]
  client:
    build: ./client
    depends_on:
      - goahead
    environment:
      - TARGET_HOST=goahead
      - TARGET_PORT=8080