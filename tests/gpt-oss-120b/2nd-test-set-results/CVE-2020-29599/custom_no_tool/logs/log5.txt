#1 [internal] load local bake definitions
#1 reading from stdin 751B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 473B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/alpine:3.14
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/4] FROM docker.io/library/alpine:3.14@sha256:0f2d5c38dd7a4f4f733e688e3a6733cb5ab1ac6e3cb4603a5dd564e5bfb80eed
#5 resolve docker.io/library/alpine:3.14@sha256:0f2d5c38dd7a4f4f733e688e3a6733cb5ab1ac6e3cb4603a5dd564e5bfb80eed 0.0s done
#5 CACHED

#6 [internal] load build context
#6 transferring context: 1.18kB done
#6 DONE 0.0s

#7 [2/4] RUN apk add --no-cache curl python3 py3-pip wget &&     apk add --allow-untrusted https://archive.alpinelinux.org/alpine/v3.9/main/x86_64/imagemagick-6.9.9-0.apk &&     pip3 install --no-cache-dir flask
#7 0.192 fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz
#7 0.422 fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz
#7 0.679 (1/46) Installing ca-certificates (20230506-r0)
#7 0.758 (2/46) Installing brotli-libs (1.0.9-r5)
#7 0.812 (3/46) Installing nghttp2-libs (1.43.0-r0)
#7 0.834 (4/46) Installing libcurl (8.0.1-r0)
#7 0.874 (5/46) Installing curl (8.0.1-r0)
#7 0.906 (6/46) Installing libbz2 (1.0.8-r1)
#7 0.927 (7/46) Installing expat (2.5.0-r0)
#7 0.950 (8/46) Installing libffi (3.3-r2)
#7 1.050 (9/46) Installing gdbm (1.19-r0)
#7 1.075 (10/46) Installing xz-libs (5.2.5-r1)
#7 1.100 (11/46) Installing libgcc (10.3.1_git20210424-r2)
#7 1.121 (12/46) Installing libstdc++ (10.3.1_git20210424-r2)
#7 1.208 (13/46) Installing mpdecimal (2.5.1-r1)
#7 1.234 (14/46) Installing ncurses-terminfo-base (6.2_p20210612-r1)
#7 1.262 (15/46) Installing ncurses-libs (6.2_p20210612-r1)
#7 1.304 (16/46) Installing readline (8.1.0-r0)
#7 1.333 (17/46) Installing sqlite-libs (3.35.5-r0)
#7 1.418 (18/46) Installing python3 (3.9.17-r0)
#7 4.681 (19/46) Installing py3-appdirs (1.4.4-r2)
#7 4.700 (20/46) Installing py3-chardet (4.0.0-r2)
#7 4.778 (21/46) Installing py3-idna (3.2-r0)
#7 4.815 (22/46) Installing py3-urllib3 (1.26.5-r0)
#7 4.887 (23/46) Installing py3-certifi (2020.12.5-r1)
#7 4.905 (24/46) Installing py3-requests (2.25.1-r4)
#7 4.951 (25/46) Installing py3-msgpack (1.0.2-r1)
#7 4.983 (26/46) Installing py3-lockfile (0.12.2-r4)
#7 5.003 (27/46) Installing py3-cachecontrol (0.12.6-r1)
#7 5.034 (28/46) Installing py3-colorama (0.4.4-r1)
#7 5.054 (29/46) Installing py3-contextlib2 (0.6.0-r1)
#7 5.071 (30/46) Installing py3-distlib (0.3.1-r3)
#7 5.145 (31/46) Installing py3-distro (1.5.0-r3)
#7 5.169 (32/46) Installing py3-six (1.15.0-r1)
#7 5.196 (33/46) Installing py3-webencodings (0.5.1-r4)
#7 5.226 (34/46) Installing py3-html5lib (1.1-r1)
#7 5.313 (35/46) Installing py3-parsing (2.4.7-r2)
#7 5.364 (36/46) Installing py3-packaging (20.9-r1)
#7 5.392 (37/46) Installing py3-toml (0.10.2-r2)
#7 5.413 (38/46) Installing py3-pep517 (0.10.0-r2)
#7 5.440 (39/46) Installing py3-progress (1.5-r2)
#7 5.460 (40/46) Installing py3-retrying (1.3.3-r1)
#7 5.478 (41/46) Installing py3-ordered-set (4.0.2-r1)
#7 5.500 (42/46) Installing py3-setuptools (52.0.0-r3)
#7 5.687 (43/46) Installing py3-pip (20.3.4-r1)
#7 6.663 (44/46) Installing libunistring (0.9.10-r1)
#7 6.830 (45/46) Installing libidn2 (2.3.1-r0)
#7 6.872 (46/46) Installing wget (1.21.1-r1)
#7 6.941 Executing busybox-1.33.1-r8.trigger
#7 6.946 Executing ca-certificates-20230506-r0.trigger
#7 6.987 OK: 82 MiB in 60 packages
#7 7.026 fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz
#7 7.225 fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz
#7 7.547 ERROR: https://archive.alpinelinux.org/alpine/v3.9/main/x86_64/imagemagick-6.9.9-0.apk: No such file or directory
#7 ERROR: process "/bin/sh -c apk add --no-cache curl python3 py3-pip wget &&     apk add --allow-untrusted https://archive.alpinelinux.org/alpine/v3.9/main/x86_64/imagemagick-6.9.9-0.apk &&     pip3 install --no-cache-dir flask" did not complete successfully: exit code: 99
------
 > [2/4] RUN apk add --no-cache curl python3 py3-pip wget &&     apk add --allow-untrusted https://archive.alpinelinux.org/alpine/v3.9/main/x86_64/imagemagick-6.9.9-0.apk &&     pip3 install --no-cache-dir flask:
5.687 (43/46) Installing py3-pip (20.3.4-r1)
6.663 (44/46) Installing libunistring (0.9.10-r1)
6.830 (45/46) Installing libidn2 (2.3.1-r0)
6.872 (46/46) Installing wget (1.21.1-r1)
6.941 Executing busybox-1.33.1-r8.trigger
6.946 Executing ca-certificates-20230506-r0.trigger
6.987 OK: 82 MiB in 60 packages
7.026 fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz
7.225 fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz
7.547 ERROR: https://archive.alpinelinux.org/alpine/v3.9/main/x86_64/imagemagick-6.9.9-0.apk: No such file or directory
------
Dockerfile:4

--------------------

   3 |     # Install utilities, Python, wget and the vulnerable ImageMagick package directly from the Alpine archive

   4 | >>> RUN apk add --no-cache curl python3 py3-pip wget && \

   5 | >>>     apk add --allow-untrusted https://archive.alpinelinux.org/alpine/v3.9/main/x86_64/imagemagick-6.9.9-0.apk && \

   6 | >>>     pip3 install --no-cache-dir flask

   7 |     

--------------------

failed to solve: process "/bin/sh -c apk add --no-cache curl python3 py3-pip wget &&     apk add --allow-untrusted https://archive.alpinelinux.org/alpine/v3.9/main/x86_64/imagemagick-6.9.9-0.apk &&     pip3 install --no-cache-dir flask" did not complete successfully: exit code: 99

