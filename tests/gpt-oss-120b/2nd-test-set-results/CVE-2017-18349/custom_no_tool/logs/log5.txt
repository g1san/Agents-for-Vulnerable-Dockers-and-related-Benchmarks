#1 [internal] load local bake definitions
#1 reading from stdin 1.42kB done
#1 DONE 0.0s

#2 [fastjson_app internal] load build definition from Dockerfile
#2 transferring dockerfile: 536B done
#2 DONE 0.0s

#3 [vulnerable_app internal] load build definition from Dockerfile
#3 transferring dockerfile: 189B done
#3 DONE 0.0s

#4 [vulnerable_app internal] load metadata for docker.io/library/python:3.8-slim
#4 ...

#5 [fastjson_app internal] load metadata for docker.io/library/tomcat:8.5-alpine
#5 DONE 0.4s

#6 [fastjson_app internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [fastjson_app 1/3] FROM docker.io/library/tomcat:8.5-alpine@sha256:04feaf74f8bb54b43ea136b150bbc7b58e8a3062aead67ab871f2dbbd5dac5d1
#7 resolve docker.io/library/tomcat:8.5-alpine@sha256:04feaf74f8bb54b43ea136b150bbc7b58e8a3062aead67ab871f2dbbd5dac5d1 0.0s done
#7 CACHED

#8 [fastjson_app internal] load build context
#8 transferring context: 877B done
#8 DONE 0.0s

#9 [fastjson_app 2/3] COPY webapp/ /usr/local/tomcat/webapps/fastjson-app/
#9 DONE 0.0s

#10 [fastjson_app 3/3] RUN apk add --no-cache wget &&     wget -q -O /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar https://repo1.maven.org/maven2/com/alibaba/fastjson/fastjson/1.2.24/fastjson-1.2.24.jar &&     rm -rf /var/cache/apk/*
#10 ...

#4 [vulnerable_app internal] load metadata for docker.io/library/python:3.8-slim
#4 DONE 0.7s

#11 [vulnerable_app internal] load .dockerignore
#11 transferring context: 2B done
#11 DONE 0.0s

#12 [vulnerable_app internal] load build context
#12 transferring context: 972B done
#12 DONE 0.0s

#13 [vulnerable_app 1/5] FROM docker.io/library/python:3.8-slim@sha256:1d52838af602b4b5a831beb13a0e4d073280665ea7be7f69ce2382f29c5a613f
#13 resolve docker.io/library/python:3.8-slim@sha256:1d52838af602b4b5a831beb13a0e4d073280665ea7be7f69ce2382f29c5a613f 0.0s done
#13 DONE 0.0s

#14 [vulnerable_app 2/5] WORKDIR /app
#14 CACHED

#15 [vulnerable_app 3/5] COPY requirements.txt .
#15 CACHED

#16 [vulnerable_app 4/5] RUN pip install --no-cache-dir -r requirements.txt
#16 CANCELED

#10 [fastjson_app 3/3] RUN apk add --no-cache wget &&     wget -q -O /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar https://repo1.maven.org/maven2/com/alibaba/fastjson/fastjson/1.2.24/fastjson-1.2.24.jar &&     rm -rf /var/cache/apk/*
#10 0.215 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
#10 0.415 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
#10 0.501 (1/1) Installing wget (1.20.3-r0)
#10 0.529 Executing busybox-1.29.3-r10.trigger
#10 0.535 OK: 94 MiB in 62 packages
#10 0.549 /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar: No such file or directory
#10 ERROR: process "/bin/sh -c apk add --no-cache wget &&     wget -q -O /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar https://repo1.maven.org/maven2/com/alibaba/fastjson/fastjson/1.2.24/fastjson-1.2.24.jar &&     rm -rf /var/cache/apk/*" did not complete successfully: exit code: 1
------
 > [fastjson_app 3/3] RUN apk add --no-cache wget &&     wget -q -O /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar https://repo1.maven.org/maven2/com/alibaba/fastjson/fastjson/1.2.24/fastjson-1.2.24.jar &&     rm -rf /var/cache/apk/*:
0.215 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
0.415 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
0.501 (1/1) Installing wget (1.20.3-r0)
0.529 Executing busybox-1.29.3-r10.trigger
0.535 OK: 94 MiB in 62 packages
0.549 /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar: No such file or directory
------
Dockerfile:5

--------------------

   4 |     # Install wget and download the vulnerable Fastjson JAR into the webapp's WEB-INF/lib directory

   5 | >>> RUN apk add --no-cache wget && \

   6 | >>>     wget -q -O /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar https://repo1.maven.org/maven2/com/alibaba/fastjson/fastjson/1.2.24/fastjson-1.2.24.jar && \

   7 | >>>     rm -rf /var/cache/apk/*

   8 |     EXPOSE 8080

--------------------

target fastjson_app: failed to solve: process "/bin/sh -c apk add --no-cache wget &&     wget -q -O /usr/local/tomcat/webapps/fastjson-app/WEB-INF/lib/fastjson-1.2.24.jar https://repo1.maven.org/maven2/com/alibaba/fastjson/fastjson/1.2.24/fastjson-1.2.24.jar &&     rm -rf /var/cache/apk/*" did not complete successfully: exit code: 1

