{
    "files": [
        {
            "location": "./../../dockers/CVE-2015-5254/custom_no_tool/docker-compose.yml",
            "content": "services:\n  web:\n    build: ./web\n    ports:\n      - \"80:80\"\n    depends_on:\n      - db\n      - activemq\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n  db:\n    image: mysql:5.5\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpass\n      MYSQL_DATABASE: testdb\n      MYSQL_USER: user\n      MYSQL_PASSWORD: userpass\n    volumes:\n      - db_data:/var/lib/mysql\n      - ./db/init.sql:/docker-entrypoint-initdb.d/init.sql:ro\n    ports:\n      - \"3306:3306\"\n  activemq:\n    image: rmohr/activemq:5.12.0\n    ports:\n      - \"61616:61616\"\n      - \"8161:8161\"\n    environment:\n      - ACTIVEMQ_USER=admin\n      - ACTIVEMQ_PASSWORD=admin\n      - ACTIVEMQ_ADMIN_LOGIN=admin\n      - ACTIVEMQ_ADMIN_PASSWORD=admin\n      - ACTIVEMQ_REMOVE_DEFAULT_ACCOUNT=true\nvolumes:\n  db_data:"
        },
        {
            "location": "./../../dockers/CVE-2015-5254/custom_no_tool/web/Dockerfile",
            "content": "FROM php:7.4-apache\n\nRUN apt-get update && apt-get install -y default-mysql-client \\\n    && docker-php-ext-install mysqli \\\n    && apt-get clean && rm -rf /var/lib/apt/lists/*\n\nCOPY index.php /var/www/html/"
        },
        {
            "location": "./../../dockers/CVE-2015-5254/custom_no_tool/web/index.php",
            "content": "<?php\n$mysqli = new mysqli('db', 'user', 'userpass', 'testdb');\nif ($mysqli->connect_error) {\n    die('Connect Error (' . $mysqli->connect_errno . ') ' . $mysqli->connect_error);\n}\n$result = $mysqli->query('SELECT id, name FROM users');\nwhile($row = $result->fetch_assoc()) {\n    echo '<p>' . htmlspecialchars($row['id']) . ': ' . htmlspecialchars($row['name']) . '</p>';\n}\n$mysqli->close();\n?>"
        },
        {
            "location": "./../../dockers/CVE-2015-5254/custom_no_tool/db/init.sql",
            "content": "CREATE TABLE users (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(50));\nINSERT INTO users (name) VALUES ('alice'), ('bob'), ('charlie');"
        }
    ],
    "directory_tree": "CVE-2015-5254/custom_no_tool"
}