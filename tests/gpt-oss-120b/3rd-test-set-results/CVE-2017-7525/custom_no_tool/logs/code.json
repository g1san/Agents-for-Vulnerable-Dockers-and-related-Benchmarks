{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-7525/custom_no_tool/app/package.json",
            "content": "{\n  \"name\": \"vulnerable-app\",\n  \"version\": \"1.0.0\",\n  \"description\": \"App vulnerable to CVE-2017-7525\",\n  \"main\": \"server.js\",\n  \"dependencies\": {\n    \"express\": \"4.16.0\",\n    \"cassandra-driver\": \"^3.7.2\"\n  },\n  \"scripts\": {\n    \"start\": \"node server.js\"\n  }\n}"
        },
        {
            "location": "./../../dockers/CVE-2017-7525/custom_no_tool/app/Dockerfile",
            "content": "FROM node:16-alpine\nWORKDIR /usr/src/app\n# Install build tools and netcat, create a python symlink for node-gyp\nRUN apk add --no-cache python3 make g++ netcat-openbsd && \\\n    ln -sf /usr/bin/python3 /usr/bin/python\n# Copy application source (including package.json) before installing dependencies\nCOPY . .\n# Install Node dependencies (cassandra-driver will be compiled with the tools above)\nRUN npm install\n# Keep the runtime tools (python) because node-gyp may need it later; remove only the compiler packages\nRUN apk del make g++\n# Ensure the entry script is executable\nRUN chmod +x start.sh\nEXPOSE 8080\nCMD [\"/bin/sh\",\"-c\",\"./start.sh\"]"
        },
        {
            "location": "./../../dockers/CVE-2017-7525/custom_no_tool/docker-compose.yml",
            "content": "services:\n  vulnerable_app:\n    build: ./app\n    ports:\n      - \"8080:8080\"\n    environment:\n      - NODE_ENV=production\n      - CASSANDRA_HOST=cassandra\n    depends_on:\n      - cassandra\n  cassandra:\n    image: cassandra:3.11.4\n    container_name: cql_server\n    ports:\n      - \"9042:9042\"\n    environment:\n      - CASSANDRA_START_RPC=true\n    healthcheck:\n      test: [\"CMD\", \"cqlsh\", \"-e\", \"describe keyspaces\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5"
        }
    ],
    "directory_tree": "CVE-2017-7525/custom_no_tool"
}