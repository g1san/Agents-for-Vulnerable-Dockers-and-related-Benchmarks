services:
  hertzbeat:
    build:
      context: ./hertzbeat
      dockerfile: Dockerfile
    image: hertzbeat:1.5.9
    container_name: hertzbeat
    ports:
      - "1157:1157"
    restart: unless-stopped

  vulnerable_app:
    build:
      context: ./app
    ports:
      - "8080:80"
    environment:
      - FLASK_ENV=development
    restart: unless-stopped
    depends_on:
      - hertzbeat