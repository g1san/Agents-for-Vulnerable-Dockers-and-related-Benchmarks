#!/bin/sh
# Ensure POSTGRES_USER has a fallback value
POSTGRES_USER=${POSTGRES_USER:-postgres}
# Wait for PostgreSQL to become reachable
while ! pg_isready -h $POSTGRES_HOST -p 5432 -U $POSTGRES_USER > /dev/null 2>&1; do
  echo "Waiting for PostgreSQL at $POSTGRES_HOST:5432..."
  sleep 1
done
# Start the Flask application
exec python app.py
