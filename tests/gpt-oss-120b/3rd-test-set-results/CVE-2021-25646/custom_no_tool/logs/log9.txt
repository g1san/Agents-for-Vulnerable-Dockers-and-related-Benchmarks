#1 [internal] load local bake definitions
#1 reading from stdin 1.38kB done
#1 DONE 0.0s

#2 [vulnerable_app internal] load build definition from Dockerfile
#2 transferring dockerfile: 549B done
#2 DONE 0.0s

#3 [druid internal] load build definition from Dockerfile
#3 transferring dockerfile: 728B done
#3 DONE 0.0s

#4 [druid internal] load metadata for docker.io/library/eclipse-temurin:8-jre-alpine
#4 DONE 0.4s

#5 [vulnerable_app internal] load metadata for docker.io/library/python:3.9-slim
#5 DONE 0.4s

#6 [druid internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [vulnerable_app internal] load .dockerignore
#7 transferring context: 2B done
#7 DONE 0.0s

#8 [druid 1/4] FROM docker.io/library/eclipse-temurin:8-jre-alpine@sha256:963a365705214a3ab2880de348027864b3a2afa4e0f44f62c466c6b8d652e8b2
#8 resolve docker.io/library/eclipse-temurin:8-jre-alpine@sha256:963a365705214a3ab2880de348027864b3a2afa4e0f44f62c466c6b8d652e8b2 0.0s done
#8 CACHED

#9 [vulnerable_app 1/8] FROM docker.io/library/python:3.9-slim@sha256:2d97f6910b16bd338d3060f261f53f144965f755599aab1acda1e13cf1731b1b
#9 resolve docker.io/library/python:3.9-slim@sha256:2d97f6910b16bd338d3060f261f53f144965f755599aab1acda1e13cf1731b1b 0.0s done
#9 DONE 0.0s

#10 [vulnerable_app internal] load build context
#10 transferring context: 1.62kB done
#10 DONE 0.0s

#11 [vulnerable_app 5/8] RUN apt-get update && apt-get install -y netcat-openbsd && rm -rf /var/lib/apt/lists/*
#11 CACHED

#12 [vulnerable_app 3/8] COPY requirements.txt requirements.txt
#12 CACHED

#13 [vulnerable_app 7/8] COPY entrypoint.sh entrypoint.sh
#13 CACHED

#14 [vulnerable_app 2/8] WORKDIR /app
#14 CACHED

#15 [vulnerable_app 6/8] COPY app.py app.py
#15 CACHED

#16 [vulnerable_app 4/8] RUN pip install --no-cache-dir -r requirements.txt
#16 CACHED

#17 [vulnerable_app 8/8] RUN sed -i 's/\r$//' entrypoint.sh && chmod +x entrypoint.sh
#17 CACHED

#18 [vulnerable_app] exporting to image
#18 exporting layers done
#18 exporting manifest sha256:2fa42db7fcd3ca03c83412e47f6b5e37eeef4522a7dd665d0c56973084bc44f9 done
#18 exporting config sha256:108c3614a9313ec920a2c1850ee0ddb27a8e160c816f392088312be02a0200b7 done
#18 exporting attestation manifest sha256:e342298e0045509cad9848d339bf10e35746ec6b1fdbd860dc16532ef100e625 0.0s done
#18 exporting manifest list sha256:f990ee45f6df8d7d41ef500c5649e88a9770d6f84214903d5ae8c94986e3fae0
#18 exporting manifest list sha256:f990ee45f6df8d7d41ef500c5649e88a9770d6f84214903d5ae8c94986e3fae0 0.0s done
#18 naming to docker.io/library/custom_no_tool-vulnerable_app:latest done
#18 unpacking to docker.io/library/custom_no_tool-vulnerable_app:latest 0.0s done
#18 DONE 0.1s

#19 [vulnerable_app] resolving provenance for metadata file
#19 DONE 0.0s

#20 [druid 2/4] RUN apk add --no-cache bash curl tar ca-certificates && update-ca-certificates
#20 0.207 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/main/x86_64/APKINDEX.tar.gz
#20 0.389 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/community/x86_64/APKINDEX.tar.gz
#20 0.860 (1/9) Installing readline (8.2.13-r1)
#20 0.891 (2/9) Installing bash (5.2.37-r0)
#20 0.973 Executing bash-5.2.37-r0.post-install
#20 0.976 (3/9) Installing c-ares (1.34.5-r0)
#20 1.004 (4/9) Installing nghttp2-libs (1.65.0-r0)
#20 1.026 (5/9) Installing libpsl (0.21.5-r3)
#20 1.046 (6/9) Installing zstd-libs (1.5.7-r0)
#20 1.115 (7/9) Installing libcurl (8.14.1-r2)
#20 1.176 (8/9) Installing curl (8.14.1-r2)
#20 1.213 (9/9) Installing tar (1.35-r3)
#20 1.258 Executing busybox-1.37.0-r19.trigger
#20 1.263 OK: 43 MiB in 81 packages
#20 DONE 1.4s

#21 [druid 3/4] RUN mkdir -p /opt/druid &&     curl -fSL https://archive.apache.org/dist/druid/0.19.5/apache-druid-0.19.5-bin.tar.gz |     tar -xz -C /opt/druid --strip-components=1 &&     chmod +x /opt/druid/bin/*
#21 0.250   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
#21 0.250                                  Dload  Upload   Total   Spent    Left  Speed
#21 0.250 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
#21 0.429 curl: (22) The requested URL returned error: 404
#21 0.431 gzip: invalid magic
#21 0.431 tar: Child returned status 1
#21 0.431 tar: Error is not recoverable: exiting now
#21 ERROR: process "/bin/sh -c mkdir -p $DRUID_HOME &&     curl -fSL https://archive.apache.org/dist/druid/${DRUID_VERSION}/apache-druid-${DRUID_VERSION}-bin.tar.gz |     tar -xz -C $DRUID_HOME --strip-components=1 &&     chmod +x $DRUID_HOME/bin/*" did not complete successfully: exit code: 2
------
 > [druid 3/4] RUN mkdir -p /opt/druid &&     curl -fSL https://archive.apache.org/dist/druid/0.19.5/apache-druid-0.19.5-bin.tar.gz |     tar -xz -C /opt/druid --strip-components=1 &&     chmod +x /opt/druid/bin/*:

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
0.429 curl: (22) The requested URL returned error: 404
0.431 gzip: invalid magic
0.431 tar: Child returned status 1
0.431 tar: Error is not recoverable: exiting now
------
Dockerfile:9

--------------------

   8 |     # Install Druid distribution

   9 | >>> RUN mkdir -p $DRUID_HOME && \

  10 | >>>     curl -fSL https://archive.apache.org/dist/druid/${DRUID_VERSION}/apache-druid-${DRUID_VERSION}-bin.tar.gz | \

  11 | >>>     tar -xz -C $DRUID_HOME --strip-components=1 && \

  12 | >>>     chmod +x $DRUID_HOME/bin/*

  13 |     WORKDIR $DRUID_HOME

--------------------

target druid: failed to solve: process "/bin/sh -c mkdir -p $DRUID_HOME &&     curl -fSL https://archive.apache.org/dist/druid/${DRUID_VERSION}/apache-druid-${DRUID_VERSION}-bin.tar.gz |     tar -xz -C $DRUID_HOME --strip-components=1 &&     chmod +x $DRUID_HOME/bin/*" did not complete successfully: exit code: 2

