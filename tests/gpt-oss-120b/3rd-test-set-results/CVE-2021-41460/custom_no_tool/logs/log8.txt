#1 [internal] load local bake definitions
#1 reading from stdin 1.42kB done
#1 DONE 0.0s

#2 [vulnerable_service internal] load build definition from Dockerfile
#2 transferring dockerfile: 320B done
#2 DONE 0.0s

#3 [ecshop internal] load build definition from Dockerfile
#3 transferring dockerfile: 119B done
#3 DONE 0.0s

#4 [ecshop internal] load metadata for docker.io/library/php:7.4-apache
#4 DONE 0.4s

#5 [vulnerable_service internal] load metadata for docker.io/library/python:3.9-slim
#5 DONE 0.4s

#6 [ecshop internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [vulnerable_service internal] load .dockerignore
#7 transferring context: 2B done
#7 DONE 0.0s

#8 [ecshop internal] load build context
#8 transferring context: 119B done
#8 DONE 0.0s

#9 [vulnerable_service internal] load build context
#9 transferring context: 1.69kB done
#9 DONE 0.0s

#10 [ecshop 1/2] FROM docker.io/library/php:7.4-apache@sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d
#10 resolve docker.io/library/php:7.4-apache@sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d 0.0s done
#10 CACHED

#11 [vulnerable_service 1/6] FROM docker.io/library/python:3.9-slim@sha256:2d97f6910b16bd338d3060f261f53f144965f755599aab1acda1e13cf1731b1b
#11 resolve docker.io/library/python:3.9-slim@sha256:2d97f6910b16bd338d3060f261f53f144965f755599aab1acda1e13cf1731b1b 0.0s done
#11 DONE 0.0s

#12 [vulnerable_service 2/6] WORKDIR /app
#12 CACHED

#13 [vulnerable_service 3/6] RUN mkdir -p /app/data && chmod 755 /app/data
#13 CACHED

#14 [ecshop 2/2] COPY src/ /var/www/html/
#14 DONE 0.0s

#15 [vulnerable_service 4/6] COPY requirements.txt requirements.txt
#15 DONE 0.0s

#16 [ecshop] exporting to image
#16 exporting layers 0.1s done
#16 exporting manifest sha256:ff52fa4784b625584b1923c0b67b8b470e65c295efd947819551462f18aea940 0.0s done
#16 exporting config sha256:1e6075b547ebc8c70948504f8eebd3a57378fb4233670e0d103d30d3058772d0 0.0s done
#16 exporting attestation manifest sha256:e6c3cacfa5c982e0d0bfb9a009a673df1da435bf172628656fb1010fa9bae01f 0.0s done
#16 exporting manifest list sha256:c74c57d49466a38dd5b7547416bff97fd714edf352ba9fd0952d50a5e8f64c70 0.0s done
#16 naming to docker.io/library/local_ecshop:4.1.0 done
#16 unpacking to docker.io/library/local_ecshop:4.1.0 0.0s done
#16 DONE 0.2s

#17 [vulnerable_service 5/6] RUN pip install --no-cache-dir -r requirements.txt
#17 ...

#18 [ecshop] resolving provenance for metadata file
#18 DONE 0.0s

#17 [vulnerable_service 5/6] RUN pip install --no-cache-dir -r requirements.txt
#17 1.599 Collecting flask==2.0.3
#17 1.657   Downloading Flask-2.0.3-py3-none-any.whl (95 kB)
#17 1.675      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 95.6/95.6 kB 5.8 MB/s eta 0:00:00
#17 1.731 Collecting werkzeug==2.0.3
#17 1.745   Downloading Werkzeug-2.0.3-py3-none-any.whl (289 kB)
#17 1.786      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 289.2/289.2 kB 7.6 MB/s eta 0:00:00
#17 1.828 Collecting Jinja2>=3.0
#17 1.841   Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
#17 1.860      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.9/134.9 kB 8.8 MB/s eta 0:00:00
#17 1.887 Collecting itsdangerous>=2.0
#17 1.900   Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
#17 1.949 Collecting click>=7.1.2
#17 1.962   Downloading click-8.1.8-py3-none-any.whl (98 kB)
#17 1.975      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.2/98.2 kB 8.8 MB/s eta 0:00:00
#17 2.139 Collecting MarkupSafe>=2.0
#17 2.153   Downloading markupsafe-3.0.3-cp39-cp39-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (20 kB)
#17 2.210 Installing collected packages: werkzeug, MarkupSafe, itsdangerous, click, Jinja2, flask
#17 2.523 Successfully installed Jinja2-3.1.6 MarkupSafe-3.0.3 click-8.1.8 flask-2.0.3 itsdangerous-2.2.0 werkzeug-2.0.3
#17 2.523 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#17 2.643 
#17 2.643 [notice] A new release of pip is available: 23.0.1 -> 25.3
#17 2.643 [notice] To update, run: pip install --upgrade pip
#17 DONE 2.8s

#19 [vulnerable_service 6/6] COPY . .
#19 DONE 0.0s

#20 [vulnerable_service] exporting to image
#20 exporting layers 0.6s done
#20 exporting manifest sha256:b4a7b4c3f5e3327aa833cf228bd6516196619fdb2e93d791c42be66a3237f16d 0.0s done
#20 exporting config sha256:02989c0e8d794ed1c8133ab05a16323f44de9d4b058d493b8d394dd43143107f done
#20 exporting attestation manifest sha256:db07ae9b126c6a1a99e218e36dca9ce98e7ae616aa6eeefc6a282002b9f73a06 0.0s done
#20 exporting manifest list sha256:6a6fcf1cd9ba9f759f71ad7f5a5910617a20cd6591cdba4721077e2672dea1f4 done
#20 naming to docker.io/library/vulnerable_service:latest done
#20 unpacking to docker.io/library/vulnerable_service:latest
#20 unpacking to docker.io/library/vulnerable_service:latest 0.2s done
#20 DONE 0.9s

#21 [vulnerable_service] resolving provenance for metadata file
#21 DONE 0.0s
 local_ecshop:4.1.0  Built
 vulnerable_service:latest  Built
 Network custom_no_tool_default  Creating
 Network custom_no_tool_default  Created
 Volume custom_no_tool_ecshop_data  Creating
 Volume custom_no_tool_ecshop_data  Created
 Volume custom_no_tool_mysql_data  Creating
 Volume custom_no_tool_mysql_data  Created
 Container custom_no_tool-mysql-1  Creating
 Container custom_no_tool-mysql-1  Created
 Container custom_no_tool-ecshop-1  Creating
 Container custom_no_tool-ecshop-1  Created
 Container custom_no_tool-vulnerable_service-1  Creating
 Container custom_no_tool-vulnerable_service-1  Created
 Container custom_no_tool-mysql-1  Starting
 Container custom_no_tool-mysql-1  Started
 Container custom_no_tool-ecshop-1  Starting
 Container custom_no_tool-ecshop-1  Started
 Container custom_no_tool-vulnerable_service-1  Starting
Error response from daemon: failed to set up container networking: driver failed programming external connectivity on endpoint custom_no_tool-vulnerable_service-1 (2b4de719c22026dce74be5d9604c3a51c8a5f487647e8230e6e7bff30b426b8f): Bind for 0.0.0.0:80 failed: port is already allocated
