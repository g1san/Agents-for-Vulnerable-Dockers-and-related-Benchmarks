#1 [internal] load local bake definitions
#1 reading from stdin 1.38kB done
#1 DONE 0.0s

#2 [vulnerable_app internal] load build definition from Dockerfile
#2 transferring dockerfile: 255B done
#2 DONE 0.0s

#3 [goahead internal] load build definition from Dockerfile
#3 transferring dockerfile: 606B done
#3 DONE 0.0s

#4 [goahead internal] load metadata for docker.io/library/debian:stable-slim
#4 ...

#5 [vulnerable_app internal] load metadata for docker.io/library/python:3.11-alpine
#5 DONE 0.4s

#6 [vulnerable_app internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [vulnerable_app internal] load build context
#7 transferring context: 25.05kB 0.0s done
#7 DONE 0.0s

#8 [vulnerable_app 1/5] FROM docker.io/library/python:3.11-alpine@sha256:610ede222c1fa9675c694c99429f8d2c1b4e243f1982246da9e540eb5800ee4a
#8 resolve docker.io/library/python:3.11-alpine@sha256:610ede222c1fa9675c694c99429f8d2c1b4e243f1982246da9e540eb5800ee4a 0.0s done
#8 extracting sha256:d6919b1d38e53ccdc8cbb29e0abc43a8479d26bda83c438c3d88edfed60f3372 0.1s done
#8 sha256:2216f72b503965e0d6f92753a108881bc06183c9d93e0c1fae45692622df1a1f 2.10MB / 15.95MB 0.2s
#8 ...

#4 [goahead internal] load metadata for docker.io/library/debian:stable-slim
#4 DONE 1.0s

#9 [goahead internal] load .dockerignore
#9 transferring context: 2B done
#9 DONE 0.0s

#10 [goahead 1/4] FROM docker.io/library/debian:stable-slim@sha256:a771c85b2287eae7ce8fe0a4c2637d575c5d991555ae680c187c5572153648d9
#10 resolve docker.io/library/debian:stable-slim@sha256:a771c85b2287eae7ce8fe0a4c2637d575c5d991555ae680c187c5572153648d9 0.0s done
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 0B / 29.78MB 0.2s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 2.10MB / 29.78MB 1.1s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 4.19MB / 29.78MB 1.7s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 6.29MB / 29.78MB 2.1s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 8.39MB / 29.78MB 2.6s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 10.49MB / 29.78MB 2.9s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 12.58MB / 29.78MB 3.2s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 14.68MB / 29.78MB 3.5s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 16.78MB / 29.78MB 3.8s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 18.87MB / 29.78MB 4.1s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 20.97MB / 29.78MB 4.5s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 23.07MB / 29.78MB 4.8s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 25.17MB / 29.78MB 5.1s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 27.26MB / 29.78MB 5.4s
#10 sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 29.78MB / 29.78MB 5.8s done
#10 extracting sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435
#10 extracting sha256:835d7baf2dd768c670b86b8f32d8010527323d9a9e4ab6909d4cf1220f587435 0.8s done
#10 DONE 6.6s

#8 [vulnerable_app 1/5] FROM docker.io/library/python:3.11-alpine@sha256:610ede222c1fa9675c694c99429f8d2c1b4e243f1982246da9e540eb5800ee4a
#8 sha256:2216f72b503965e0d6f92753a108881bc06183c9d93e0c1fae45692622df1a1f 15.95MB / 15.95MB 6.6s done
#8 extracting sha256:2216f72b503965e0d6f92753a108881bc06183c9d93e0c1fae45692622df1a1f
#8 extracting sha256:2216f72b503965e0d6f92753a108881bc06183c9d93e0c1fae45692622df1a1f 0.5s done
#8 extracting sha256:bc0e8b3a76b969eeb85ccd0bbe2839393956c01e00a5ea44df7183c845b62eb5 0.0s done
#8 DONE 7.3s

#11 [vulnerable_app 2/5] WORKDIR /app
#11 ...

#12 [goahead 2/4] WORKDIR /goahead
#12 DONE 0.2s

#11 [vulnerable_app 2/5] WORKDIR /app
#11 DONE 0.2s

#13 [vulnerable_app 3/5] COPY requirements.txt .
#13 DONE 0.0s

#14 [vulnerable_app 4/5] RUN pip install --no-cache-dir -r requirements.txt
#14 2.492 Collecting flask (from -r requirements.txt (line 1))
#14 2.559   Downloading flask-3.1.2-py3-none-any.whl.metadata (3.2 kB)
#14 2.588 Collecting blinker>=1.9.0 (from flask->-r requirements.txt (line 1))
#14 2.603   Downloading blinker-1.9.0-py3-none-any.whl.metadata (1.6 kB)
#14 2.638 Collecting click>=8.1.3 (from flask->-r requirements.txt (line 1))
#14 2.653   Downloading click-8.3.0-py3-none-any.whl.metadata (2.6 kB)
#14 2.677 Collecting itsdangerous>=2.2.0 (from flask->-r requirements.txt (line 1))
#14 2.691   Downloading itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)
#14 2.721 Collecting jinja2>=3.1.2 (from flask->-r requirements.txt (line 1))
#14 2.735   Downloading jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
#14 2.823 Collecting markupsafe>=2.1.1 (from flask->-r requirements.txt (line 1))
#14 2.836   Downloading markupsafe-3.0.3-cp311-cp311-musllinux_1_2_x86_64.whl.metadata (2.7 kB)
#14 2.879 Collecting werkzeug>=3.1.0 (from flask->-r requirements.txt (line 1))
#14 2.896   Downloading werkzeug-3.1.3-py3-none-any.whl.metadata (3.7 kB)
#14 2.930 Downloading flask-3.1.2-py3-none-any.whl (103 kB)
#14 2.949    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 103.3/103.3 kB 5.8 MB/s eta 0:00:00
#14 2.961 Downloading blinker-1.9.0-py3-none-any.whl (8.5 kB)
#14 2.976 Downloading click-8.3.0-py3-none-any.whl (107 kB)
#14 2.992    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 107.3/107.3 kB 8.8 MB/s eta 0:00:00
#14 3.004 Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
#14 3.019 Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
#14 3.039    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.9/134.9 kB 8.6 MB/s eta 0:00:00
#14 3.054 Downloading markupsafe-3.0.3-cp311-cp311-musllinux_1_2_x86_64.whl (22 kB)
#14 3.068 Downloading werkzeug-3.1.3-py3-none-any.whl (224 kB)
#14 3.100    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 224.5/224.5 kB 7.7 MB/s eta 0:00:00
#14 3.161 Installing collected packages: markupsafe, itsdangerous, click, blinker, werkzeug, jinja2, flask
#14 3.651 Successfully installed blinker-1.9.0 click-8.3.0 flask-3.1.2 itsdangerous-2.2.0 jinja2-3.1.6 markupsafe-3.0.3 werkzeug-3.1.3
#14 3.651 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#14 3.790 
#14 3.790 [notice] A new release of pip is available: 24.0 -> 25.3
#14 3.790 [notice] To update, run: pip install --upgrade pip
#14 DONE 4.0s

#15 [vulnerable_app 5/5] COPY . .
#15 DONE 0.0s

#16 [vulnerable_app] exporting to image
#16 exporting layers
#16 exporting layers 0.8s done
#16 exporting manifest sha256:5fdfd742674749fef29cda3349456bc3ea924b6707f3b749c8b46bcc8d797c50
#16 exporting manifest sha256:5fdfd742674749fef29cda3349456bc3ea924b6707f3b749c8b46bcc8d797c50 0.0s done
#16 exporting config sha256:2863f18121c0df5d6138d9f27cd077d371ef01cea47d8297efadc674e68d9cad 0.0s done
#16 exporting attestation manifest sha256:ef51183ca9cb4b3c62eb6735f97608b3f08fd3c44442a7483e54aa4fd4f1c01a 0.0s done
#16 exporting manifest list sha256:f4014cb0239fc757168bad0d450ef5f125e3dc09b9daec77d7515f384ff2df3d 0.0s done
#16 naming to docker.io/library/custom_no_tool-vulnerable_app:latest done
#16 unpacking to docker.io/library/custom_no_tool-vulnerable_app:latest
#16 unpacking to docker.io/library/custom_no_tool-vulnerable_app:latest 0.4s done
#16 DONE 1.3s

#17 [vulnerable_app] resolving provenance for metadata file
#17 DONE 0.0s

#18 [goahead 3/4] RUN apt-get update && apt-get install -y --no-install-recommends wget ca-certificates tar && rm -rf /var/lib/apt/lists/*
#18 0.457 Get:1 http://deb.debian.org/debian stable InRelease [140 kB]
#18 0.539 Get:2 http://deb.debian.org/debian stable-updates InRelease [47.3 kB]
#18 0.562 Get:3 http://deb.debian.org/debian-security stable-security InRelease [43.4 kB]
#18 0.591 Get:4 http://deb.debian.org/debian stable/main amd64 Packages [9669 kB]
#18 2.077 Get:5 http://deb.debian.org/debian stable-updates/main amd64 Packages [5412 B]
#18 2.089 Get:6 http://deb.debian.org/debian-security stable-security/main amd64 Packages [69.0 kB]
#18 2.768 Fetched 9974 kB in 2s (4035 kB/s)
#18 2.768 Reading package lists...
#18 3.351 Reading package lists...
#18 3.865 Building dependency tree...
#18 4.005 Reading state information...
#18 4.265 tar is already the newest version (1.35+dfsg-3.1).
#18 4.265 tar set to manually installed.
#18 4.265 The following additional packages will be installed:
#18 4.266   libffi8 libgnutls30t64 libidn2-0 libp11-kit0 libpsl5t64 libtasn1-6
#18 4.267   libunistring5 openssl
#18 4.270 Suggested packages:
#18 4.270   gnutls-bin
#18 4.270 Recommended packages:
#18 4.270   publicsuffix
#18 4.343 The following NEW packages will be installed:
#18 4.344   ca-certificates libffi8 libgnutls30t64 libidn2-0 libp11-kit0 libpsl5t64
#18 4.345   libtasn1-6 libunistring5 openssl wget
#18 4.388 0 upgraded, 10 newly installed, 0 to remove and 0 not upgraded.
#18 4.388 Need to get 5248 kB of archives.
#18 4.388 After this operation, 15.2 MB of additional disk space will be used.
#18 4.388 Get:1 http://deb.debian.org/debian-security stable-security/main amd64 openssl amd64 3.5.1-1+deb13u1 [1494 kB]
#18 4.608 Get:2 http://deb.debian.org/debian stable/main amd64 ca-certificates all 20250419 [162 kB]
#18 4.631 Get:3 http://deb.debian.org/debian stable/main amd64 libunistring5 amd64 1.3-2 [477 kB]
#18 4.697 Get:4 http://deb.debian.org/debian stable/main amd64 libidn2-0 amd64 2.3.8-2 [109 kB]
#18 4.712 Get:5 http://deb.debian.org/debian stable/main amd64 libffi8 amd64 3.4.8-2 [24.1 kB]
#18 4.714 Get:6 http://deb.debian.org/debian stable/main amd64 libp11-kit0 amd64 0.25.5-3 [425 kB]
#18 4.773 Get:7 http://deb.debian.org/debian stable/main amd64 libtasn1-6 amd64 4.20.0-2 [49.9 kB]
#18 4.780 Get:8 http://deb.debian.org/debian stable/main amd64 libgnutls30t64 amd64 3.8.9-3 [1465 kB]
#18 4.978 Get:9 http://deb.debian.org/debian stable/main amd64 libpsl5t64 amd64 0.21.2-1.1+b1 [57.2 kB]
#18 4.986 Get:10 http://deb.debian.org/debian stable/main amd64 wget amd64 1.25.0-2 [984 kB]
#18 5.408 debconf: unable to initialize frontend: Dialog
#18 5.408 debconf: (TERM is not set, so the dialog frontend is not usable.)
#18 5.408 debconf: falling back to frontend: Readline
#18 5.410 debconf: unable to initialize frontend: Readline
#18 5.410 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8, <STDIN> line 10.)
#18 5.410 debconf: falling back to frontend: Teletype
#18 5.415 debconf: unable to initialize frontend: Teletype
#18 5.415 debconf: (This frontend requires a controlling tty.)
#18 5.415 debconf: falling back to frontend: Noninteractive
#18 5.963 Preconfiguring packages ...
#18 6.011 Fetched 5248 kB in 1s (5851 kB/s)
#18 6.028 Selecting previously unselected package openssl.
#18 6.028 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 4935 files and directories currently installed.)
#18 6.032 Preparing to unpack .../0-openssl_3.5.1-1+deb13u1_amd64.deb ...
#18 6.036 Unpacking openssl (3.5.1-1+deb13u1) ...
#18 6.105 Selecting previously unselected package ca-certificates.
#18 6.105 Preparing to unpack .../1-ca-certificates_20250419_all.deb ...
#18 6.109 Unpacking ca-certificates (20250419) ...
#18 6.162 Selecting previously unselected package libunistring5:amd64.
#18 6.163 Preparing to unpack .../2-libunistring5_1.3-2_amd64.deb ...
#18 6.170 Unpacking libunistring5:amd64 (1.3-2) ...
#18 6.216 Selecting previously unselected package libidn2-0:amd64.
#18 6.217 Preparing to unpack .../3-libidn2-0_2.3.8-2_amd64.deb ...
#18 6.220 Unpacking libidn2-0:amd64 (2.3.8-2) ...
#18 6.254 Selecting previously unselected package libffi8:amd64.
#18 6.255 Preparing to unpack .../4-libffi8_3.4.8-2_amd64.deb ...
#18 6.258 Unpacking libffi8:amd64 (3.4.8-2) ...
#18 6.287 Selecting previously unselected package libp11-kit0:amd64.
#18 6.288 Preparing to unpack .../5-libp11-kit0_0.25.5-3_amd64.deb ...
#18 6.291 Unpacking libp11-kit0:amd64 (0.25.5-3) ...
#18 6.331 Selecting previously unselected package libtasn1-6:amd64.
#18 6.332 Preparing to unpack .../6-libtasn1-6_4.20.0-2_amd64.deb ...
#18 6.335 Unpacking libtasn1-6:amd64 (4.20.0-2) ...
#18 6.365 Selecting previously unselected package libgnutls30t64:amd64.
#18 6.366 Preparing to unpack .../7-libgnutls30t64_3.8.9-3_amd64.deb ...
#18 6.369 Unpacking libgnutls30t64:amd64 (3.8.9-3) ...
#18 6.437 Selecting previously unselected package libpsl5t64:amd64.
#18 6.438 Preparing to unpack .../8-libpsl5t64_0.21.2-1.1+b1_amd64.deb ...
#18 6.441 Unpacking libpsl5t64:amd64 (0.21.2-1.1+b1) ...
#18 6.465 Selecting previously unselected package wget.
#18 6.466 Preparing to unpack .../9-wget_1.25.0-2_amd64.deb ...
#18 6.469 Unpacking wget (1.25.0-2) ...
#18 6.524 Setting up libunistring5:amd64 (1.3-2) ...
#18 6.534 Setting up libffi8:amd64 (3.4.8-2) ...
#18 6.542 Setting up libtasn1-6:amd64 (4.20.0-2) ...
#18 6.553 Setting up openssl (3.5.1-1+deb13u1) ...
#18 6.565 Setting up libidn2-0:amd64 (2.3.8-2) ...
#18 6.574 Setting up ca-certificates (20250419) ...
#18 6.637 debconf: unable to initialize frontend: Dialog
#18 6.637 debconf: (TERM is not set, so the dialog frontend is not usable.)
#18 6.637 debconf: falling back to frontend: Readline
#18 6.637 debconf: unable to initialize frontend: Readline
#18 6.637 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8.)
#18 6.637 debconf: falling back to frontend: Teletype
#18 6.642 debconf: unable to initialize frontend: Teletype
#18 6.642 debconf: (This frontend requires a controlling tty.)
#18 6.642 debconf: falling back to frontend: Noninteractive
#18 7.035 Updating certificates in /etc/ssl/certs...
#18 7.619 150 added, 0 removed; done.
#18 7.645 Setting up libp11-kit0:amd64 (0.25.5-3) ...
#18 7.654 Setting up libgnutls30t64:amd64 (3.8.9-3) ...
#18 7.664 Setting up libpsl5t64:amd64 (0.21.2-1.1+b1) ...
#18 7.672 Setting up wget (1.25.0-2) ...
#18 7.684 Processing triggers for libc-bin (2.41-12) ...
#18 7.699 Processing triggers for ca-certificates (20250419) ...
#18 7.705 Updating certificates in /etc/ssl/certs...
#18 8.142 0 added, 0 removed; done.
#18 8.142 Running hooks in /etc/ca-certificates/update.d...
#18 8.143 done.
#18 DONE 8.2s

#19 [goahead 4/4] RUN wget -O goahead.tar.gz https://github.com/embedthis/goahead/releases/download/5.1.4/goahead-5.1.4.tar.gz &&     tar -xzf goahead.tar.gz &&     mv goahead-5.1.4/* . &&     rm -rf goahead-5.1.4 goahead.tar.gz
#19 0.222 --2025-11-02 14:30:05--  https://github.com/embedthis/goahead/releases/download/5.1.4/goahead-5.1.4.tar.gz
#19 0.231 Resolving github.com (github.com)... 140.82.121.4
#19 0.244 Connecting to github.com (github.com)|140.82.121.4|:443... connected.
#19 0.373 HTTP request sent, awaiting response... 404 Not Found
#19 0.406 2025-11-02 14:30:05 ERROR 404: Not Found.
#19 0.406 
#19 ERROR: process "/bin/sh -c wget -O goahead.tar.gz https://github.com/embedthis/goahead/releases/download/5.1.4/goahead-5.1.4.tar.gz &&     tar -xzf goahead.tar.gz &&     mv goahead-5.1.4/* . &&     rm -rf goahead-5.1.4 goahead.tar.gz" did not complete successfully: exit code: 8
------
 > [goahead 4/4] RUN wget -O goahead.tar.gz https://github.com/embedthis/goahead/releases/download/5.1.4/goahead-5.1.4.tar.gz &&     tar -xzf goahead.tar.gz &&     mv goahead-5.1.4/* . &&     rm -rf goahead-5.1.4 goahead.tar.gz:
0.222 --2025-11-02 14:30:05--  https://github.com/embedthis/goahead/releases/download/5.1.4/goahead-5.1.4.tar.gz
404 Not Found
0.406 2025-11-02 14:30:05 ERROR 404: Not Found.
0.406 
------
Dockerfile:8

--------------------

   7 |     # Download and extract a vulnerable GoAhead version (5.1.4)

   8 | >>> RUN wget -O goahead.tar.gz https://github.com/embedthis/goahead/releases/download/5.1.4/goahead-5.1.4.tar.gz && \

   9 | >>>     tar -xzf goahead.tar.gz && \

  10 | >>>     mv goahead-5.1.4/* . && \

  11 | >>>     rm -rf goahead-5.1.4 goahead.tar.gz

  12 |     

--------------------

target goahead: failed to solve: process "/bin/sh -c wget -O goahead.tar.gz https://github.com/embedthis/goahead/releases/download/5.1.4/goahead-5.1.4.tar.gz &&     tar -xzf goahead.tar.gz &&     mv goahead-5.1.4/* . &&     rm -rf goahead-5.1.4 goahead.tar.gz" did not complete successfully: exit code: 8

