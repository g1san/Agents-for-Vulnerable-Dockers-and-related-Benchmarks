#1 [internal] load local bake definitions
#1 reading from stdin 761B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile:
#2 transferring dockerfile: 636B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/openjdk:7-jre-alpine
#3 DONE 1.6s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/3] FROM docker.io/library/openjdk:7-jre-alpine@sha256:beabbab11a39353833438fe57868f96df6ebecc87420e2cc52808a6adabe7ec9
#5 resolve docker.io/library/openjdk:7-jre-alpine@sha256:beabbab11a39353833438fe57868f96df6ebecc87420e2cc52808a6adabe7ec9 0.0s done
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 0B / 62.23MB 0.2s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 3.15MB / 62.23MB 0.9s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 6.29MB / 62.23MB 1.4s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 9.44MB / 62.23MB 1.8s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 12.58MB / 62.23MB 2.3s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 15.73MB / 62.23MB 2.6s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 18.87MB / 62.23MB 3.0s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 22.02MB / 62.23MB 3.5s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 25.17MB / 62.23MB 3.9s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 28.31MB / 62.23MB 4.4s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 32.51MB / 62.23MB 4.8s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 35.65MB / 62.23MB 5.3s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 38.80MB / 62.23MB 8.5s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 41.94MB / 62.23MB 9.0s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 45.09MB / 62.23MB 9.4s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 48.23MB / 62.23MB 9.7s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 51.38MB / 62.23MB 10.2s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 54.53MB / 62.23MB 10.6s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 57.67MB / 62.23MB 11.1s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 60.82MB / 62.23MB 11.5s
#5 sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 62.23MB / 62.23MB 11.7s done
#5 extracting sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c
#5 extracting sha256:0cacbf38e30632d6e92070e3758b77023069207a3dc1b53bcbfca72218d8be3c 1.1s done
#5 DONE 12.8s

#6 [2/3] RUN apk add --no-cache wget tar bash &&     wget -q https://download.elastic.co/elasticsearch/elasticsearch/elasticsearch-1.4.2.tar.gz &&     tar -xzf elasticsearch-1.4.2.tar.gz -C /opt &&     mv /opt/elasticsearch-1.4.2 /opt/elasticsearch &&     rm elasticsearch-1.4.2.tar.gz &&     addgroup -S elasticsearch && adduser -S -G elasticsearch elasticsearch &&     chown -R elasticsearch:elasticsearch /opt/elasticsearch
#6 0.254 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
#6 0.444 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
#6 0.568 (1/7) Installing ncurses-terminfo-base (6.1_p20190105-r0)
#6 0.583 (2/7) Installing ncurses-terminfo (6.1_p20190105-r0)
#6 0.761 (3/7) Installing ncurses-libs (6.1_p20190105-r0)
#6 0.801 (4/7) Installing readline (7.0.003-r1)
#6 0.828 (5/7) Installing bash (4.4.19-r1)
#6 0.892 Executing bash-4.4.19-r1.post-install
#6 0.896 (6/7) Installing tar (1.32-r0)
#6 0.940 (7/7) Installing wget (1.20.3-r0)
#6 1.038 Executing busybox-1.29.3-r10.trigger
#6 1.047 OK: 134 MiB in 91 packages
#6 DONE 6.5s

#7 [3/3] WORKDIR /opt/elasticsearch
#7 DONE 0.1s

#8 exporting to image
#8 exporting layers
#8 exporting layers 1.2s done
#8 exporting manifest sha256:487a1f4622180fcc5a124477fc8cb22cd16196f0ad2e23f32f15f9c1128ef724 done
#8 exporting config sha256:989c7ce29d0e2bd4c419d92b53566a12352f82846a908964af8ca7ac05f09d1e done
#8 exporting attestation manifest sha256:fe139aaa56871c5905bd5e8294ccee65d9295e06598b015cc9875e26254fee40 0.0s done
#8 exporting manifest list sha256:c630c48286d6aa49e83b23716dbb7ded4f1fac3b2903041c000c4adb033aaeac done
#8 naming to docker.io/library/custom_no_tool-elasticsearch:latest done
#8 unpacking to docker.io/library/custom_no_tool-elasticsearch:latest
#8 unpacking to docker.io/library/custom_no_tool-elasticsearch:latest 0.5s done
#8 DONE 1.8s

#9 resolving provenance for metadata file
#9 DONE 0.0s
 custom_no_tool-elasticsearch  Built
 Network custom_no_tool_default  Creating
 Network custom_no_tool_default  Created
 Container elasticsearch_vuln  Creating
 Container elasticsearch_vuln  Created
 Container elasticsearch_vuln  Starting
 Container elasticsearch_vuln  Started


sudo docker logs 9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd --details
STDOUT:  [2025-11-02 03:31:08,634][INFO ][node                     ] [Llan the Sorcerer] version[1.4.2], pid[1], build[927caff/2014-12-16T14:11:12Z]
 [2025-11-02 03:31:08,634][INFO ][node                     ] [Llan the Sorcerer] initializing ...
 [2025-11-02 03:31:08,637][INFO ][plugins                  ] [Llan the Sorcerer] loaded [], sites []
 #
 # A fatal error has been detected by the Java Runtime Environment:
 #
 #  SIGSEGV (0xb) at pc=0x0000000000009fae, pid=1, tid=135325252389648
 #
 # JRE version: OpenJDK Runtime Environment (7.0_211-b02) (build 1.7.0_211-b02)
 # Java VM: OpenJDK 64-Bit Server VM (24.211-b02 mixed mode linux-amd64 compressed oops)
 # Derivative: IcedTea 2.6.17
 # Distribution: Custom build (Thu Apr 11 13:17:05 UTC 2019)
 # Problematic frame:
 # C  0x0000000000009fae
 #
 # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try "ulimit -c unlimited" before starting Java again
 #
 # An error report file with more information is saved as:
 # /opt/elasticsearch/hs_err_pid1.log
 #
 # If you would like to submit a bug report, please include
 # instructions on how to reproduce the bug and visit:
 #   http://icedtea.classpath.org/bugzilla
 #

STDERR: 



sudo docker inspect 9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd[
    {
        "Id": "9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd",
        "Created": "2025-11-02T03:31:07.862851079Z",
        "Path": "bin/elasticsearch",
        "Args": [],
        "State": {
            "Status": "exited",
            "Running": false,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 0,
            "ExitCode": 139,
            "Error": "",
            "StartedAt": "2025-11-02T03:31:08.034420509Z",
            "FinishedAt": "2025-11-02T03:31:13.070840967Z"
        },
        "Image": "sha256:c630c48286d6aa49e83b23716dbb7ded4f1fac3b2903041c000c4adb033aaeac",
        "ResolvConfPath": "/var/lib/docker/containers/9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd/resolv.conf",
        "HostnamePath": "/var/lib/docker/containers/9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd/hostname",
        "HostsPath": "/var/lib/docker/containers/9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd/hosts",
        "LogPath": "/var/lib/docker/containers/9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd/9620e01cc1c3d625bc943b27843234462bb67ca2210171d8ee5ffd03626454dd-json.log",
        "Name": "/elasticsearch_vuln",
        "RestartCount": 0,
        "Driver": "overlayfs",
        "Platform": "linux",
        "MountLabel": "",
        "ProcessLabel": "",
        "AppArmorProfile": "",
        "ExecIDs": null,
        "HostConfig": {
            "Binds": null,
            "ContainerIDFile": "",
            "LogConfig": {
                "Type": "json-file",
                "Config": {}
            },
            "NetworkMode": "custom_no_tool_default",
            "PortBindings": {
                "9200/tcp": [
                    {
                        "HostIp": "",
                        "HostPort": "9200"
                    }
                ]
            },
            "RestartPolicy": {
                "Name": "no",
                "MaximumRetryCount": 0
            },
            "AutoRemove": false,
            "VolumeDriver": "",
            "VolumesFrom": null,
            "ConsoleSize": [
                0,
                0
            ],
            "CapAdd": null,
            "CapDrop": null,
            "CgroupnsMode": "private",
            "Dns": null,
            "DnsOptions": null,
            "DnsSearch": null,
            "ExtraHosts": [],
            "GroupAdd": null,
            "IpcMode": "private",
            "Cgroup": "",
            "Links": null,
            "OomScoreAdj": 0,
            "PidMode": "",
            "Privileged": false,
            "PublishAllPorts": false,
            "ReadonlyRootfs": false,
            "SecurityOpt": null,
            "UTSMode": "",
            "UsernsMode": "",
            "ShmSize": 67108864,
            "Runtime": "runc",
            "Isolation": "",
            "CpuShares": 0,
            "Memory": 0,
            "NanoCpus": 0,
            "CgroupParent": "",
            "BlkioWeight": 0,
            "BlkioWeightDevice": null,
            "BlkioDeviceReadBps": null,
            "BlkioDeviceWriteBps": null,
            "BlkioDeviceReadIOps": null,
            "BlkioDeviceWriteIOps": null,
            "CpuPeriod": 0,
            "CpuQuota": 0,
            "CpuRealtimePeriod": 0,
            "CpuRealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "Devices": null,
            "DeviceCgroupRules": null,
            "DeviceRequests": null,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "MemorySwappiness": null,
            "OomKillDisable": null,
            "PidsLimit": null,
            "Ulimits": [
                {
                    "Name": "nofile",
                    "Hard": 65536,
                    "Soft": 65536
                }
            ],
            "CpuCount": 0,
            "CpuPercent": 0,
            "IOMaximumIOps": 0,
            "IOMaximumBandwidth": 0,
            "MaskedPaths": [
                "/proc/asound",
                "/proc/acpi",
                "/proc/interrupts",
                "/proc/kcore",
                "/proc/keys",
                "/proc/latency_stats",
                "/proc/timer_list",
                "/proc/timer_stats",
                "/proc/sched_debug",
                "/proc/scsi",
                "/sys/firmware",
                "/sys/devices/virtual/powercap"
            ],
            "ReadonlyPaths": [
                "/proc/bus",
                "/proc/fs",
                "/proc/irq",
                "/proc/sys",
                "/proc/sysrq-trigger"
            ]
        },
        "GraphDriver": {
            "Data": null,
            "Name": "overlayfs"
        },
        "Mounts": [],
        "Config": {
            "Hostname": "9620e01cc1c3",
            "Domainname": "",
            "User": "elasticsearch",
            "AttachStdin": false,
            "AttachStdout": true,
            "AttachStderr": true,
            "ExposedPorts": {
                "9200/tcp": {},
                "9300/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "discovery.type=single-node",
                "ES_JAVA_OPTS=-Xms512m -Xmx512m",
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/jvm/java-1.7-openjdk/jre/bin:/usr/lib/jvm/java-1.7-openjdk/bin",
                "LANG=C.UTF-8",
                "JAVA_HOME=/usr/lib/jvm/java-1.7-openjdk/jre",
                "JAVA_VERSION=7u211",
                "JAVA_ALPINE_VERSION=7.211.2.6.17-r0",
                "ES_VERSION=1.4.2"
            ],
            "Cmd": [
                "bin/elasticsearch"
            ],
            "Image": "custom_no_tool-elasticsearch",
            "Volumes": null,
            "WorkingDir": "/opt/elasticsearch",
            "Entrypoint": null,
            "OnBuild": null,
            "Labels": {
                "com.docker.compose.config-hash": "eec166de5ac2068d982c2988774d1e5eec7f20d79651600b2558c2ff10498b43",
                "com.docker.compose.container-number": "1",
                "com.docker.compose.depends_on": "",
                "com.docker.compose.image": "sha256:c630c48286d6aa49e83b23716dbb7ded4f1fac3b2903041c000c4adb033aaeac",
                "com.docker.compose.oneoff": "False",
                "com.docker.compose.project": "custom_no_tool",
                "com.docker.compose.project.config_files": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2015-1427/custom_no_tool/docker-compose.yml",
                "com.docker.compose.project.working_dir": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2015-1427/custom_no_tool",
                "com.docker.compose.service": "elasticsearch",
                "com.docker.compose.version": "2.40.2",
                "desktop.docker.io/wsl-distro": "Ubuntu"
            },
            "StopTimeout": 1
        },
        "NetworkSettings": {
            "Bridge": "",
            "SandboxID": "",
            "SandboxKey": "",
            "Ports": {},
            "HairpinMode": false,
            "LinkLocalIPv6Address": "",
            "LinkLocalIPv6PrefixLen": 0,
            "SecondaryIPAddresses": null,
            "SecondaryIPv6Addresses": null,
            "EndpointID": "",
            "Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "IPAddress": "",
            "IPPrefixLen": 0,
            "IPv6Gateway": "",
            "MacAddress": "",
            "Networks": {
                "custom_no_tool_default": {
                    "IPAMConfig": null,
                    "Links": null,
                    "Aliases": [
                        "elasticsearch_vuln",
                        "elasticsearch"
                    ],
                    "MacAddress": "",
                    "DriverOpts": null,
                    "GwPriority": 0,
                    "NetworkID": "1e9fccd6a3feba9cc1e54dbb6e44be30240d44324e501bd8335ac913d8c1c0cb",
                    "EndpointID": "",
                    "Gateway": "",
                    "IPAddress": "",
                    "IPPrefixLen": 0,
                    "IPv6Gateway": "",
                    "GlobalIPv6Address": "",
                    "GlobalIPv6PrefixLen": 0,
                    "DNSNames": [
                        "elasticsearch_vuln",
                        "elasticsearch",
                        "9620e01cc1c3"
                    ]
                }
            }
        },
        "ImageManifestDescriptor": {
            "mediaType": "application/vnd.oci.image.manifest.v1+json",
            "digest": "sha256:487a1f4622180fcc5a124477fc8cb22cd16196f0ad2e23f32f15f9c1128ef724",
            "size": 1242,
            "platform": {
                "architecture": "amd64",
                "os": "linux"
            }
        }
    }
]