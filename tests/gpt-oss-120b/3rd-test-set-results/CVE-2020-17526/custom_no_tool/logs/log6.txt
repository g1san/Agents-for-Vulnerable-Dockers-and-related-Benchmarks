time="2025-11-03T10:22:29+01:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-17526/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.36kB done
#1 DONE 0.0s

#2 [attacker internal] load build definition from Dockerfile.attacker
#2 transferring dockerfile: 115B done
#2 DONE 0.0s

#3 [vulnerable internal] load build definition from Dockerfile.vuln
#3 transferring dockerfile: 417B done
#3 DONE 0.0s

#4 [vulnerable internal] load metadata for docker.io/apache/airflow:1.10.14-python3.8
#4 ...

#5 [attacker internal] load metadata for docker.io/library/alpine:3.12
#5 DONE 0.4s

#6 [attacker internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [attacker 1/3] FROM docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69
#7 resolve docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69 0.0s done
#7 DONE 0.0s

#8 [attacker internal] load build context
#8 transferring context: 184B done
#8 DONE 0.0s

#9 [attacker 2/3] COPY exploit.sh /exploit.sh
#9 CACHED

#10 [attacker 3/3] RUN chmod +x /exploit.sh
#10 CACHED

#11 [attacker] exporting to image
#11 exporting layers done
#11 exporting manifest sha256:9212c10cc8faaca958d17b6f0725c4600e89d82a70a2725a542851c34d6f0601 done
#11 exporting config sha256:9f719847b6cac31478e023e75b66cdb2e274b371e5c268b30e1143d4d9fc16f7 done
#11 exporting attestation manifest sha256:55a4f2af778e0d56a1569ce8152b06f7ff96c7408aa1d3a92f46990f5085395b 0.0s done
#11 exporting manifest list sha256:a6fc7802878af0def7e0a81e6c6d848a25e4c8de20351356f4749f1c0791e8ab 0.0s done
#11 naming to docker.io/library/custom_no_tool-attacker:latest
#11 naming to docker.io/library/custom_no_tool-attacker:latest done
#11 unpacking to docker.io/library/custom_no_tool-attacker:latest done
#11 DONE 0.1s

#12 [attacker] resolving provenance for metadata file
#12 DONE 0.0s

#4 [vulnerable internal] load metadata for docker.io/apache/airflow:1.10.14-python3.8
#4 DONE 0.7s

#6 [vulnerable internal] load .dockerignore
#6 CACHED

#13 [vulnerable internal] load build context
#13 DONE 0.0s

#14 [vulnerable 1/5] FROM docker.io/apache/airflow:1.10.14-python3.8@sha256:c8c91029b1ec28c5de9906127b1cfcaae99b428b62d3c174ebf74e1616275c32
#14 resolve docker.io/apache/airflow:1.10.14-python3.8@sha256:c8c91029b1ec28c5de9906127b1cfcaae99b428b62d3c174ebf74e1616275c32 0.0s done
#14 CACHED

#13 [vulnerable internal] load build context
#13 transferring context: 641B done
#13 DONE 0.0s

#15 [vulnerable 2/5] RUN apt-get update && apt-get install -y netcat-openbsd && rm -rf /var/lib/apt/lists/*
#15 0.175 + apt-get update
#15 0.256 Ign:1 http://deb.debian.org/debian buster InRelease
#15 0.258 Ign:2 http://security.debian.org/debian-security buster/updates InRelease
#15 0.262 Ign:3 http://deb.debian.org/debian buster-updates InRelease
#15 0.270 Err:4 http://deb.debian.org/debian buster Release
#15 0.270   404  Not Found [IP: 151.101.242.132 80]
#15 0.271 Err:5 http://security.debian.org/debian-security buster/updates Release
#15 0.271   404  Not Found [IP: 151.101.242.132 80]
#15 0.280 Err:6 http://deb.debian.org/debian buster-updates Release
#15 0.280   404  Not Found [IP: 151.101.242.132 80]
#15 0.290 Get:7 http://repo.mysql.com/apt/debian buster InRelease [22.1 kB]
#15 0.386 Err:7 http://repo.mysql.com/apt/debian buster InRelease
#15 0.386   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
#15 0.391 Reading package lists...
#15 0.399 E: The repository 'http://deb.debian.org/debian buster Release' does not have a Release file.
#15 0.399 E: The repository 'http://security.debian.org/debian-security buster/updates Release' does not have a Release file.
#15 0.399 E: The repository 'http://deb.debian.org/debian buster-updates Release' does not have a Release file.
#15 0.399 W: GPG error: http://repo.mysql.com/apt/debian buster InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
#15 0.399 E: The repository 'http://repo.mysql.com/apt/debian buster InRelease' is not signed.
#15 ERROR: process "/bin/bash -o pipefail -e -u -x -c apt-get update && apt-get install -y netcat-openbsd && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 100
------
 > [vulnerable 2/5] RUN apt-get update && apt-get install -y netcat-openbsd && rm -rf /var/lib/apt/lists/*:
0.280   404  Not Found [IP: 151.101.242.132 80]
0.290 Get:7 http://repo.mysql.com/apt/debian buster InRelease [22.1 kB]
0.386 Err:7 http://repo.mysql.com/apt/debian buster InRelease
0.386   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
0.391 Reading package lists...
0.399 E: The repository 'http://deb.debian.org/debian buster Release' does not have a Release file.
0.399 E: The repository 'http://security.debian.org/debian-security buster/updates Release' does not have a Release file.
0.399 E: The repository 'http://deb.debian.org/debian buster-updates Release' does not have a Release file.
0.399 W: GPG error: http://repo.mysql.com/apt/debian buster InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
0.399 E: The repository 'http://repo.mysql.com/apt/debian buster InRelease' is not signed.
------
Dockerfile.vuln:7

--------------------

   5 |     USER root

   6 |     # Install netcat (nc) for readiness check

   7 | >>> RUN apt-get update && apt-get install -y netcat-openbsd && rm -rf /var/lib/apt/lists/*

   8 |     

   9 |     COPY airflow.cfg ${AIRFLOW_HOME}/airflow.cfg

--------------------

target vulnerable: failed to solve: process "/bin/bash -o pipefail -e -u -x -c apt-get update && apt-get install -y netcat-openbsd && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 100

