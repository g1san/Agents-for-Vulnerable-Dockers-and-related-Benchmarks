time="2025-11-03T10:19:35+01:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-17526/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.36kB done
#1 DONE 0.0s

#2 [vulnerable internal] load build definition from Dockerfile.vuln
#2 DONE 0.0s

#3 [attacker internal] load build definition from Dockerfile.attacker
#3 transferring dockerfile: 115B done
#3 DONE 0.1s

#2 [vulnerable internal] load build definition from Dockerfile.vuln
#2 transferring dockerfile: 260B done
#2 DONE 0.2s

#4 [vulnerable internal] load metadata for docker.io/apache/airflow:1.10.14-python3.8
#4 ...

#5 [attacker internal] load metadata for docker.io/library/alpine:3.12
#5 DONE 0.6s

#4 [vulnerable internal] load metadata for docker.io/apache/airflow:1.10.14-python3.8
#4 DONE 0.6s

#6 [vulnerable internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.1s

#7 [attacker internal] load build context
#7 DONE 0.0s

#8 [vulnerable internal] load build context
#8 DONE 0.0s

#9 [vulnerable 1/4] FROM docker.io/apache/airflow:1.10.14-python3.8@sha256:c8c91029b1ec28c5de9906127b1cfcaae99b428b62d3c174ebf74e1616275c32
#9 resolve docker.io/apache/airflow:1.10.14-python3.8@sha256:c8c91029b1ec28c5de9906127b1cfcaae99b428b62d3c174ebf74e1616275c32 0.1s done
#9 DONE 0.2s

#10 [attacker 1/3] FROM docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69
#10 resolve docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69 0.2s done
#10 DONE 0.2s

#8 [vulnerable internal] load build context
#8 transferring context: 685B done
#8 DONE 0.1s

#7 [attacker internal] load build context
#7 transferring context: 184B done
#7 DONE 0.2s

#9 [vulnerable 1/4] FROM docker.io/apache/airflow:1.10.14-python3.8@sha256:c8c91029b1ec28c5de9906127b1cfcaae99b428b62d3c174ebf74e1616275c32
#9 CACHED

#11 [attacker 2/3] COPY exploit.sh /exploit.sh
#11 CACHED

#12 [attacker 3/3] RUN chmod +x /exploit.sh
#12 CACHED

#13 [attacker] exporting to image
#13 exporting layers done
#13 exporting manifest sha256:9212c10cc8faaca958d17b6f0725c4600e89d82a70a2725a542851c34d6f0601 0.0s done
#13 exporting config sha256:9f719847b6cac31478e023e75b66cdb2e274b371e5c268b30e1143d4d9fc16f7
#13 ...

#14 [vulnerable 2/4] COPY airflow.cfg /opt/airflow/airflow.cfg
#14 DONE 0.4s

#13 [attacker] exporting to image
#13 exporting config sha256:9f719847b6cac31478e023e75b66cdb2e274b371e5c268b30e1143d4d9fc16f7 0.1s done
#13 exporting attestation manifest sha256:9239216583b1dfc5a9a5190fbeddae5bb4ac302d7337d15abe2b635646f34b3a
#13 exporting attestation manifest sha256:9239216583b1dfc5a9a5190fbeddae5bb4ac302d7337d15abe2b635646f34b3a 0.3s done
#13 exporting manifest list sha256:b9a626d16d0caca634226f04c85d9d824463fe2c87da39e9e99929178917c1d6
#13 exporting manifest list sha256:b9a626d16d0caca634226f04c85d9d824463fe2c87da39e9e99929178917c1d6 0.4s done
#13 naming to docker.io/library/custom_no_tool-attacker:latest
#13 naming to docker.io/library/custom_no_tool-attacker:latest 0.0s done
#13 unpacking to docker.io/library/custom_no_tool-attacker:latest 0.0s done
#13 DONE 1.0s

#15 [vulnerable 3/4] COPY entrypoint.sh /entrypoint.sh
#15 DONE 0.9s

#16 [vulnerable 4/4] RUN chmod +x /entrypoint.sh
#16 ...

#17 [attacker] resolving provenance for metadata file
#17 DONE 0.0s

#16 [vulnerable 4/4] RUN chmod +x /entrypoint.sh
#16 0.872 + chmod +x /entrypoint.sh
#16 0.874 chmod: changing permissions of '/entrypoint.sh': Operation not permitted
#16 ERROR: process "/bin/bash -o pipefail -e -u -x -c chmod +x /entrypoint.sh" did not complete successfully: exit code: 1
------
 > [vulnerable 4/4] RUN chmod +x /entrypoint.sh:
0.872 + chmod +x /entrypoint.sh
0.874 chmod: changing permissions of '/entrypoint.sh': Operation not permitted
------
Dockerfile.vuln:5

--------------------

   3 |     COPY airflow.cfg ${AIRFLOW_HOME}/airflow.cfg

   4 |     COPY entrypoint.sh /entrypoint.sh

   5 | >>> RUN chmod +x /entrypoint.sh

   6 |     EXPOSE 8080

   7 |     ENTRYPOINT ["/entrypoint.sh"]

--------------------

target vulnerable: failed to solve: process "/bin/bash -o pipefail -e -u -x -c chmod +x /entrypoint.sh" did not complete successfully: exit code: 1

