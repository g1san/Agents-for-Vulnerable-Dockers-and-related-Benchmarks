time="2025-11-03T10:26:20+01:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-17526/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.36kB done
#1 DONE 0.0s

#2 [vulnerable internal] load build definition from Dockerfile.vuln
#2 transferring dockerfile: 623B done
#2 DONE 0.0s

#3 [attacker internal] load build definition from Dockerfile.attacker
#3 transferring dockerfile: 115B done
#3 DONE 0.0s

#4 [attacker internal] load metadata for docker.io/library/alpine:3.12
#4 ...

#5 [vulnerable internal] load metadata for docker.io/apache/airflow:1.10.14-python3.8
#5 DONE 0.4s

#6 [vulnerable internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [vulnerable 1/5] FROM docker.io/apache/airflow:1.10.14-python3.8@sha256:c8c91029b1ec28c5de9906127b1cfcaae99b428b62d3c174ebf74e1616275c32
#7 resolve docker.io/apache/airflow:1.10.14-python3.8@sha256:c8c91029b1ec28c5de9906127b1cfcaae99b428b62d3c174ebf74e1616275c32 0.0s done
#7 CACHED

#8 [vulnerable internal] load build context
#8 transferring context: 860B done
#8 DONE 0.0s

#9 [vulnerable 2/5] RUN apt-get update &&     apt-get install -y --no-install-recommends postgresql-client &&     rm -rf /var/lib/apt/lists/* &&     pip install --no-cache-dir psycopg2-binary
#9 0.216 + apt-get update
#9 0.316 Get:1 http://repo.mysql.com/apt/debian buster InRelease [22.1 kB]
#9 0.344 Ign:2 http://deb.debian.org/debian buster InRelease
#9 ...

#6 [attacker internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#4 [attacker internal] load metadata for docker.io/library/alpine:3.12
#4 DONE 0.8s

#10 [attacker 1/3] FROM docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69
#10 resolve docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69 0.0s done
#10 DONE 0.0s

#11 [attacker internal] load build context
#11 transferring context: 185B done
#11 DONE 0.0s

#12 [attacker 2/3] COPY exploit.sh /exploit.sh
#12 CACHED

#13 [attacker 3/3] RUN chmod +x /exploit.sh
#13 CACHED

#9 [vulnerable 2/5] RUN apt-get update &&     apt-get install -y --no-install-recommends postgresql-client &&     rm -rf /var/lib/apt/lists/* &&     pip install --no-cache-dir psycopg2-binary
#9 0.351 Ign:3 http://deb.debian.org/debian buster-updates InRelease
#9 0.354 Ign:4 http://security.debian.org/debian-security buster/updates InRelease
#9 0.357 Err:5 http://deb.debian.org/debian buster Release
#9 0.357   404  Not Found [IP: 151.101.242.132 80]
#9 0.368 Err:6 http://deb.debian.org/debian buster-updates Release
#9 0.368   404  Not Found [IP: 151.101.242.132 80]
#9 0.368 Err:7 http://security.debian.org/debian-security buster/updates Release
#9 0.368   404  Not Found [IP: 151.101.242.132 80]
#9 0.458 Err:1 http://repo.mysql.com/apt/debian buster InRelease
#9 0.458   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
#9 0.465 Reading package lists...
#9 0.473 E: The repository 'http://deb.debian.org/debian buster Release' does not have a Release file.
#9 0.473 E: The repository 'http://deb.debian.org/debian buster-updates Release' does not have a Release file.
#9 0.473 E: The repository 'http://security.debian.org/debian-security buster/updates Release' does not have a Release file.
#9 0.473 W: GPG error: http://repo.mysql.com/apt/debian buster InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
#9 0.473 E: The repository 'http://repo.mysql.com/apt/debian buster InRelease' is not signed.
#9 ERROR: process "/bin/bash -o pipefail -e -u -x -c apt-get update &&     apt-get install -y --no-install-recommends postgresql-client &&     rm -rf /var/lib/apt/lists/* &&     pip install --no-cache-dir psycopg2-binary" did not complete successfully: exit code: 100

#14 [attacker] exporting to image
#14 exporting layers done
#14 exporting manifest sha256:75b914e8872b76339338579b3390071740081e48a9ab956bd922a8b3d6d73a74 done
#14 exporting config sha256:e3282ece1956d31bd2c865ad16adeb3311ac2dc252028b017621ac5692d3c3eb done
#14 exporting attestation manifest sha256:9d0cf608eff7ca3c42a9ce6b4f8aafb0024ef270da8584aa1e8f08ced8f0608b 0.0s done
#14 exporting manifest list sha256:a160f6e527192465a1cee6b7f42a2307a9f629fb42f9a5e05b02fd59137783fa 0.0s done
#14 naming to docker.io/library/custom_no_tool-attacker:latest done
#14 unpacking to docker.io/library/custom_no_tool-attacker:latest done
#14 DONE 0.1s
------
 > [vulnerable 2/5] RUN apt-get update &&     apt-get install -y --no-install-recommends postgresql-client &&     rm -rf /var/lib/apt/lists/* &&     pip install --no-cache-dir psycopg2-binary:
0.368 Err:7 http://security.debian.org/debian-security buster/updates Release
0.368   404  Not Found [IP: 151.101.242.132 80]
0.458 Err:1 http://repo.mysql.com/apt/debian buster InRelease
0.458   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
0.465 Reading package lists...
0.473 E: The repository 'http://deb.debian.org/debian buster Release' does not have a Release file.
0.473 E: The repository 'http://deb.debian.org/debian buster-updates Release' does not have a Release file.
0.473 E: The repository 'http://security.debian.org/debian-security buster/updates Release' does not have a Release file.
0.473 W: GPG error: http://repo.mysql.com/apt/debian buster InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B7B3B788A8D3785C
0.473 E: The repository 'http://repo.mysql.com/apt/debian buster InRelease' is not signed.
------
Dockerfile.vuln:8

--------------------

   7 |     USER root

   8 | >>> RUN apt-get update && \

   9 | >>>     apt-get install -y --no-install-recommends postgresql-client && \

  10 | >>>     rm -rf /var/lib/apt/lists/* && \

  11 | >>>     pip install --no-cache-dir psycopg2-binary

  12 |     

--------------------

target vulnerable: failed to solve: process "/bin/bash -o pipefail -e -u -x -c apt-get update &&     apt-get install -y --no-install-recommends postgresql-client &&     rm -rf /var/lib/apt/lists/* &&     pip install --no-cache-dir psycopg2-binary" did not complete successfully: exit code: 100

