time="2025-11-03T10:16:22+01:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-17526/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 db Pulling 
 redis Pulling 
 db Pulled 
 0392188f011d Pulling fs layer 
 ca07f9e0c857 Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 46fb2c5cb2c6 Pulling fs layer 
 7de9ddbc60e3 Pulling fs layer 
 4f4fb700ef54 Already exists 
 ca07f9e0c857 Download complete 
 0392188f011d Download complete 
 7de9ddbc60e3 Downloading [======>                                            ]  1.049MB/7.6MB
 7de9ddbc60e3 Downloading [=============>                                     ]  2.097MB/7.6MB
 7de9ddbc60e3 Downloading [====================>                              ]  3.146MB/7.6MB
 7de9ddbc60e3 Downloading [====================>                              ]  3.146MB/7.6MB
 46fb2c5cb2c6 Download complete 
 46fb2c5cb2c6 Pull complete 
 7de9ddbc60e3 Downloading [===========================>                       ]  4.194MB/7.6MB
 7de9ddbc60e3 Downloading [==================================>                ]  5.243MB/7.6MB
 7de9ddbc60e3 Downloading [=========================================>         ]  6.291MB/7.6MB
 7de9ddbc60e3 Downloading [================================================>  ]   7.34MB/7.6MB
 7de9ddbc60e3 Download complete 
 7de9ddbc60e3 Extracting 1 s
 4f4fb700ef54 Pull complete 
 ca07f9e0c857 Pull complete 
 0392188f011d Pull complete 
 7de9ddbc60e3 Pull complete 
 redis Pulled 
#1 [internal] load local bake definitions
#1 reading from stdin 1.36kB done
#1 DONE 0.0s

#2 [vulnerable internal] load build definition from Dockerfile.vuln
#2 transferring dockerfile: 116B done
#2 DONE 0.0s

#3 [attacker internal] load build definition from Dockerfile.attacker
#3 transferring dockerfile: 116B done
#3 DONE 0.0s

#4 [attacker internal] load metadata for docker.io/library/alpine:3.12
#4 DONE 0.4s

#5 [vulnerable internal] load metadata for docker.io/library/nginx:1.19.2-alpine
#5 DONE 0.4s

#6 [vulnerable internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [attacker internal] load build context
#7 transferring context: 185B done
#7 DONE 0.0s

#8 [attacker 1/3] FROM docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69
#8 resolve docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69 0.0s done
#8 CACHED

#9 [vulnerable internal] load build context
#9 transferring context: 177B done
#9 DONE 0.1s

#10 [vulnerable 1/2] FROM docker.io/library/nginx:1.19.2-alpine@sha256:a97eb9ecc708c8aa715ccfb5e9338f5456e4b65575daf304f108301f3b497314
#10 resolve docker.io/library/nginx:1.19.2-alpine@sha256:a97eb9ecc708c8aa715ccfb5e9338f5456e4b65575daf304f108301f3b497314 0.1s done
#10 CACHED

#11 [attacker 2/3] COPY exploit.sh /exploit.sh
#11 DONE 0.1s

#12 [vulnerable 2/2] COPY index.html /usr/share/nginx/html/index.html
#12 DONE 0.0s

#13 [vulnerable] exporting to image
#13 exporting layers 0.1s done
#13 exporting manifest sha256:43a783c68827bfda203c1644737356c045e14e8d3cdf388cf033d7d9441c3807 0.0s done
#13 exporting config sha256:478d1df0512f547560bb94856022edac57ba3569deb2c72d0fb19269bb2ed035 0.0s done
#13 exporting attestation manifest sha256:76c362686534ced319865528624744563eb2ad9ad123e20b44aa46cc31e3fae2
#13 exporting attestation manifest sha256:76c362686534ced319865528624744563eb2ad9ad123e20b44aa46cc31e3fae2 0.0s done
#13 exporting manifest list sha256:b72dc55abdf8e814711bcb30970cd0d98ddcacc0c68771a13b320bcf4642d2dc 0.0s done
#13 naming to docker.io/library/custom_no_tool-vulnerable:latest done
#13 unpacking to docker.io/library/custom_no_tool-vulnerable:latest 0.0s done
#13 DONE 0.2s

#14 [vulnerable] resolving provenance for metadata file
#14 DONE 0.0s

#15 [attacker 3/3] RUN chmod +x /exploit.sh
#15 DONE 0.4s

#16 [attacker] exporting to image
#16 exporting layers 0.1s done
#16 exporting manifest sha256:c7fb039b1eb88207bee89550996501b5cc301f0115faaf3d4a7530befccd2064 0.0s done
#16 exporting config sha256:809af028dce697d073639c7fc9117c85bae1f901769bf4f6ec0227223dbc54d7 0.0s done
#16 exporting attestation manifest sha256:5ad7f8fc82611321ad59424f1a5a6dd9fc9f8ae891294d451cf7047948e66631 0.0s done
#16 exporting manifest list sha256:b19106204d6e0712e1f3905ef1c8170fe0400131994c547c6d548cbf80a253ed 0.0s done
#16 naming to docker.io/library/custom_no_tool-attacker:latest done
#16 unpacking to docker.io/library/custom_no_tool-attacker:latest 0.0s done
#16 DONE 0.2s

#17 [attacker] resolving provenance for metadata file
#17 DONE 0.0s
 custom_no_tool-vulnerable  Built
 custom_no_tool-attacker  Built
 Network custom_no_tool_default  Creating
 Network custom_no_tool_default  Created
 Container custom_no_tool-db-1  Creating
 Container custom_no_tool-redis-1  Creating
 Container custom_no_tool-redis-1  Created
 Container custom_no_tool-db-1  Created
 Container custom_no_tool-vulnerable-1  Creating
 Container custom_no_tool-vulnerable-1  Created
 Container custom_no_tool-attacker-1  Creating
 Container custom_no_tool-attacker-1  Created
 Container custom_no_tool-db-1  Starting
 Container custom_no_tool-redis-1  Starting
 Container custom_no_tool-redis-1  Started
 Container custom_no_tool-db-1  Started
 Container custom_no_tool-vulnerable-1  Starting
 Container custom_no_tool-vulnerable-1  Started
 Container custom_no_tool-attacker-1  Starting
 Container custom_no_tool-attacker-1  Started


sudo docker logs 855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3 --details
STDOUT: 
STDERR: 



sudo docker inspect 855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3[
    {
        "Id": "855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3",
        "Created": "2025-11-03T09:16:28.663897298Z",
        "Path": "/exploit.sh",
        "Args": [],
        "State": {
            "Status": "exited",
            "Running": false,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 0,
            "ExitCode": 0,
            "Error": "",
            "StartedAt": "2025-11-03T09:16:29.346759933Z",
            "FinishedAt": "2025-11-03T09:16:29.544692571Z"
        },
        "Image": "sha256:b19106204d6e0712e1f3905ef1c8170fe0400131994c547c6d548cbf80a253ed",
        "ResolvConfPath": "/var/lib/docker/containers/855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3/resolv.conf",
        "HostnamePath": "/var/lib/docker/containers/855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3/hostname",
        "HostsPath": "/var/lib/docker/containers/855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3/hosts",
        "LogPath": "/var/lib/docker/containers/855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3/855a64c10d121b67dbb5307ff62ec65ef0921dd580b2cfa93285a27445351fd3-json.log",
        "Name": "/custom_no_tool-attacker-1",
        "RestartCount": 0,
        "Driver": "overlayfs",
        "Platform": "linux",
        "MountLabel": "",
        "ProcessLabel": "",
        "AppArmorProfile": "",
        "ExecIDs": null,
        "HostConfig": {
            "Binds": [
                "/:/host:rw"
            ],
            "ContainerIDFile": "",
            "LogConfig": {
                "Type": "json-file",
                "Config": {}
            },
            "NetworkMode": "custom_no_tool_default",
            "PortBindings": {},
            "RestartPolicy": {
                "Name": "no",
                "MaximumRetryCount": 0
            },
            "AutoRemove": false,
            "VolumeDriver": "",
            "VolumesFrom": null,
            "ConsoleSize": [
                0,
                0
            ],
            "CapAdd": null,
            "CapDrop": null,
            "CgroupnsMode": "private",
            "Dns": null,
            "DnsOptions": null,
            "DnsSearch": null,
            "ExtraHosts": [],
            "GroupAdd": null,
            "IpcMode": "private",
            "Cgroup": "",
            "Links": null,
            "OomScoreAdj": 0,
            "PidMode": "",
            "Privileged": true,
            "PublishAllPorts": false,
            "ReadonlyRootfs": false,
            "SecurityOpt": [
                "label=disable"
            ],
            "UTSMode": "",
            "UsernsMode": "",
            "ShmSize": 67108864,
            "Runtime": "runc",
            "Isolation": "",
            "CpuShares": 0,
            "Memory": 0,
            "NanoCpus": 0,
            "CgroupParent": "",
            "BlkioWeight": 0,
            "BlkioWeightDevice": null,
            "BlkioDeviceReadBps": null,
            "BlkioDeviceWriteBps": null,
            "BlkioDeviceReadIOps": null,
            "BlkioDeviceWriteIOps": null,
            "CpuPeriod": 0,
            "CpuQuota": 0,
            "CpuRealtimePeriod": 0,
            "CpuRealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "Devices": null,
            "DeviceCgroupRules": null,
            "DeviceRequests": null,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "MemorySwappiness": null,
            "OomKillDisable": null,
            "PidsLimit": null,
            "Ulimits": null,
            "CpuCount": 0,
            "CpuPercent": 0,
            "IOMaximumIOps": 0,
            "IOMaximumBandwidth": 0,
            "MaskedPaths": null,
            "ReadonlyPaths": null
        },
        "GraphDriver": {
            "Data": null,
            "Name": "overlayfs"
        },
        "Mounts": [
            {
                "Type": "bind",
                "Source": "/",
                "Destination": "/host",
                "Mode": "rw",
                "RW": true,
                "Propagation": "rprivate"
            }
        ],
        "Config": {
            "Hostname": "855a64c10d12",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": true,
            "AttachStderr": true,
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
            ],
            "Cmd": [
                "/exploit.sh"
            ],
            "Image": "custom_no_tool-attacker",
            "Volumes": null,
            "WorkingDir": "",
            "Entrypoint": null,
            "OnBuild": null,
            "Labels": {
                "com.docker.compose.config-hash": "bef88b475cc5c23a3257f97a9aaa568aa89c563e5b32dd1ff651236f257de8e5",
                "com.docker.compose.container-number": "1",
                "com.docker.compose.depends_on": "vulnerable:service_started:false",
                "com.docker.compose.image": "sha256:b19106204d6e0712e1f3905ef1c8170fe0400131994c547c6d548cbf80a253ed",
                "com.docker.compose.oneoff": "False",
                "com.docker.compose.project": "custom_no_tool",
                "com.docker.compose.project.config_files": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-17526/custom_no_tool/docker-compose.yml",
                "com.docker.compose.project.working_dir": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-17526/custom_no_tool",
                "com.docker.compose.service": "attacker",
                "com.docker.compose.version": "2.40.2",
                "desktop.docker.io/wsl-distro": "Ubuntu"
            },
            "StopTimeout": 1
        },
        "NetworkSettings": {
            "Bridge": "",
            "SandboxID": "",
            "SandboxKey": "",
            "Ports": {},
            "HairpinMode": false,
            "LinkLocalIPv6Address": "",
            "LinkLocalIPv6PrefixLen": 0,
            "SecondaryIPAddresses": null,
            "SecondaryIPv6Addresses": null,
            "EndpointID": "",
            "Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "IPAddress": "",
            "IPPrefixLen": 0,
            "IPv6Gateway": "",
            "MacAddress": "",
            "Networks": {
                "custom_no_tool_default": {
                    "IPAMConfig": null,
                    "Links": null,
                    "Aliases": [
                        "custom_no_tool-attacker-1",
                        "attacker"
                    ],
                    "MacAddress": "",
                    "DriverOpts": null,
                    "GwPriority": 0,
                    "NetworkID": "9034f2ab5778b4f2f9722c01add3d2b07e44683db1a6f9f0539ec55a612ad13d",
                    "EndpointID": "",
                    "Gateway": "",
                    "IPAddress": "",
                    "IPPrefixLen": 0,
                    "IPv6Gateway": "",
                    "GlobalIPv6Address": "",
                    "GlobalIPv6PrefixLen": 0,
                    "DNSNames": [
                        "custom_no_tool-attacker-1",
                        "attacker",
                        "855a64c10d12"
                    ]
                }
            }
        },
        "ImageManifestDescriptor": {
            "mediaType": "application/vnd.oci.image.manifest.v1+json",
            "digest": "sha256:c7fb039b1eb88207bee89550996501b5cc301f0115faaf3d4a7530befccd2064",
            "size": 857,
            "platform": {
                "architecture": "amd64",
                "os": "linux"
            }
        }
    }
]