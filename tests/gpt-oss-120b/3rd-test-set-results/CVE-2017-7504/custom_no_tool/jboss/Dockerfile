FROM openjdk:8-jdk-slim
ENV JBOSS_VERSION=4.2.3.GA
ENV JBOSS_HOME=/opt/jboss
RUN apt-get update && \
    apt-get install -y --no-install-recommends wget unzip && \
    mkdir -p $JBOSS_HOME && \
    wget -q -L -O /tmp/jboss.zip "https://downloads.sourceforge.net/project/jboss/JBoss%20${JBOSS_VERSION}/jboss-${JBOSS_VERSION}.zip" && \
    unzip -q /tmp/jboss.zip -d $JBOSS_HOME && \
    rm /tmp/jboss.zip && \
    chmod +x $JBOSS_HOME/jboss-${JBOSS_VERSION}/bin/run.sh && \
    apt-get purge -y --auto-remove wget unzip && \
    rm -rf /var/lib/apt/lists/*
EXPOSE 8080
WORKDIR $JBOSS_HOME/jboss-${JBOSS_VERSION}
CMD ["./bin/run.sh", "-b", "0.0.0.0"]