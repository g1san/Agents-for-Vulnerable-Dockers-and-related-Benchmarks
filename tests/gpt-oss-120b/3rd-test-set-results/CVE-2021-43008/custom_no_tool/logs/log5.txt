#1 [internal] load local bake definitions
#1 reading from stdin 695B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 742B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:14-alpine
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 96B done
#4 DONE 0.0s

#5 [builder 1/6] FROM docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33
#5 resolve docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33 0.0s done
#5 DONE 0.0s

#6 [builder 2/6] WORKDIR /app
#6 CACHED

#7 [internal] load build context
#7 transferring context: 25.01kB done
#7 DONE 0.0s

#8 [builder 3/6] RUN apk add --no-cache python3 make g++
#8 CACHED

#9 [builder 4/6] COPY package.json package-lock.json ./
#9 CACHED

#10 [builder 5/6] RUN npm install --production --legacy-peer-deps
#10 2.463 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/unpipe-79a29d9a/package.json'
#10 2.464 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/finalhandler-5ca8754c/package.json'
#10 2.465 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/raw-body-4cff8c15/package.json'
#10 2.468 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/body-parser-9688bcf4/package.json'
#10 2.468 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/utils-merge-ba292075/package.json'
#10 2.469 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/vary-6eca1abe/package.json'
#10 2.475 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/unpipe-79a29d9a/README.md'
#10 2.475 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/finalhandler-5ca8754c/HISTORY.md'
#10 2.475 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/raw-body-4cff8c15/HISTORY.md'
#10 2.477 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/body-parser-9688bcf4/HISTORY.md'
#10 2.477 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/utils-merge-ba292075/.npmignore'
#10 2.478 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/vary-6eca1abe/README.md'
#10 2.502 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/unpipe-79a29d9a/LICENSE'
#10 2.502 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/finalhandler-5ca8754c/index.js'
#10 2.502 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/raw-body-4cff8c15/index.d.ts'
#10 2.504 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/utils-merge-ba292075/README.md'
#10 2.504 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/vary-6eca1abe/LICENSE'
#10 2.511 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/unpipe-79a29d9a/index.js'
#10 2.511 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/finalhandler-5ca8754c/LICENSE'
#10 2.511 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/raw-body-4cff8c15/index.js'
#10 2.513 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/body-parser-9688bcf4/index.js'
#10 2.513 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/utils-merge-ba292075/LICENSE'
#10 2.514 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/vary-6eca1abe/index.js'
#10 2.518 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/unpipe-79a29d9a/HISTORY.md'
#10 2.518 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/finalhandler-5ca8754c/README.md'
#10 2.520 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/body-parser-9688bcf4/LICENSE'
#10 2.520 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/utils-merge-ba292075/index.js'
#10 2.520 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/vary-6eca1abe/HISTORY.md'
#10 2.523 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/raw-body-4cff8c15/LICENSE'
#10 2.525 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/body-parser-9688bcf4/README.md'
#10 2.528 npm WARN tar ENOENT: no such file or directory, open '/app/node_modules/.staging/raw-body-4cff8c15/README.md'
#10 2.533 npm WARN tar ENOENT: no such file or directory, lstat '/app/node_modules/.staging/body-parser-9688bcf4/lib'
#10 2.539 npm WARN tar ENOENT: no such file or directory, lstat '/app/node_modules/.staging/body-parser-9688bcf4/lib'
#10 2.542 npm WARN tar ENOENT: no such file or directory, lstat '/app/node_modules/.staging/body-parser-9688bcf4/lib'
#10 2.545 npm WARN tar ENOENT: no such file or directory, lstat '/app/node_modules/.staging/body-parser-9688bcf4/lib'
#10 2.547 npm WARN tar ENOENT: no such file or directory, lstat '/app/node_modules/.staging/body-parser-9688bcf4/lib'
#10 2.764 npm WARN vulnerable-app@1.0.0 No repository field.
#10 2.776 npm WARN vulnerable-app@1.0.0 No license field.
#10 2.776 
#10 2.787 npm ERR! code EISDIR
#10 2.787 npm ERR! syscall read
#10 2.787 npm ERR! errno -21
#10 2.789 npm ERR! EISDIR: illegal operation on a directory, read
#10 2.794 
#10 2.794 npm ERR! A complete log of this run can be found in:
#10 2.794 npm ERR!     /root/.npm/_logs/2025-11-01T21_24_10_099Z-debug.log
#10 ERROR: process "/bin/sh -c npm install --production --legacy-peer-deps" did not complete successfully: exit code: 235
------
 > [builder 5/6] RUN npm install --production --legacy-peer-deps:
2.764 npm WARN vulnerable-app@1.0.0 No repository field.
2.776 npm WARN vulnerable-app@1.0.0 No license field.
2.776 
2.787 npm ERR! code EISDIR
2.787 npm ERR! syscall read
2.787 npm ERR! errno -21
2.789 npm ERR! EISDIR: illegal operation on a directory, read
2.794 
2.794 npm ERR! A complete log of this run can be found in:
2.794 npm ERR!     /root/.npm/_logs/2025-11-01T21_24_10_099Z-debug.log
------
Dockerfile:9

--------------------

   7 |     ENV NODE_ENV=production

   8 |     # Use legacy peer deps flag to avoid peerâ€‘dependency conflicts during install

   9 | >>> RUN npm install --production --legacy-peer-deps

  10 |     # Copy application source code (excluding node_modules via .dockerignore)

  11 |     COPY . .

--------------------

failed to solve: process "/bin/sh -c npm install --production --legacy-peer-deps" did not complete successfully: exit code: 235

