This Docker setup reproduces CVE-2021-45232 by deploying the Apache APISIX Dashboard using a vulnerable version (2.9.0) with authentication disabled and an embedded etcd instance.

To start the vulnerable environment, run the following command from the repository root (or any directory you prefer):

    sudo docker compose -f ./../../dockers/CVE-2021-45232/custom_no_tool/docker-compose.yml up -d

The dashboard's Manager API will be reachable on host port 9000. Because authentication is omitted, any client can call the API endpoints, read or modify gateway configuration objects, and inject malicious Lua code, leading to remote code execution as described in CVE-2021-45232.

The compose file also launches an etcd service (container name "etcd") listening on port 2379, which the dashboard uses for its configuration store. The etcd image tag has been set to a concrete `3.5.9` version to guarantee availability.

The dashboard configuration file is mounted using a relative path (`./dashboard_config.yaml`) which resolves correctly when the compose file is executed from its own directory or when the command is run from the repository root as shown above.

No additional manual steps are required. All services start automatically and are accessible on their default network ports.