time="2025-11-02T16:07:37+01:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2018-10054/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 691B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 412B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/openjdk:8-jre-alpine
#3 DONE 1.6s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 1.02kB 0.0s done
#5 DONE 0.0s

#6 [1/5] FROM docker.io/library/openjdk:8-jre-alpine@sha256:f362b165b870ef129cbe730f29065ff37399c0aa8bcab3e44b51c302938c9193
#6 resolve docker.io/library/openjdk:8-jre-alpine@sha256:f362b165b870ef129cbe730f29065ff37399c0aa8bcab3e44b51c302938c9193 0.0s done
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 0B / 54.94MB 0.2s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 3.15MB / 54.94MB 0.8s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 6.29MB / 54.94MB 1.2s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 9.44MB / 54.94MB 1.7s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 12.58MB / 54.94MB 2.1s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 15.73MB / 54.94MB 2.6s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 18.87MB / 54.94MB 3.0s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 22.02MB / 54.94MB 3.3s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 25.17MB / 54.94MB 3.8s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 28.31MB / 54.94MB 4.2s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 31.46MB / 54.94MB 4.7s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 34.60MB / 54.94MB 5.1s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 37.75MB / 54.94MB 5.6s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 41.94MB / 54.94MB 6.0s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 45.09MB / 54.94MB 6.5s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 48.23MB / 54.94MB 7.9s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 51.38MB / 54.94MB 9.7s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 54.94MB / 54.94MB 10.1s
#6 sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 54.94MB / 54.94MB 10.2s done
#6 extracting sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639
#6 extracting sha256:b6abafe80f63b02535fc111df2ed6b3c728469679ab654e03e482b6f347c9639 0.6s done
#6 DONE 10.8s

#7 [2/5] RUN apk add --no-cache wget &&     wget -O /h2-1.4.197.jar https://repo1.maven.org/maven2/com/h2database/h2/1.4.197/h2-1.4.197.jar &&     mkdir -p /scripts /data
#7 0.235 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
#7 0.507 fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
#7 0.655 (1/1) Installing wget (1.20.3-r0)
#7 0.721 Executing busybox-1.29.3-r10.trigger
#7 0.728 OK: 85 MiB in 54 packages
#7 0.746 --2025-11-02 15:07:51--  https://repo1.maven.org/maven2/com/h2database/h2/1.4.197/h2-1.4.197.jar
#7 0.756 Resolving repo1.maven.org... 104.18.19.12, 104.18.18.12
#7 0.849 Connecting to repo1.maven.org|104.18.19.12|:443... connected.
#7 0.896 HTTP request sent, awaiting response... 200 OK
#7 0.938 Length: 1927540 (1.8M) [application/java-archive]
#7 0.938 Saving to: '/h2-1.4.197.jar'
#7 0.938 
#7 0.938      0K .......... .......... .......... .......... ..........  2% 5.25M 0s
#7 0.948     50K .......... .......... .......... .......... ..........  5% 10.6M 0s
#7 0.952    100K .......... .......... .......... .......... ..........  7% 5.77M 0s
#7 0.961    150K .......... .......... .......... .......... .......... 10% 7.33M 0s
#7 0.967    200K .......... .......... .......... .......... .......... 13% 6.40M 0s
#7 0.975    250K .......... .......... .......... .......... .......... 15% 4.83M 0s
#7 0.985    300K .......... .......... .......... .......... .......... 18% 8.90M 0s
#7 0.990    350K .......... .......... .......... .......... .......... 21% 5.95M 0s
#7 0.999    400K .......... .......... .......... .......... .......... 23% 7.98M 0s
#7 1.005    450K .......... .......... .......... .......... .......... 26% 6.70M 0s
#7 1.012    500K .......... .......... .......... .......... .......... 29%  958K 0s
#7 1.064    550K .......... .......... .......... .......... .......... 31% 5.97M 0s
#7 1.072    600K .......... .......... .......... .......... .......... 34% 9.64M 0s
#7 1.077    650K .......... .......... .......... .......... .......... 37% 6.45M 0s
#7 1.085    700K .......... .......... .......... .......... .......... 39% 8.34M 0s
#7 1.091    750K .......... .......... .......... .......... .......... 42% 6.70M 0s
#7 1.098    800K .......... .......... .......... .......... .......... 45% 8.81M 0s
#7 1.104    850K .......... .......... .......... .......... .......... 47% 6.84M 0s
#7 1.111    900K .......... .......... .......... .......... .......... 50% 7.07M 0s
#7 1.118    950K .......... .......... .......... .......... .......... 53% 8.63M 0s
#7 1.123   1000K .......... .......... .......... .......... .......... 55% 6.94M 0s
#7 1.131   1050K .......... .......... .......... .......... .......... 58% 4.43M 0s
#7 1.141   1100K .......... .......... .......... .......... .......... 61% 10.7M 0s
#7 1.146   1150K .......... .......... .......... .......... .......... 63% 8.97M 0s
#7 1.151   1200K .......... .......... .......... .......... .......... 66% 6.81M 0s
#7 1.159   1250K .......... .......... .......... .......... .......... 69% 5.44M 0s
#7 1.168   1300K .......... .......... .......... .......... .......... 71% 5.84M 0s
#7 1.176   1350K .......... .......... .......... .......... .......... 74% 10.3M 0s
#7 1.181   1400K .......... .......... .......... .......... .......... 77% 11.1M 0s
#7 1.185   1450K .......... .......... .......... .......... .......... 79% 7.52M 0s
#7 1.192   1500K .......... .......... .......... .......... .......... 82% 8.14M 0s
#7 1.198   1550K .......... .......... .......... .......... .......... 84% 8.81M 0s
#7 1.203   1600K .......... .......... .......... .......... .......... 87% 6.78M 0s
#7 1.210   1650K .......... .......... .......... .......... .......... 90% 13.1M 0s
#7 1.214   1700K .......... .......... .......... .......... .......... 92% 14.6M 0s
#7 1.217   1750K .......... .......... .......... .......... .......... 95% 6.56M 0s
#7 1.225   1800K .......... .......... .......... .......... .......... 98% 9.05M 0s
#7 1.230   1850K .......... .......... .......... ..                   100% 7.91M=0.3s
#7 1.234 
#7 1.234 2025-11-02 15:07:51 (6.21 MB/s) - '/h2-1.4.197.jar' saved [1927540/1927540]
#7 1.234 
#7 DONE 1.4s

#8 [3/5] COPY init.sql /scripts/init.sql
#8 DONE 0.0s

#9 [4/5] COPY entrypoint.sh /entrypoint.sh
#9 DONE 0.0s

#10 [5/5] RUN chmod +x /entrypoint.sh
#10 DONE 0.2s

#11 exporting to image
#11 exporting layers
#11 exporting layers 0.2s done
#11 exporting manifest sha256:78e600d536c122e13720a9a90c0704713475030380a08aef9580d25dc60cdcf3 done
#11 exporting config sha256:71caaa0502e16878b75fbbd1efc2584268a52126c12dfaf83c3e9003cbe9c374 0.0s done
#11 exporting attestation manifest sha256:777c60967286e40d06eee04d8107ac500f51011c06b431512578a8a9d3d6d044 0.0s done
#11 exporting manifest list sha256:e067bc61b2e1dd0dcbbf02646ca3b737f918add8197d7d0ee7e63ebab48403e1 0.0s done
#11 naming to docker.io/library/custom_no_tool-h2:latest done
#11 unpacking to docker.io/library/custom_no_tool-h2:latest 0.1s done
#11 DONE 0.4s

#12 resolving provenance for metadata file
#12 DONE 0.0s
 custom_no_tool-h2  Built
 Network custom_no_tool_default  Creating
 Network custom_no_tool_default  Created
 Volume custom_no_tool_h2-data  Creating
 Volume custom_no_tool_h2-data  Created
 Container custom_no_tool-h2-1  Creating
 Container custom_no_tool-h2-1  Created
 Container custom_no_tool-h2-1  Starting
 Container custom_no_tool-h2-1  Started


sudo docker logs 6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7 --details
STDOUT:  Starts the H2 Console (web-) server, TCP, and PG server.
 Usage: java org.h2.tools.Server <options>
 When running without options, -tcp, -web, -browser and -pg are started.
 Options are case sensitive. Supported options are:
 [-help] or [-?]         Print the list of options
 [-web]                  Start the web server with the H2 Console
 [-webAllowOthers]       Allow other computers to connect - see below
 [-webDaemon]            Use a daemon thread
 [-webPort <port>]       The port (default: 8082)
 [-webSSL]               Use encrypted (HTTPS) connections
 [-browser]              Start a browser connecting to the web server
 [-tcp]                  Start the TCP server
 [-tcpAllowOthers]       Allow other computers to connect - see below
 [-tcpDaemon]            Use a daemon thread
 [-tcpPort <port>]       The port (default: 9092)
 [-tcpSSL]               Use encrypted (SSL) connections
 [-tcpPassword <pwd>]    The password for shutting down a TCP server
 [-tcpShutdown "<url>"]  Stop the TCP server; example: tcp://localhost
 [-tcpShutdownForce]     Do not wait until all connections are closed
 [-pg]                   Start the PG server
 [-pgAllowOthers]        Allow other computers to connect - see below
 [-pgDaemon]             Use a daemon thread
 [-pgPort <port>]        The port (default: 5435)
 [-properties "<dir>"]   Server properties (default: ~, disable: null)
 [-baseDir <dir>]        The base directory for H2 databases (all servers)
 [-ifExists]             Only existing databases may be opened (all servers)
 [-trace]                Print additional trace information (all servers)
 [-key <from> <to>]      Allows to map a database name to another (all servers)
 The options -xAllowOthers are potentially risky.
 For details, see Advanced Topics / Protection against Remote Access.
 See also http://h2database.com/javadoc/org/h2/tools/Server.html
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...
 Waiting for H2 server to become ready...

STDERR:  Exception in thread "main" org.h2.jdbc.JdbcSQLException: Feature not supported: "-ifNotExists" [50100-197]
 	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
 	at org.h2.message.DbException.get(DbException.java:179)
 	at org.h2.message.DbException.get(DbException.java:155)
 	at org.h2.util.Tool.throwUnsupportedOption(Tool.java:68)
 	at org.h2.util.Tool.showUsageAndThrowUnsupportedOption(Tool.java:57)
 	at org.h2.tools.Server.runTool(Server.java:288)
 	at org.h2.tools.Server.main(Server.java:118)




sudo docker inspect 6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7[
    {
        "Id": "6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7",
        "Created": "2025-11-02T15:07:52.770569148Z",
        "Path": "/entrypoint.sh",
        "Args": [],
        "State": {
            "Status": "running",
            "Running": true,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 73234,
            "ExitCode": 0,
            "Error": "",
            "StartedAt": "2025-11-02T15:07:52.8954032Z",
            "FinishedAt": "0001-01-01T00:00:00Z"
        },
        "Image": "sha256:e067bc61b2e1dd0dcbbf02646ca3b737f918add8197d7d0ee7e63ebab48403e1",
        "ResolvConfPath": "/var/lib/docker/containers/6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7/resolv.conf",
        "HostnamePath": "/var/lib/docker/containers/6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7/hostname",
        "HostsPath": "/var/lib/docker/containers/6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7/hosts",
        "LogPath": "/var/lib/docker/containers/6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7/6a9d1f94964603877f5dd49726cd9dbb93cad76d0c7306d77dccd7e1d83137b7-json.log",
        "Name": "/custom_no_tool-h2-1",
        "RestartCount": 0,
        "Driver": "overlayfs",
        "Platform": "linux",
        "MountLabel": "",
        "ProcessLabel": "",
        "AppArmorProfile": "",
        "ExecIDs": null,
        "HostConfig": {
            "Binds": [
                "custom_no_tool_h2-data:/data:rw"
            ],
            "ContainerIDFile": "",
            "LogConfig": {
                "Type": "json-file",
                "Config": {}
            },
            "NetworkMode": "custom_no_tool_default",
            "PortBindings": {
                "8082/tcp": [
                    {
                        "HostIp": "",
                        "HostPort": "8082"
                    }
                ],
                "9092/tcp": [
                    {
                        "HostIp": "",
                        "HostPort": "9092"
                    }
                ]
            },
            "RestartPolicy": {
                "Name": "unless-stopped",
                "MaximumRetryCount": 0
            },
            "AutoRemove": false,
            "VolumeDriver": "",
            "VolumesFrom": null,
            "ConsoleSize": [
                0,
                0
            ],
            "CapAdd": null,
            "CapDrop": null,
            "CgroupnsMode": "private",
            "Dns": null,
            "DnsOptions": null,
            "DnsSearch": null,
            "ExtraHosts": [],
            "GroupAdd": null,
            "IpcMode": "private",
            "Cgroup": "",
            "Links": null,
            "OomScoreAdj": 0,
            "PidMode": "",
            "Privileged": false,
            "PublishAllPorts": false,
            "ReadonlyRootfs": false,
            "SecurityOpt": null,
            "UTSMode": "",
            "UsernsMode": "",
            "ShmSize": 67108864,
            "Runtime": "runc",
            "Isolation": "",
            "CpuShares": 0,
            "Memory": 0,
            "NanoCpus": 0,
            "CgroupParent": "",
            "BlkioWeight": 0,
            "BlkioWeightDevice": null,
            "BlkioDeviceReadBps": null,
            "BlkioDeviceWriteBps": null,
            "BlkioDeviceReadIOps": null,
            "BlkioDeviceWriteIOps": null,
            "CpuPeriod": 0,
            "CpuQuota": 0,
            "CpuRealtimePeriod": 0,
            "CpuRealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "Devices": null,
            "DeviceCgroupRules": null,
            "DeviceRequests": null,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "MemorySwappiness": null,
            "OomKillDisable": null,
            "PidsLimit": null,
            "Ulimits": null,
            "CpuCount": 0,
            "CpuPercent": 0,
            "IOMaximumIOps": 0,
            "IOMaximumBandwidth": 0,
            "MaskedPaths": [
                "/proc/asound",
                "/proc/acpi",
                "/proc/interrupts",
                "/proc/kcore",
                "/proc/keys",
                "/proc/latency_stats",
                "/proc/timer_list",
                "/proc/timer_stats",
                "/proc/sched_debug",
                "/proc/scsi",
                "/sys/firmware",
                "/sys/devices/virtual/powercap"
            ],
            "ReadonlyPaths": [
                "/proc/bus",
                "/proc/fs",
                "/proc/irq",
                "/proc/sys",
                "/proc/sysrq-trigger"
            ]
        },
        "GraphDriver": {
            "Data": null,
            "Name": "overlayfs"
        },
        "Mounts": [
            {
                "Type": "volume",
                "Name": "custom_no_tool_h2-data",
                "Source": "/var/lib/docker/volumes/custom_no_tool_h2-data/_data",
                "Destination": "/data",
                "Driver": "local",
                "Mode": "rw",
                "RW": true,
                "Propagation": ""
            }
        ],
        "Config": {
            "Hostname": "6a9d1f949646",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": true,
            "AttachStderr": true,
            "ExposedPorts": {
                "8082/tcp": {},
                "9092/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "H2_VERSION=1.4.197",
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/jvm/java-1.8-openjdk/jre/bin:/usr/lib/jvm/java-1.8-openjdk/bin",
                "LANG=C.UTF-8",
                "JAVA_HOME=/usr/lib/jvm/java-1.8-openjdk/jre",
                "JAVA_VERSION=8u212",
                "JAVA_ALPINE_VERSION=8.212.04-r0"
            ],
            "Cmd": null,
            "Image": "custom_no_tool-h2",
            "Volumes": null,
            "WorkingDir": "",
            "Entrypoint": [
                "/entrypoint.sh"
            ],
            "OnBuild": null,
            "Labels": {
                "com.docker.compose.config-hash": "1f241b25f550b49df5bdf8eea07e0e77efec30b3ddf81e1f442a699663ecc4c6",
                "com.docker.compose.container-number": "1",
                "com.docker.compose.depends_on": "",
                "com.docker.compose.image": "sha256:e067bc61b2e1dd0dcbbf02646ca3b737f918add8197d7d0ee7e63ebab48403e1",
                "com.docker.compose.oneoff": "False",
                "com.docker.compose.project": "custom_no_tool",
                "com.docker.compose.project.config_files": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2018-10054/custom_no_tool/docker-compose.yml",
                "com.docker.compose.project.working_dir": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2018-10054/custom_no_tool",
                "com.docker.compose.service": "h2",
                "com.docker.compose.version": "2.40.2",
                "desktop.docker.io/wsl-distro": "Ubuntu"
            },
            "StopTimeout": 1
        },
        "NetworkSettings": {
            "Bridge": "",
            "SandboxID": "23379c8a6ad4a3622e85d61e0c340b4f5268def10b715c9d9f7ab5257e6e6eb0",
            "SandboxKey": "/var/run/docker/netns/23379c8a6ad4",
            "Ports": {
                "8082/tcp": [
                    {
                        "HostIp": "0.0.0.0",
                        "HostPort": "8082"
                    },
                    {
                        "HostIp": "::",
                        "HostPort": "8082"
                    }
                ],
                "9092/tcp": [
                    {
                        "HostIp": "0.0.0.0",
                        "HostPort": "9092"
                    },
                    {
                        "HostIp": "::",
                        "HostPort": "9092"
                    }
                ]
            },
            "HairpinMode": false,
            "LinkLocalIPv6Address": "",
            "LinkLocalIPv6PrefixLen": 0,
            "SecondaryIPAddresses": null,
            "SecondaryIPv6Addresses": null,
            "EndpointID": "",
            "Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "IPAddress": "",
            "IPPrefixLen": 0,
            "IPv6Gateway": "",
            "MacAddress": "",
            "Networks": {
                "custom_no_tool_default": {
                    "IPAMConfig": null,
                    "Links": null,
                    "Aliases": [
                        "custom_no_tool-h2-1",
                        "h2"
                    ],
                    "MacAddress": "c2:e2:67:e5:ab:fc",
                    "DriverOpts": null,
                    "GwPriority": 0,
                    "NetworkID": "05861233d49f0989dcdb1dad6f2b9e3a76707c655e1a052636bba39cdda4ecf7",
                    "EndpointID": "e9acfc7a6d379296e19591a9e98e392ab02fe10535dae239cc228bdbf64fec5a",
                    "Gateway": "172.18.0.1",
                    "IPAddress": "172.18.0.2",
                    "IPPrefixLen": 16,
                    "IPv6Gateway": "",
                    "GlobalIPv6Address": "",
                    "GlobalIPv6PrefixLen": 0,
                    "DNSNames": [
                        "custom_no_tool-h2-1",
                        "h2",
                        "6a9d1f949646"
                    ]
                }
            }
        },
        "ImageManifestDescriptor": {
            "mediaType": "application/vnd.oci.image.manifest.v1+json",
            "digest": "sha256:78e600d536c122e13720a9a90c0704713475030380a08aef9580d25dc60cdcf3",
            "size": 1618,
            "platform": {
                "architecture": "amd64",
                "os": "linux"
            }
        }
    }
]