{
    "files": [
        {
            "location": "./../../dockers/CVE-2018-10054/custom_no_tool/docker-compose.yml",
            "content": "version: \"3.8\"\nservices:\n  h2:\n    build: .\n    ports:\n      - \"8082:8082\"\n      - \"9092:9092\"\n    environment:\n      - H2_VERSION=1.4.197\n    volumes:\n      - h2-data:/data\n    restart: unless-stopped\n\nvolumes:\n  h2-data:"
        },
        {
            "location": "./../../dockers/CVE-2018-10054/custom_no_tool/Dockerfile",
            "content": "FROM openjdk:8-jre-alpine\nENV H2_VERSION=1.4.197\nRUN apk add --no-cache wget && \\\n    wget -O /h2-${H2_VERSION}.jar https://repo1.maven.org/maven2/com/h2database/h2/${H2_VERSION}/h2-${H2_VERSION}.jar && \\\n    mkdir -p /scripts /data\nCOPY init.sql /scripts/init.sql\nCOPY entrypoint.sh /entrypoint.sh\nRUN chmod +x /entrypoint.sh\nEXPOSE 8082 9092\nENTRYPOINT [\"/entrypoint.sh\"]"
        },
        {
            "location": "./../../dockers/CVE-2018-10054/custom_no_tool/entrypoint.sh",
            "content": "#!/bin/sh\n# Start H2 server in background with web console accessible remotely\njava -cp /h2-${H2_VERSION}.jar org.h2.tools.Server \\\n     -web -webAllowOthers -webPort 8082 \\\n     -tcp -tcpAllowOthers -tcpPort 9092 \\\n     -baseDir /data \\\n     &\nSERVER_PID=$!\n# Wait for the server to be ready\nwhile ! java -cp /h2-${H2_VERSION}.jar org.h2.tools.Shell \\\n        -url jdbc:h2:tcp://localhost:9092/./test \\\n        -user sa -password '' -cmd \"SELECT 1\" >/dev/null 2>&1; do\n  echo \"Waiting for H2 server to become ready...\"\n  sleep 1\ndone\n# Run initialization script\njava -cp /h2-${H2_VERSION}.jar org.h2.tools.RunScript \\\n     -url jdbc:h2:tcp://localhost:9092/./test \\\n     -user sa -password '' -script /scripts/init.sql\n# Keep the container alive as long as the server runs\nwait $SERVER_PID"
        },
        {
            "location": "./../../dockers/CVE-2018-10054/custom_no_tool/init.sql",
            "content": "CREATE TABLE IF NOT EXISTS test (\n    id INT PRIMARY KEY,\n    name VARCHAR(255)\n);\nINSERT INTO test (id, name) VALUES (1, 'Alice'), (2, 'Bob');"
        }
    ],
    "directory_tree": "./../../dockers/CVE-2018-10054/custom_no_tool"
}