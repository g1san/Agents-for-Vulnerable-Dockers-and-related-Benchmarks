<?php
// Simple vulnerable PHP script deliberately using outdated practices
$mysqli = new mysqli('db', 'testuser', 'testpass', 'testdb');
if ($mysqli->connect_error) {
    die('Connect Error (' . $mysqli->connect_errno . ') ' . $mysqli->connect_error);
}
// Vulnerable: no input sanitisation, SQL injection possible
$q = $_GET['q'] ?? '';
$result = $mysqli->query("SELECT * FROM users WHERE name = '$q'");
if ($result) {
    while ($row = $result->fetch_assoc()) {
        echo '<pre>' . htmlspecialchars(print_r($row, true)) . '</pre>';
    }
} else {
    echo 'Query Error: ' . $mysqli->error;
}
?>