FROM python:3.7-slim-bullseye

# Install buildâ€‘time dependencies, install Python packages, then clean up
RUN apt-get update && apt-get install -y --no-install-recommends \
        gcc \
        libffi-dev \
        python3-dev \
        libssl-dev \
    && pip install --no-cache-dir flask docker \
    && apt-get purge -y gcc libffi-dev python3-dev libssl-dev \
    && apt-get autoremove -y \
    && apt-get clean && rm -rf /var/lib/apt/lists/*

WORKDIR /app
COPY app.py /app/
EXPOSE 5000
CMD ["python", "app.py"]