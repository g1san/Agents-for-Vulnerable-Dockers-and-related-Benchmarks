CVE‑2024‑42323 Reproducible Docker Environment

This directory contains everything required to spin up a full stack that demonstrates the vulnerable Apache HertzBeat instance.

## Services
- **apache/hertzbeat** (built from source, version 1.5.9) – the application containing the SnakeYAML deserialization flaw.
- **mysql** (image: mysql:8.0.33) – the database used by HertzBeat.
- **openjdk** (base image: openjdk:11-jre-slim) – Java runtime for the HertzBeat container.

## How to start
```bash
cd ./../../dockers/CVE-2024-42323/custom_no_tool
sudo docker compose up --build -d
```
Docker Compose will:
1. Pull the MySQL 8.0.33 image and initialise it with a simple `test_table` via `init.sql`.
2. Build the HertzBeat image from the provided Dockerfile, downloading the 1.5.9 binary and replacing the default SnakeYAML jar with version 1.33 (the version that contains the vulnerable `load` method).
3. Wait for MySQL to become healthy before starting HertzBeat.

Both services expose their default ports on the host:
- MySQL: **3306**
- HertzBeat UI/API: **1157**

No manual configuration is required – the compose file defines the necessary environment variables, health‑checks and dependency ordering.

## Stopping the stack
```bash
sudo docker compose down -v
```
The `-v` flag also removes the persisted MySQL volume.

You can now interact with the HertzBeat API (e.g., `/api/monitors/import`) to test the remote code execution payload described in the CVE.