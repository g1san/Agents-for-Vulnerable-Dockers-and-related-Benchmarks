time="2025-10-30T04:13:29+01:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2024-42323/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 719B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.27kB done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/openjdk:11-jre-slim
#3 DONE 0.8s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/3] FROM docker.io/library/openjdk:11-jre-slim@sha256:93af7df2308c5141a751c4830e6b6c5717db102b3b31f012ea29d842dc4f2b02
#5 resolve docker.io/library/openjdk:11-jre-slim@sha256:93af7df2308c5141a751c4830e6b6c5717db102b3b31f012ea29d842dc4f2b02 0.0s done
#5 CACHED

#6 [2/3] RUN apt-get update &&     apt-get install -y --no-install-recommends wget tar ca-certificates &&     mkdir -p /opt/hertzbeat &&     wget -O /tmp/hertzbeat.tar.gz https://github.com/apache/incubator-hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz &&     tar -xzf /tmp/hertzbeat.tar.gz -C /opt/hertzbeat --strip-components=1 &&     rm -f /tmp/hertzbeat.tar.gz &&     mkdir -p /opt/hertzbeat/lib &&     wget -O /opt/hertzbeat/lib/snakeyaml.jar https://repo1.maven.org/maven2/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar &&     chmod +x /opt/hertzbeat/bin/start.sh &&     apt-get purge -y --auto-remove wget tar ca-certificates &&     apt-get clean && rm -rf /var/lib/apt/lists/*
#6 0.314 Get:1 http://deb.debian.org/debian bullseye InRelease [75.1 kB]
#6 0.350 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
#6 0.367 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.0 kB]
#6 0.437 Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
#6 1.026 Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [420 kB]
#6 1.058 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#6 2.765 Fetched 8652 kB in 2s (5595 kB/s)
#6 2.765 Reading package lists...
#6 3.171 Reading package lists...
#6 3.567 Building dependency tree...
#6 3.659 Reading state information...
#6 3.758 ca-certificates is already the newest version (20210119).
#6 3.758 Suggested packages:
#6 3.758   bzip2 ncompress xz-utils tar-scripts tar-doc
#6 3.758 Recommended packages:
#6 3.758   publicsuffix
#6 3.795 The following NEW packages will be installed:
#6 3.795   libpsl5 wget
#6 3.797 The following packages will be upgraded:
#6 3.797   tar
#6 3.842 1 upgraded, 2 newly installed, 0 to remove and 45 not upgraded.
#6 3.842 Need to get 1869 kB of archives.
#6 3.842 After this operation, 3657 kB of additional disk space will be used.
#6 3.842 Get:1 http://deb.debian.org/debian bullseye/main amd64 tar amd64 1.34+dfsg-1+deb11u1 [847 kB]
#6 3.969 Get:2 http://deb.debian.org/debian bullseye/main amd64 libpsl5 amd64 0.21.0-1.2 [57.3 kB]
#6 3.973 Get:3 http://deb.debian.org/debian-security bullseye-security/main amd64 wget amd64 1.21-1+deb11u2 [964 kB]
#6 4.130 debconf: delaying package configuration, since apt-utils is not installed
#6 4.158 Fetched 1869 kB in 0s (7687 kB/s)
#6 4.181 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 7071 files and directories currently installed.)
#6 4.188 Preparing to unpack .../tar_1.34+dfsg-1+deb11u1_amd64.deb ...
#6 4.202 Unpacking tar (1.34+dfsg-1+deb11u1) over (1.34+dfsg-1) ...
#6 4.299 Setting up tar (1.34+dfsg-1+deb11u1) ...
#6 4.309 update-alternatives: warning: forcing reinstallation of alternative /usr/sbin/rmt-tar because link group rmt is broken
#6 4.309 update-alternatives: warning: skip creation of /usr/share/man/man8/rmt.8.gz because associated file /usr/share/man/man8/rmt-tar.8.gz (of link group rmt) doesn't exist
#6 4.343 Selecting previously unselected package libpsl5:amd64.
#6 4.343 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 7071 files and directories currently installed.)
#6 4.349 Preparing to unpack .../libpsl5_0.21.0-1.2_amd64.deb ...
#6 4.356 Unpacking libpsl5:amd64 (0.21.0-1.2) ...
#6 4.386 Selecting previously unselected package wget.
#6 4.387 Preparing to unpack .../wget_1.21-1+deb11u2_amd64.deb ...
#6 4.391 Unpacking wget (1.21-1+deb11u2) ...
#6 4.474 Setting up libpsl5:amd64 (0.21.0-1.2) ...
#6 4.484 Setting up wget (1.21-1+deb11u2) ...
#6 4.498 Processing triggers for libc-bin (2.31-13+deb11u3) ...
#6 4.531 --2025-10-30 03:13:34--  https://github.com/apache/incubator-hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz
#6 4.538 Resolving github.com (github.com)... 140.82.121.4
#6 4.556 Connecting to github.com (github.com)|140.82.121.4|:443... connected.
#6 4.635 HTTP request sent, awaiting response... 301 Moved Permanently
#6 4.813 Location: https://github.com/apache/hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz [following]
#6 4.813 --2025-10-30 03:13:34--  https://github.com/apache/hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz
#6 4.813 Reusing existing connection to github.com:443.
#6 4.813 HTTP request sent, awaiting response... 404 Not Found
#6 4.994 2025-10-30 03:13:35 ERROR 404: Not Found.
#6 4.994 
#6 ERROR: process "/bin/sh -c apt-get update &&     apt-get install -y --no-install-recommends wget tar ca-certificates &&     mkdir -p $HERTZBEAT_HOME &&     wget -O /tmp/hertzbeat.tar.gz https://github.com/apache/incubator-hertzbeat/releases/download/${HERTZBEAT_VERSION}/apache-hertzbeat-${HERTZBEAT_VERSION}-bin.tar.gz &&     tar -xzf /tmp/hertzbeat.tar.gz -C $HERTZBEAT_HOME --strip-components=1 &&     rm -f /tmp/hertzbeat.tar.gz &&     mkdir -p $HERTZBEAT_HOME/lib &&     wget -O $HERTZBEAT_HOME/lib/snakeyaml.jar https://repo1.maven.org/maven2/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar &&     chmod +x $HERTZBEAT_HOME/bin/start.sh &&     apt-get purge -y --auto-remove wget tar ca-certificates &&     apt-get clean && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 8
------
 > [2/3] RUN apt-get update &&     apt-get install -y --no-install-recommends wget tar ca-certificates &&     mkdir -p /opt/hertzbeat &&     wget -O /tmp/hertzbeat.tar.gz https://github.com/apache/incubator-hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz &&     tar -xzf /tmp/hertzbeat.tar.gz -C /opt/hertzbeat --strip-components=1 &&     rm -f /tmp/hertzbeat.tar.gz &&     mkdir -p /opt/hertzbeat/lib &&     wget -O /opt/hertzbeat/lib/snakeyaml.jar https://repo1.maven.org/maven2/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar &&     chmod +x /opt/hertzbeat/bin/start.sh &&     apt-get purge -y --auto-remove wget tar ca-certificates &&     apt-get clean && rm -rf /var/lib/apt/lists/*:
4.498 Processing triggers for libc-bin (2.31-13+deb11u3) ...
4.531 --2025-10-30 03:13:34--  https://github.com/apache/incubator-hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz
4.538 Resolving github.com (github.com)... 140.82.121.4
4.556 Connecting to github.com (github.com)|140.82.121.4|:443... connected.
301 Moved Permanently
4.813 Location: https://github.com/apache/hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz [following]
4.813 --2025-10-30 03:13:34--  https://github.com/apache/hertzbeat/releases/download/1.5.9/apache-hertzbeat-1.5.9-bin.tar.gz
404 Not Found
4.994 2025-10-30 03:13:35 ERROR 404: Not Found.
4.994 
------
Dockerfile:7

--------------------

   6 |     # Install required utilities, download HertzBeat, extract it, ensure lib directory exists, and replace SnakeYAML with the vulnerable version

   7 | >>> RUN apt-get update && \

   8 | >>>     apt-get install -y --no-install-recommends wget tar ca-certificates && \

   9 | >>>     mkdir -p $HERTZBEAT_HOME && \

  10 | >>>     wget -O /tmp/hertzbeat.tar.gz https://github.com/apache/incubator-hertzbeat/releases/download/${HERTZBEAT_VERSION}/apache-hertzbeat-${HERTZBEAT_VERSION}-bin.tar.gz && \

  11 | >>>     tar -xzf /tmp/hertzbeat.tar.gz -C $HERTZBEAT_HOME --strip-components=1 && \

  12 | >>>     rm -f /tmp/hertzbeat.tar.gz && \

  13 | >>>     # Ensure the lib directory exists (some distributions may not include it explicitly)

  14 | >>>     mkdir -p $HERTZBEAT_HOME/lib && \

  15 | >>>     # Download a vulnerable SnakeYAML version that still contains the insecure load() method

  16 | >>>     wget -O $HERTZBEAT_HOME/lib/snakeyaml.jar https://repo1.maven.org/maven2/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar && \

  17 | >>>     chmod +x $HERTZBEAT_HOME/bin/start.sh && \

  18 | >>>     apt-get purge -y --auto-remove wget tar ca-certificates && \

  19 | >>>     apt-get clean && rm -rf /var/lib/apt/lists/*

  20 |     

--------------------

failed to solve: process "/bin/sh -c apt-get update &&     apt-get install -y --no-install-recommends wget tar ca-certificates &&     mkdir -p $HERTZBEAT_HOME &&     wget -O /tmp/hertzbeat.tar.gz https://github.com/apache/incubator-hertzbeat/releases/download/${HERTZBEAT_VERSION}/apache-hertzbeat-${HERTZBEAT_VERSION}-bin.tar.gz &&     tar -xzf /tmp/hertzbeat.tar.gz -C $HERTZBEAT_HOME --strip-components=1 &&     rm -f /tmp/hertzbeat.tar.gz &&     mkdir -p $HERTZBEAT_HOME/lib &&     wget -O $HERTZBEAT_HOME/lib/snakeyaml.jar https://repo1.maven.org/maven2/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar &&     chmod +x $HERTZBEAT_HOME/bin/start.sh &&     apt-get purge -y --auto-remove wget tar ca-certificates &&     apt-get clean && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 8

