{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-3066/custom_no_tool/docker-compose.yml",
            "content": "services:\n  web:\n    build: .\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./htdocs:/usr/local/apache2/htdocs\n    container_name: cve2017_3066_web"
        },
        {
            "location": "./../../dockers/CVE-2017-3066/custom_no_tool/Dockerfile",
            "content": "FROM httpd:2.4\n\n# Switch to root to install packages and generate certificates\nUSER root\n\n# Install OpenSSL (mod_ssl is already included in the Debian-based httpd image)\nRUN apt-get update && apt-get install -y openssl && rm -rf /var/lib/apt/lists/*\n\n# Generate a self\u2011signed certificate (vulnerable mod_ssl will use this)\nRUN openssl req -newkey rsa:2048 -nodes \\\n    -keyout /usr/local/apache2/conf/server.key \\\n    -x509 -days 365 \\\n    -out /usr/local/apache2/conf/server.crt \\\n    -subj \"/C=US/ST=State/L=City/O=Org/OU=Dept/CN=localhost\" && \\\n    chmod 600 /usr/local/apache2/conf/server.key && \\\n    chmod 644 /usr/local/apache2/conf/server.crt && \\\n    chown daemon:daemon /usr/local/apache2/conf/server.key /usr/local/apache2/conf/server.crt\n\n# Ensure log directory is writable by the daemon user\nRUN mkdir -p /usr/local/apache2/logs && chown -R daemon:daemon /usr/local/apache2/logs\n\n# Expose HTTP and HTTPS ports\nEXPOSE 80 443\n\n# Copy custom configuration and web content\nCOPY httpd.conf /usr/local/apache2/conf/httpd.conf\nCOPY htdocs/ /usr/local/apache2/htdocs/\n\n# Drop back to the non\u2011root daemon user for runtime\nUSER daemon"
        },
        {
            "location": "./../../dockers/CVE-2017-3066/custom_no_tool/httpd.conf",
            "content": "ServerRoot \"/usr/local/apache2\"\nListen 80\nListen 443\n\n# Load Multi-Processing Module\nLoadModule mpm_event_module modules/mod_mpm_event.so\n\nLoadModule ssl_module modules/mod_ssl.so\nLoadModule socache_shmcb_module modules/mod_socache_shmcb.so\n\nServerName localhost:443\n\n<IfModule ssl_module>\n    SSLRandomSeed startup builtin\n    SSLRandomSeed connect builtin\n    SSLCertificateFile \"/usr/local/apache2/conf/server.crt\"\n    SSLCertificateKeyFile \"/usr/local/apache2/conf/server.key\"\n</IfModule>\n\n<VirtualHost *:80>\n    DocumentRoot \"/usr/local/apache2/htdocs\"\n</VirtualHost>\n\n<VirtualHost *:443>\n    DocumentRoot \"/usr/local/apache2/htdocs\"\n    SSLEngine on\n    SSLCertificateFile \"/usr/local/apache2/conf/server.crt\"\n    SSLCertificateKeyFile \"/usr/local/apache2/conf/server.key\"\n</VirtualHost>"
        },
        {
            "location": "./../../dockers/CVE-2017-3066/custom_no_tool/htdocs/index.html",
            "content": "<!DOCTYPE html>\n<html>\n<head>\n    <title>CVE-2017-3066 Test Page</title>\n</head>\n<body>\n    <h1>Vulnerable Apache HTTP Server (mod_ssl) - CVE-2017-3066</h1>\n    <p>This page is served over HTTP and HTTPS for testing the CVE.</p>\n</body>\n</html>"
        }
    ],
    "directory_tree": "CVE-2017-3066/custom_no_tool"
}