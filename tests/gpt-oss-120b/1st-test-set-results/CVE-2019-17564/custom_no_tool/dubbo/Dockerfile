FROM openjdk:8-jdk
ENV DUBBO_VERSION=2.7.4.1
RUN apt-get update && \
    apt-get install -y wget tar ca-certificates && \
    wget https://archive.apache.org/dist/dubbo/${DUBBO_VERSION}/apache-dubbo-${DUBBO_VERSION}-bin.tar.gz && \
    tar -xzf apache-dubbo-${DUBBO_VERSION}-bin.tar.gz && \
    mv apache-dubbo-${DUBBO_VERSION} /opt/dubbo && \
    rm apache-dubbo-${DUBBO_VERSION}-bin.tar.gz && \
    rm -rf /var/lib/apt/lists/*
WORKDIR /opt/dubbo
RUN chmod +x ./bin/startup.sh
EXPOSE 8081
CMD ["./bin/startup.sh"]