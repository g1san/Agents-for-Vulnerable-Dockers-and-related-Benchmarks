FROM openjdk:8-jdk-slim
ARG DEBIAN_FRONTEND=noninteractive
ENV JBoss_VERSION=4.1.0.GA
RUN apt-get update && apt-get install -y --no-install-recommends wget ca-certificates tar bash && rm -rf /var/lib/apt/lists/* \
    && wget -q -L -O /tmp/jboss.tar.gz https://downloads.jboss.org/jbossas/4.1.0.GA/jboss-4.1.0.GA.tar.gz \
    && echo "Verifying JBoss archive SHA256:" && sha256sum /tmp/jboss.tar.gz \
    && mkdir -p /opt/jboss \
    && tar -xzf /tmp/jboss.tar.gz -C /opt/jboss --strip-components=1 \
    && rm /tmp/jboss.tar.gz \
    && chmod +x /opt/jboss/bin/run.sh
ENV JBOSS_HOME=/opt/jboss
ENV PATH=$JBOSS_HOME/bin:$PATH
WORKDIR $JBOSS_HOME
EXPOSE 8080
CMD ["bash","./bin/run.sh","-c","default"]