#1 [internal] load local bake definitions
#1 reading from stdin 729B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile.exploit
#2 transferring dockerfile: 721B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/alpine:3.18
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/5] FROM docker.io/library/alpine:3.18@sha256:de0eb0b3f2a47ba1eb89389859a9bd88b28e82f5826b6969ad604979713c2d4f
#5 resolve docker.io/library/alpine:3.18@sha256:de0eb0b3f2a47ba1eb89389859a9bd88b28e82f5826b6969ad604979713c2d4f 0.0s done
#5 CACHED

#6 [internal] load build context
#6 transferring context: 679B done
#6 DONE 0.0s

#7 [2/5] RUN apk update && apk add --no-cache ca-certificates openssl curl tar xz bash &&     update-ca-certificates
#7 0.183 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz
#7 0.376 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz
#7 0.850 v3.18.12-140-g3d8a58a5f14 [https://dl-cdn.alpinelinux.org/alpine/v3.18/main]
#7 0.850 v3.18.12-132-ge2ea6f61358 [https://dl-cdn.alpinelinux.org/alpine/v3.18/community]
#7 0.850 OK: 20070 distinct packages available
#7 0.903 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz
#7 1.248 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz
#7 1.869 (1/17) Installing ncurses-terminfo-base (6.4_p20230506-r0)
#7 1.894 (2/17) Installing libncursesw (6.4_p20230506-r0)
#7 1.949 (3/17) Installing readline (8.2.1-r1)
#7 1.995 (4/17) Installing bash (5.2.15-r5)
#7 2.123 Executing bash-5.2.15-r5.post-install
#7 2.126 (5/17) Installing ca-certificates (20241121-r1)
#7 2.182 (6/17) Installing brotli-libs (1.0.9-r14)
#7 2.271 (7/17) Installing libunistring (1.1-r1)
#7 2.425 (8/17) Installing libidn2 (2.3.4-r1)
#7 2.459 (9/17) Installing nghttp2-libs (1.57.0-r0)
#7 2.484 (10/17) Installing libpsl (0.21.5-r0)
#7 2.509 (11/17) Installing libcurl (8.12.1-r0)
#7 2.580 (12/17) Installing curl (8.12.1-r0)
#7 2.623 (13/17) Installing openssl (3.1.8-r0)
#7 2.692 (14/17) Installing libacl (2.3.1-r3)
#7 2.712 (15/17) Installing tar (1.34-r3)
#7 2.766 (16/17) Installing xz-libs (5.4.3-r1)
#7 2.800 (17/17) Installing xz (5.4.3-r1)
#7 2.824 Executing busybox-1.36.1-r7.trigger
#7 2.827 Executing ca-certificates-20241121-r1.trigger
#7 2.874 OK: 16 MiB in 32 packages
#7 DONE 3.0s

#8 [3/5] RUN curl -L "https://johnvansickle.com/ffmpeg/releases/ffmpeg-2.8.4-64bit-static.tar.xz" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*
#8 0.208   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
#8 0.208                                  Dload  Upload   Total   Spent    Left  Speed
#8 0.208 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0
100    23  100    23    0     0     15      0  0:00:01  0:00:01 --:--:--    15
#8 1.628 tar: This does not look like a tar archive
#8 1.629 xz: (stdin): File format not recognized
#8 1.629 tar: Child returned status 1
#8 1.629 tar: Error is not recoverable: exiting now
#8 ERROR: process "/bin/sh -c curl -L \"$FFMPEG_URL\" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*" did not complete successfully: exit code: 2
------
 > [3/5] RUN curl -L "https://johnvansickle.com/ffmpeg/releases/ffmpeg-2.8.4-64bit-static.tar.xz" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*:

100    23  100    23    0     0     15      0  0:00:01  0:00:01 --:--:--    15
1.628 tar: This does not look like a tar archive
1.629 xz: (stdin): File format not recognized
1.629 tar: Child returned status 1
1.629 tar: Error is not recoverable: exiting now
------
Dockerfile.exploit:9

--------------------

   8 |     ENV FFMPEG_URL="https://johnvansickle.com/ffmpeg/releases/ffmpeg-2.8.4-64bit-static.tar.xz"

   9 | >>> RUN curl -L "$FFMPEG_URL" -o /tmp/ffmpeg.tar.xz && \

  10 | >>>     tar -xf /tmp/ffmpeg.tar.xz -C /tmp && \

  11 | >>>     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg && \

  12 | >>>     chmod +x /usr/local/bin/ffmpeg && \

  13 | >>>     rm -rf /tmp/*

  14 |     

--------------------

failed to solve: process "/bin/sh -c curl -L \"$FFMPEG_URL\" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*" did not complete successfully: exit code: 2

