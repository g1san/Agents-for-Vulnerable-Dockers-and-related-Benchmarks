#1 [internal] load local bake definitions
#1 reading from stdin 729B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile.exploit
#2 transferring dockerfile: 665B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/alpine:3.18
#3 DONE 0.9s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/5] FROM docker.io/library/alpine:3.18@sha256:de0eb0b3f2a47ba1eb89389859a9bd88b28e82f5826b6969ad604979713c2d4f
#5 resolve docker.io/library/alpine:3.18@sha256:de0eb0b3f2a47ba1eb89389859a9bd88b28e82f5826b6969ad604979713c2d4f 0.0s done
#5 CACHED

#6 [internal] load build context
#6 transferring context: 679B done
#6 DONE 0.0s

#7 [2/5] RUN apk update && apk add --no-cache curl tar xz bash
#7 0.206 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz
#7 0.406 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz
#7 0.708 v3.18.12-140-g3d8a58a5f14 [https://dl-cdn.alpinelinux.org/alpine/v3.18/main]
#7 0.708 v3.18.12-132-ge2ea6f61358 [https://dl-cdn.alpinelinux.org/alpine/v3.18/community]
#7 0.708 OK: 20070 distinct packages available
#7 0.761 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz
#7 0.921 fetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz
#7 1.142 (1/16) Installing ncurses-terminfo-base (6.4_p20230506-r0)
#7 1.164 (2/16) Installing libncursesw (6.4_p20230506-r0)
#7 1.193 (3/16) Installing readline (8.2.1-r1)
#7 1.225 (4/16) Installing bash (5.2.15-r5)
#7 1.280 Executing bash-5.2.15-r5.post-install
#7 1.283 (5/16) Installing ca-certificates (20241121-r1)
#7 1.322 (6/16) Installing brotli-libs (1.0.9-r14)
#7 1.362 (7/16) Installing libunistring (1.1-r1)
#7 1.450 (8/16) Installing libidn2 (2.3.4-r1)
#7 1.474 (9/16) Installing nghttp2-libs (1.57.0-r0)
#7 1.503 (10/16) Installing libpsl (0.21.5-r0)
#7 1.546 (11/16) Installing libcurl (8.12.1-r0)
#7 1.591 (12/16) Installing curl (8.12.1-r0)
#7 1.620 (13/16) Installing libacl (2.3.1-r3)
#7 1.640 (14/16) Installing tar (1.34-r3)
#7 1.686 (15/16) Installing xz-libs (5.4.3-r1)
#7 1.712 (16/16) Installing xz (5.4.3-r1)
#7 1.735 Executing busybox-1.36.1-r7.trigger
#7 1.739 Executing ca-certificates-20241121-r1.trigger
#7 1.786 OK: 15 MiB in 31 packages
#7 DONE 1.9s

#8 [3/5] RUN curl -L "https://johnvansickle.com/ffmpeg/releases/ffmpeg-2.8.4-64bit-static.tar.xz" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*
#8 0.226   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
#8 0.226                                  Dload  Upload   Total   Spent    Left  Speed
#8 0.226 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100    23  100    23    0     0     11      0  0:00:02  0:00:01  0:00:01    11
100    23  100    23    0     0     11      0  0:00:02  0:00:01  0:00:01    11
#8 2.135 tar: This does not look like a tar archive
#8 2.135 xz: (stdin): File format not recognized
#8 2.135 tar: Child returned status 1
#8 2.135 tar: Error is not recoverable: exiting now
#8 ERROR: process "/bin/sh -c curl -L \"$FFMPEG_URL\" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*" did not complete successfully: exit code: 2
------
 > [3/5] RUN curl -L "https://johnvansickle.com/ffmpeg/releases/ffmpeg-2.8.4-64bit-static.tar.xz" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*:

100    23  100    23    0     0     11      0  0:00:02  0:00:01  0:00:01    11
100    23  100    23    0     0     11      0  0:00:02  0:00:01  0:00:01    11
2.135 tar: This does not look like a tar archive
2.135 xz: (stdin): File format not recognized
2.135 tar: Child returned status 1
2.135 tar: Error is not recoverable: exiting now
------
Dockerfile.exploit:8

--------------------

   7 |     ENV FFMPEG_URL="https://johnvansickle.com/ffmpeg/releases/ffmpeg-2.8.4-64bit-static.tar.xz"

   8 | >>> RUN curl -L "$FFMPEG_URL" -o /tmp/ffmpeg.tar.xz && \

   9 | >>>     tar -xf /tmp/ffmpeg.tar.xz -C /tmp && \

  10 | >>>     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg && \

  11 | >>>     chmod +x /usr/local/bin/ffmpeg && \

  12 | >>>     rm -rf /tmp/*

  13 |     

--------------------

failed to solve: process "/bin/sh -c curl -L \"$FFMPEG_URL\" -o /tmp/ffmpeg.tar.xz &&     tar -xf /tmp/ffmpeg.tar.xz -C /tmp &&     mv /tmp/ffmpeg-2.8.4-64bit-static/ffmpeg /usr/local/bin/ffmpeg &&     chmod +x /usr/local/bin/ffmpeg &&     rm -rf /tmp/*" did not complete successfully: exit code: 2

