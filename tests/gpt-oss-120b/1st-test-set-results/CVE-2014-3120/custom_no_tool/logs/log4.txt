#1 [internal] load local bake definitions
#1 reading from stdin 701B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 988B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/tomcat:7-jdk8
#3 DONE 0.5s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/2] FROM docker.io/library/tomcat:7-jdk8@sha256:f7d37d248d0eacec1e5995736234c9c22155626fcb27ea3ead13b9db24e698f7
#5 resolve docker.io/library/tomcat:7-jdk8@sha256:f7d37d248d0eacec1e5995736234c9c22155626fcb27ea3ead13b9db24e698f7 0.0s done
#5 CACHED

#6 [2/2] RUN set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until "false";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get update && apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip https://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*
#6 0.177 + sed -i -e s|http://deb.debian.org/debian|http://archive.debian.org/debian|g /etc/apt/sources.list
#6 0.182 + sed -i -e s|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g /etc/apt/sources.list
#6 0.184 + echo Acquire::Check-Valid-Until "false";
#6 0.184 + apt-get update
#6 0.336 Get:1 http://archive.debian.org/debian buster InRelease [122 kB]
#6 0.372 Get:2 http://archive.debian.org/debian-security buster/updates InRelease [34.8 kB]
#6 0.392 Get:3 http://archive.debian.org/debian buster-updates InRelease [56.6 kB]
#6 0.523 Get:4 http://archive.debian.org/debian buster/main amd64 Packages [7909 kB]
#6 1.170 Get:5 http://archive.debian.org/debian-security buster/updates/main amd64 Packages [610 kB]
#6 1.226 Get:6 http://archive.debian.org/debian buster-updates/main amd64 Packages [8788 B]
#6 2.027 Fetched 8741 kB in 2s (4805 kB/s)
#6 2.027 Reading package lists...
#6 2.552 + apt-get install -y wget unzip
#6 2.566 Reading package lists...
#6 3.039 Building dependency tree...
#6 3.137 Reading state information...
#6 3.228 wget is already the newest version (1.20.1-1.1).
#6 3.228 Suggested packages:
#6 3.228   zip
#6 3.245 The following packages will be upgraded:
#6 3.245   unzip
#6 3.294 1 upgraded, 0 newly installed, 0 to remove and 75 not upgraded.
#6 3.294 Need to get 172 kB of archives.
#6 3.294 After this operation, 1024 B of additional disk space will be used.
#6 3.294 Get:1 http://archive.debian.org/debian-security buster/updates/main amd64 unzip amd64 6.0-23+deb10u3 [172 kB]
#6 3.487 debconf: delaying package configuration, since apt-utils is not installed
#6 3.508 Fetched 172 kB in 0s (2256 kB/s)
#6 3.536 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 12572 files and directories currently installed.)
#6 3.588 Preparing to unpack .../unzip_6.0-23+deb10u3_amd64.deb ...
#6 3.598 Unpacking unzip (6.0-23+deb10u3) over (6.0-23+deb10u2) ...
#6 3.692 Setting up unzip (6.0-23+deb10u3) ...
#6 3.709 Processing triggers for mime-support (3.62) ...
#6 3.740 + mkdir -p /usr/local/tomcat/webapps/ROOT
#6 3.743 + wget -O /tmp/struts2.zip https://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip
#6 3.751 --2025-10-29 20:50:58--  https://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip
#6 3.759 Resolving archive.apache.org (archive.apache.org)... 65.108.204.189
#6 4.579 Connecting to archive.apache.org (archive.apache.org)|65.108.204.189|:443... connected.
#6 4.740 HTTP request sent, awaiting response... 404 Not Found
#6 4.804 2025-10-29 20:50:59 ERROR 404: Not Found.
#6 4.804 
#6 ERROR: process "/bin/sh -c set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until \"false\";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get update && apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip https://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 8
------
 > [2/2] RUN set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until "false";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get update && apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip https://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*:
3.294 Get:1 http://archive.debian.org/debian-security buster/updates/main amd64 unzip amd64 6.0-23+deb10u3 [172 kB]
3.487 debconf: delaying package configuration, since apt-utils is not installed
3.508 Fetched 172 kB in 0s (2256 kB/s)
3.536 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 12572 files and directories currently installed.)
3.588 Preparing to unpack .../unzip_6.0-23+deb10u3_amd64.deb ...
3.598 Unpacking unzip (6.0-23+deb10u3) over (6.0-23+deb10u2) ...
3.692 Setting up unzip (6.0-23+deb10u3) ...
404 Not Found
4.804 2025-10-29 20:50:59 ERROR 404: Not Found.
4.804 
------
Dockerfile:2

--------------------

   1 |     FROM tomcat:7-jdk8

   2 | >>> RUN set -eux; \

   3 | >>>     # Replace expired Debian buster repositories with archive URLs

   4 | >>>     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list && \

   5 | >>>     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list && \

   6 | >>>     # Disable validity check for old Release files

   7 | >>>     echo 'Acquire::Check-Valid-Until "false";' > /etc/apt/apt.conf.d/99no-check-valid-until && \

   8 | >>>     apt-get update && apt-get install -y wget unzip && \

   9 | >>>     mkdir -p /usr/local/tomcat/webapps/ROOT && \

  10 | >>>     wget -O /tmp/struts2.zip https://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip && \

  11 | >>>     unzip /tmp/struts2.zip -d /tmp && \

  12 | >>>     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ && \

  13 | >>>     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all && \

  14 | >>>     apt-get clean && rm -rf /var/lib/apt/lists/*

  15 |     EXPOSE 8080

--------------------

failed to solve: process "/bin/sh -c set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until \"false\";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get update && apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip https://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 8

