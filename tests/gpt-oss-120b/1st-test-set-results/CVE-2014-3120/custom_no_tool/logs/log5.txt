#1 [internal] load local bake definitions
#1 reading from stdin 701B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 980B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/tomcat:7-jdk8
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/2] FROM docker.io/library/tomcat:7-jdk8@sha256:f7d37d248d0eacec1e5995736234c9c22155626fcb27ea3ead13b9db24e698f7
#5 resolve docker.io/library/tomcat:7-jdk8@sha256:f7d37d248d0eacec1e5995736234c9c22155626fcb27ea3ead13b9db24e698f7 0.0s done
#5 CACHED

#6 [2/2] RUN set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until "false";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get -o Acquire::Check-Valid-Until=false update &&     apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*
#6 0.190 + sed -i -e s|http://deb.debian.org/debian|http://archive.debian.org/debian|g /etc/apt/sources.list
#6 0.193 + sed -i -e s|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g /etc/apt/sources.list
#6 0.195 + echo Acquire::Check-Valid-Until "false";
#6 0.195 + apt-get -o Acquire::Check-Valid-Until=false update
#6 0.321 Get:1 http://archive.debian.org/debian buster InRelease [122 kB]
#6 0.370 Get:2 http://archive.debian.org/debian-security buster/updates InRelease [34.8 kB]
#6 0.390 Get:3 http://archive.debian.org/debian buster-updates InRelease [56.6 kB]
#6 0.491 Get:4 http://archive.debian.org/debian buster/main amd64 Packages [7909 kB]
#6 20.17 Get:5 http://archive.debian.org/debian-security buster/updates/main amd64 Packages [610 kB]
#6 20.89 Get:6 http://archive.debian.org/debian buster-updates/main amd64 Packages [8788 B]
#6 21.07 Fetched 8741 kB in 21s (419 kB/s)
#6 21.07 Reading package lists...
#6 21.55 + apt-get install -y wget unzip
#6 21.56 Reading package lists...
#6 22.02 Building dependency tree...
#6 22.12 Reading state information...
#6 22.21 wget is already the newest version (1.20.1-1.1).
#6 22.21 Suggested packages:
#6 22.21   zip
#6 22.23 The following packages will be upgraded:
#6 22.23   unzip
#6 22.30 1 upgraded, 0 newly installed, 0 to remove and 75 not upgraded.
#6 22.30 Need to get 172 kB of archives.
#6 22.30 After this operation, 1024 B of additional disk space will be used.
#6 22.30 Get:1 http://archive.debian.org/debian-security buster/updates/main amd64 unzip amd64 6.0-23+deb10u3 [172 kB]
#6 22.45 debconf: delaying package configuration, since apt-utils is not installed
#6 22.47 Fetched 172 kB in 0s (1757 kB/s)
#6 22.49 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 12572 files and directories currently installed.)
#6 22.50 Preparing to unpack .../unzip_6.0-23+deb10u3_amd64.deb ...
#6 22.51 Unpacking unzip (6.0-23+deb10u3) over (6.0-23+deb10u2) ...
#6 22.59 Setting up unzip (6.0-23+deb10u3) ...
#6 22.61 Processing triggers for mime-support (3.62) ...
#6 22.64 + mkdir -p /usr/local/tomcat/webapps/ROOT
#6 22.64 + wget -O /tmp/struts2.zip http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip
#6 22.64 --2025-10-29 20:52:08--  http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip
#6 22.64 Resolving archive.apache.org (archive.apache.org)... 65.108.204.189
#6 22.65 Connecting to archive.apache.org (archive.apache.org)|65.108.204.189|:80... connected.
#6 22.69 HTTP request sent, awaiting response... 404 Not Found
#6 22.74 2025-10-29 20:52:08 ERROR 404: Not Found.
#6 22.74 
#6 ERROR: process "/bin/sh -c set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until \"false\";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get -o Acquire::Check-Valid-Until=false update &&     apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 8
------
 > [2/2] RUN set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until "false";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get -o Acquire::Check-Valid-Until=false update &&     apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*:
22.59 Setting up unzip (6.0-23+deb10u3) ...
22.61 Processing triggers for mime-support (3.62) ...
22.64 + mkdir -p /usr/local/tomcat/webapps/ROOT
22.64 + wget -O /tmp/struts2.zip http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip
22.64 --2025-10-29 20:52:08--  http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip
22.64 Resolving archive.apache.org (archive.apache.org)... 65.108.204.189
22.65 Connecting to archive.apache.org (archive.apache.org)|65.108.204.189|:80... connected.
22.69 HTTP request sent, awaiting response... 404 Not Found
22.74 2025-10-29 20:52:08 ERROR 404: Not Found.
22.74 
------
Dockerfile:2

--------------------

   1 |     FROM tomcat:7-jdk8

   2 | >>> RUN set -eux; \

   3 | >>>     # Replace expired Debian buster repositories with archive URLs \

   4 | >>>     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list && \

   5 | >>>     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list && \

   6 | >>>     echo 'Acquire::Check-Valid-Until "false";' > /etc/apt/apt.conf.d/99no-check-valid-until && \

   7 | >>>     apt-get -o Acquire::Check-Valid-Until=false update && \

   8 | >>>     apt-get install -y wget unzip && \

   9 | >>>     mkdir -p /usr/local/tomcat/webapps/ROOT && \

  10 | >>>     wget -O /tmp/struts2.zip http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip && \

  11 | >>>     unzip /tmp/struts2.zip -d /tmp && \

  12 | >>>     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ && \

  13 | >>>     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all && \

  14 | >>>     apt-get clean && rm -rf /var/lib/apt/lists/*

  15 |     EXPOSE 8080

--------------------

failed to solve: process "/bin/sh -c set -eux;     sed -i -e 's|http://deb.debian.org/debian|http://archive.debian.org/debian|g' /etc/apt/sources.list &&     sed -i -e 's|http://security.debian.org/debian-security|http://archive.debian.org/debian-security|g' /etc/apt/sources.list &&     echo 'Acquire::Check-Valid-Until \"false\";' > /etc/apt/apt.conf.d/99no-check-valid-until &&     apt-get -o Acquire::Check-Valid-Until=false update &&     apt-get install -y wget unzip &&     mkdir -p /usr/local/tomcat/webapps/ROOT &&     wget -O /tmp/struts2.zip http://archive.apache.org/dist/struts/struts-2.3.15.1/struts-2.3.15.1-all.zip &&     unzip /tmp/struts2.zip -d /tmp &&     cp -r /tmp/struts-2.3.15.1-all/webapp/* /usr/local/tomcat/webapps/ROOT/ &&     rm -rf /tmp/struts2.zip /tmp/struts-2.3.15.1-all &&     apt-get clean && rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 8

