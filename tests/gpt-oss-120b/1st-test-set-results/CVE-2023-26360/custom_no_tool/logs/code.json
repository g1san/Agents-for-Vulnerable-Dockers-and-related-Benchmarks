{
    "files": [
        {
            "location": "./../../dockers/CVE-2023-26360/custom_no_tool/docker-compose.yml",
            "content": "version: \"2.4\"\nservices:\n  coldfusion:\n    build: ./coldfusion\n    hostname: cf\n    environment:\n      CF_ADMIN_PASSWORD: adminpass\n      CF_ACCEPT_EULA: \"YES\"\n    ports:\n      - \"8080:80\"\n    depends_on:\n      db:\n        condition: service_healthy\n    volumes:\n      - ./coldfusion/app:/opt/coldfusion/cfusion/wwwroot\n\n  nginx:\n    image: nginx:latest\n    depends_on:\n      - coldfusion\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/conf.d/default.conf:ro\n\n  db:\n    image: mysql:5.7\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpass\n      MYSQL_DATABASE: testdb\n      MYSQL_USER: user\n      MYSQL_PASSWORD: userpass\n    ports:\n      - \"3306:3306\"\n    command: --default-authentication-plugin=mysql_native_password\n    healthcheck:\n      test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"localhost\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    volumes:\n      - ./db/init.sql:/docker-entrypoint-initdb.d/init.sql:ro"
        },
        {
            "location": "./../../dockers/CVE-2023-26360/custom_no_tool/coldfusion/Dockerfile",
            "content": "FROM adobe/coldfusion:2018u15-standalone\n# Copy MySQL Connector/J into the ColdFusion runtime lib directory\nCOPY mysql-connector-java.jar /opt/coldfusion/cfusion/runtime/lib/\n# Ensure proper permissions\nRUN chmod 644 /opt/coldfusion/cfusion/runtime/lib/mysql-connector-java.jar"
        },
        {
            "location": "./../../dockers/CVE-2023-26360/custom_no_tool/coldfusion/mysql-connector-java.jar",
            "content": "<binary content placeholder \u2013 place the MySQL Connector/J 8.x JAR file here>"
        },
        {
            "location": "./../../dockers/CVE-2023-26360/custom_no_tool/nginx/nginx.conf",
            "content": "server {\n    listen 80;\n    server_name _;\n\n    location / {\n        proxy_pass http://coldfusion:80;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}"
        },
        {
            "location": "./../../dockers/CVE-2023-26360/custom_no_tool/coldfusion/app/index.cfm",
            "content": "<cfscript>\n// Database connection parameters\ndbHost = \"db\";\ndbPort = 3306;\ndbName = \"testdb\";\ndbUser = \"user\";\ndbPass = \"userpass\";\n\n// Create datasource\nthis.datasource = {\n    class = \"com.mysql.cj.jdbc.Driver\",\n    url = \"jdbc:mysql://#dbHost#:#dbPort#/#dbName#\",\n    username = dbUser,\n    password = dbPass,\n    driver = \"com.mysql.cj.jdbc.Driver\"\n};\n</cfscript>\n\n<cfquery name=\"getData\" datasource=\"#this.datasource#\">\n    SELECT id, name FROM sample;\n</cfquery>\n\n<h2>Sample Data from MySQL</h2>\n<ul>\n<cfoutput query=\"getData\">\n    <li>ID: #id# - Name: #name#</li>\n</cfoutput>\n</ul>"
        },
        {
            "location": "./../../dockers/CVE-2023-26360/custom_no_tool/db/init.sql",
            "content": "CREATE TABLE IF NOT EXISTS sample (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(255) NOT NULL\n);\n\nINSERT INTO sample (name) VALUES ('Alice'), ('Bob'), ('Charlie');"
        }
    ],
    "directory_tree": "CVE-2023-26360/custom_no_tool/"
}