FROM httpd:2.4.46-alpine
# Install vulnerable mod_cgi (simulated by adding a simple CGI script)
RUN apk add --no-cache perl
COPY cgi-bin/ /usr/local/apache2/cgi-bin/
RUN chmod +x /usr/local/apache2/cgi-bin/vuln.cgi
# Enable CGI module
RUN echo 'LoadModule cgi_module modules/mod_cgi.so' >> /usr/local/apache2/conf/httpd.conf
RUN echo 'AddHandler cgi-script .cgi' >> /usr/local/apache2/conf/httpd.conf
RUN echo 'ScriptAlias /cgi-bin/ "/usr/local/apache2/cgi-bin/"' >> /usr/local/apache2/conf/httpd.conf
