{
    "files": [
        {
            "location": "./../../dockers/CVE-2023-22515/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  postgres:\n    image: postgres:13.12\n    container_name: postgres\n    restart: always\n    environment:\n      POSTGRES_USER: confluence_user\n      POSTGRES_PASSWORD: confluence_pass\n      POSTGRES_DB: confluence_db\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n      - ./init-postgres.sql:/docker-entrypoint-initdb.d/init-postgres.sql:ro\n    ports:\n      - \"5432:5432\"\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U confluence_user -d confluence_db\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  confluence:\n    image: atlassian/confluence:8.5.1\n    container_name: confluence\n    depends_on:\n      postgres:\n        condition: service_healthy\n    restart: always\n    environment:\n      ATL_JDBC_URL: jdbc:postgresql://postgres:5432/confluence_db\n      ATL_JDBC_USER: confluence_user\n      ATL_JDBC_PASSWORD: confluence_pass\n      ATL_DB_TYPE: postgresql\n    ports:\n      - \"8090:8090\"\n    volumes:\n      - confluence_data:/var/atlassian/application-data/confluence\n\n  portainer:\n    image: portainer/portainer-ce:2.16.2\n    container_name: portainer\n    restart: always\n    ports:\n      - \"9000:9000\"\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n      - portainer_data:/data\n\nvolumes:\n  postgres_data:\n  confluence_data:\n  portainer_data:\n"
        },
        {
            "location": "./../../dockers/CVE-2023-22515/custom_no_tool/init-postgres.sql",
            "content": "-- Test data for Confluence PostgreSQL database\nCREATE TABLE IF NOT EXISTS test_table (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nINSERT INTO test_table (name) VALUES ('sample data 1'), ('sample data 2'), ('sample data 3');\n"
        }
    ],
    "directory_tree": "CVE-2023-22515"
}