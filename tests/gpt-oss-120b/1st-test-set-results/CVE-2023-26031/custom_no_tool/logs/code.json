{
    "files": [
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\nservices:\n  hadoop:\n    build:\n      context: ./hadoop\n    image: hadoop:3.3.3\n    container_name: hadoop\n    privileged: true\n    command: [\"sleep\", \"infinity\"]\n  grafana:\n    image: grafana/grafana:9.4.0\n    ports:\n      - \"3000:3000\"\n    environment:\n      GF_SECURITY_ALLOW_EMBEDDING: \"true\"\n    volumes:\n      - ./grafana/provisioning:/etc/grafana/provisioning\n    depends_on:\n      - postgres\n      - hadoop\n  postgres:\n    image: postgres:15\n    environment:\n      POSTGRES_USER: admin\n      POSTGRES_PASSWORD: password\n      POSTGRES_DB: grafana\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - ./postgres/init.sql:/docker-entrypoint-initdb.d/init.sql\n    depends_on:\n      - hadoop"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/hadoop/Dockerfile",
            "content": "FROM ubuntu:22.04\nENV DEBIAN_FRONTEND=noninteractive\nENV HADOOP_VERSION=3.3.3\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n    openjdk-17-jdk \\\n    wget \\\n    ca-certificates \\\n    gnupg \\\n    tar \\\n    libssl3 \\\n    libssl-dev && \\\n    wget https://archive.apache.org/dist/hadoop/common/hadoop-${HADOOP_VERSION}/hadoop-${HADOOP_VERSION}.tar.gz && \\\n    tar -xzf hadoop-${HADOOP_VERSION}.tar.gz -C /opt && \\\n    rm hadoop-${HADOOP_VERSION}.tar.gz && \\\n    ln -s /opt/hadoop-${HADOOP_VERSION} /opt/hadoop && \\\n    mkdir -p /opt/hadoop/lib/native && \\\n    ln -s /usr/lib/x86_64-linux-gnu/libcrypto.so.3 /opt/hadoop/lib/native/libcrypto.so && \\\n    if [ -f /opt/hadoop/sbin/container-executor ]; then \\\n        chown root:root /opt/hadoop/sbin/container-executor && \\\n        chmod 4755 /opt/hadoop/sbin/container-executor; \\\n    fi && \\\n    apt-get clean && rm -rf /var/lib/apt/lists/*\nENV HADOOP_HOME=/opt/hadoop\nENV PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\nEXPOSE 8088 8042\nCMD [\"sleep\", \"infinity\"]"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/grafana/provisioning/datasources/datasource.yaml",
            "content": "apiVersion: 1\ndatasources:\n  - name: Postgres\n    type: postgres\n    access: proxy\n    url: postgres:5432\n    database: grafana\n    user: admin\n    secureJsonData:\n      password: password\n    isDefault: true"
        },
        {
            "location": "./../../dockers/CVE-2023-26031/custom_no_tool/postgres/init.sql",
            "content": "CREATE TABLE users (id SERIAL PRIMARY KEY, username VARCHAR(50), password VARCHAR(255));\nINSERT INTO users (username, password) VALUES ('test', 'test');"
        }
    ],
    "directory_tree": "./../../dockers/CVE-2023-26031/custom_no_tool"
}