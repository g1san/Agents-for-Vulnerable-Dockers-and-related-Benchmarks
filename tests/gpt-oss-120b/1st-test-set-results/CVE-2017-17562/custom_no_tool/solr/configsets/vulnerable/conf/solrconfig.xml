<?xml version="1.0" encoding="UTF-8" ?>
<config>
  <luceneMatchVersion>5.5.5</luceneMatchVersion>

  <!-- Enable the VelocityResponseWriter which is vulnerable in CVE-2017-17562 -->
  <queryResponseWriter name="velocity" class="solr.VelocityResponseWriter" startup="lazy" template.base.dir="/opt/solr/server/solr/configsets/vulnerable/templates"/>

  <!-- A minimal request handler for /select -->
  <requestHandler name="/select" class="solr.SearchHandler">
    <lst name="defaults">
      <str name="echoParams">explicit</str>
      <int name="rows">10</int>
    </lst>
  </requestHandler>

  <!-- Basic update request handler -->
  <requestHandler name="/update" class="solr.UpdateRequestHandler" />

  <!-- Schema definition (using managed schema) -->
  <schemaFactory class="ClassicIndexSchemaFactory" />
</config>