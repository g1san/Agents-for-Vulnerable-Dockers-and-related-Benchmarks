{
    "files": [
        {
            "location": "./../../dockers/CVE-2017-17562/custom_no_tool/docker-compose.yml",
            "content": "services:\n  goahead:\n    build: ./goahead\n    image: custom_goahead:3.5\n    container_name: goahead\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./solr/configsets/vulnerable/templates:/var/www/cgi-bin\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost/\"]\n      interval: 30s\n      timeout: 5s\n      retries: 3\n  solr:\n    image: solr:5.5.5\n    container_name: solr\n    ports:\n      - \"8983:8983\"\n    depends_on:\n      - goahead\n    volumes:\n      - ./solr/configsets:/opt/solr/server/solr/configsets\n    command: solr-precreate vulnerable /opt/solr/server/solr/configsets/vulnerable"
        },
        {
            "location": "./../../dockers/CVE-2017-17562/custom_no_tool/goahead/Dockerfile",
            "content": "FROM alpine:3.20 AS builder\n\n# Install build dependencies (compiler, make, headers, and dev libraries required by GoAhead)\nRUN apk add --no-cache \\\n    build-base \\\n    wget \\\n    ca-certificates \\\n    pcre-dev \\\n    openssl-dev \\\n    zlib-dev \\\n    linux-headers\n\nWORKDIR /src\n\n# Download source, extract, build GoAhead (follow redirects)\nRUN wget -qO- \"https://downloads.sourceforge.net/project/goahead/goahead-3.5.tar.gz\" | \\\n    tar xz && \\\n    cd goahead-3.5 && \\\n    make && \\\n    chmod +x goahead && \\\n    cp goahead /src/goahead\n\n# Runtime stage \u2013 minimal image with required shared libraries\nFROM alpine:3.20\n\n# Install runtime libraries needed by the dynamically linked GoAhead binary\nRUN apk add --no-cache \\\n    pcre \\\n    openssl \\\n    zlib \\\n    libstdc++\n\n# Copy compiled binary\nCOPY --from=builder /src/goahead /usr/local/bin/goahead\n\n# Copy configuration (goahead.conf resides next to this Dockerfile)\nCOPY goahead.conf /etc/goahead.conf\n\n# Ensure CGI directory exists (the configuration expects this path)\nRUN mkdir -p /var/www/cgi-bin\n\nEXPOSE 80\n\nCMD [\"goahead\", \"-c\", \"/etc/goahead.conf\"]"
        },
        {
            "location": "./../../dockers/CVE-2017-17562/custom_no_tool/goahead/goahead.conf",
            "content": "# Minimal goahead configuration for CVE-2017-17562 demonstration\nCGI_ENABLED 1\nCGI_PATH /var/www/cgi-bin\n# Additional configuration directives can be added as needed"
        }
    ],
    "directory_tree": "CVE-2017-17562/custom_no_tool"
}