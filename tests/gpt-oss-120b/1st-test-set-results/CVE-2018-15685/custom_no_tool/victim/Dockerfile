FROM node:12.22.12-alpine
RUN apk add --no-cache --virtual .build-deps python3 make g++ libc6-compat \
    && npm install -g --unsafe-perm electron@2.0.7 http-server \
    && apk del .build-deps
WORKDIR /usr/src/app
COPY html ./html
COPY start.sh .
RUN chmod +x start.sh
EXPOSE 8080
CMD ["sh", "/usr/src/app/start.sh"]