{
    "files": [
        {
            "location": "./../../dockers/CVE-2021-22205/custom_no_tool/docker-compose.yml",
            "content": "services:\n  gitlab:\n    image: gitlab/gitlab-ce:13.10.2-ce.0\n    container_name: gitlab\n    hostname: gitlab.local\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url 'http://localhost:8080'\n        gitlab_rails['gitlab_shell_ssh_port'] = 2222\n        postgresql['enable'] = true\n        redis['enable'] = true\n        gitlab_rails['initial_root_password'] = 'ChangeMe!'\n    depends_on:\n      postgres:\n        condition: service_healthy\n      redis:\n        condition: service_healthy\n    ports:\n      - \"8080:80\"\n      - \"2222:22\"\n    volumes:\n      - ./gitlab-config:/etc/gitlab:rw\n      - ./gitlab-logs:/var/log/gitlab:rw\n      - ./gitlab-data:/var/opt/gitlab:rw\n    ulimits:\n      nofile:\n        soft: 1048576\n        hard: 1048576\n      nproc:\n        soft: 1048576\n        hard: 1048576\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:80/-/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 10\n      start_period: 5m\n\n  postgres:\n    image: postgres:13-alpine\n    container_name: postgres\n    environment:\n      POSTGRES_DB: gitlabhq_production\n      POSTGRES_USER: gitlab\n      POSTGRES_PASSWORD: secretpassword\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD\", \"pg_isready\", \"-U\", \"gitlab\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  redis:\n    image: redis:6-alpine\n    container_name: redis\n    command: [\"redis-server\", \"--appendonly\", \"yes\"]\n    volumes:\n      - redis-data:/data\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nvolumes:\n  postgres-data:\n  redis-data:"
        },
        {
            "location": "./../../dockers/CVE-2021-22205/custom_no_tool/gitlab/Dockerfile",
            "content": "FROM gitlab/gitlab-ce:13.10.2-ce.0\n# No custom entrypoint needed; using upstream image directly."
        },
        {
            "location": "./../../dockers/CVE-2021-22205/custom_no_tool/gitlab/init.sh",
            "content": "# This script is retained for compatibility but is no longer used.\n# It simply forwards arguments to the original entrypoint.\n#!/bin/bash\nexec /assets/entrypoint \"$@\""
        }
    ],
    "directory_tree": "./../../dockers/CVE-2021-22205/custom_no_tool"
}