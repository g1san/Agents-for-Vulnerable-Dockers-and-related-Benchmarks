time="2025-10-30T05:08:43+01:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2016-3714/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.32kB done
#1 DONE 0.0s

#2 [php internal] load build definition from Dockerfile
#2 transferring dockerfile:
#2 transferring dockerfile: 777B done
#2 DONE 0.0s

#3 [node internal] load build definition from Dockerfile
#3 transferring dockerfile: 565B done
#3 DONE 0.0s

#4 [node internal] load metadata for docker.io/library/node:14-bullseye
#4 ...

#5 [php internal] load metadata for docker.io/library/php:7.4-apache
#5 DONE 0.5s

#6 [php internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [php internal] load build context
#7 transferring context: 273B done
#7 DONE 0.0s

#8 [php 1/3] FROM docker.io/library/php:7.4-apache@sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d
#8 resolve docker.io/library/php:7.4-apache@sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d 0.0s done
#8 CACHED

#9 [php 2/3] RUN echo "deb http://deb.debian.org/debian stretch main" > /etc/apt/sources.list.d/stretch.list &&     apt-get update &&     apt-get install -y --no-install-recommends         imagemagick=6.9.3-0         libmagickwand-6.q16-dev=6.9.3-0         libmagickcore-dev=6.9.3-0         build-essential         pkg-config &&     pecl install imagick &&     docker-php-ext-enable imagick &&     rm -rf /var/lib/apt/lists/*
#9 0.284 Get:1 http://deb.debian.org/debian bullseye InRelease [75.1 kB]
#9 ...

#4 [node internal] load metadata for docker.io/library/node:14-bullseye
#4 DONE 0.8s

#10 [node internal] load .dockerignore
#10 transferring context: 2B done
#10 DONE 0.0s

#11 [node internal] load build context
#11 transferring context: 1.09kB done
#11 DONE 0.0s

#12 [node 1/6] FROM docker.io/library/node:14-bullseye@sha256:c0bff0d29a742f40650d5f0305dd581351c10954e6cb6676fc96f47590b9666e
#12 resolve docker.io/library/node:14-bullseye@sha256:c0bff0d29a742f40650d5f0305dd581351c10954e6cb6676fc96f47590b9666e 0.0s done
#12 DONE 0.0s

#13 [node 2/6] WORKDIR /usr/src/app
#13 CACHED

#9 [php 2/3] RUN echo "deb http://deb.debian.org/debian stretch main" > /etc/apt/sources.list.d/stretch.list &&     apt-get update &&     apt-get install -y --no-install-recommends         imagemagick=6.9.3-0         libmagickwand-6.q16-dev=6.9.3-0         libmagickcore-dev=6.9.3-0         build-essential         pkg-config &&     pecl install imagick &&     docker-php-ext-enable imagick &&     rm -rf /var/lib/apt/lists/*
#9 0.313 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
#9 0.330 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.0 kB]
#9 0.349 Ign:4 http://deb.debian.org/debian stretch InRelease
#9 0.365 Err:5 http://deb.debian.org/debian stretch Release
#9 0.365   404  Not Found [IP: 151.101.242.132 80]
#9 0.435 Get:6 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
#9 1.019 Get:7 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [420 kB]
#9 1.096 Get:8 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#9 2.044 Reading package lists...
#9 2.492 E: The repository 'http://deb.debian.org/debian stretch Release' does not have a Release file.
#9 ERROR: process "/bin/sh -c echo \"deb http://deb.debian.org/debian stretch main\" > /etc/apt/sources.list.d/stretch.list &&     apt-get update &&     apt-get install -y --no-install-recommends         imagemagick=6.9.3-0         libmagickwand-6.q16-dev=6.9.3-0         libmagickcore-dev=6.9.3-0         build-essential         pkg-config &&     pecl install imagick &&     docker-php-ext-enable imagick &&     rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 100

#14 [node 3/6] RUN echo "deb http://deb.debian.org/debian stretch main" > /etc/apt/sources.list.d/stretch.list &&     apt-get update &&     apt-get install -y --no-install-recommends imagemagick=6.9.3-0 &&     rm -rf /var/lib/apt/lists/*
#14 0.350 Get:1 http://deb.debian.org/debian bullseye InRelease [75.1 kB]
#14 0.430 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
#14 0.473 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.0 kB]
#14 0.532 Ign:4 http://deb.debian.org/debian stretch InRelease
#14 0.576 Err:5 http://deb.debian.org/debian stretch Release
#14 0.576   404  Not Found [IP: 151.101.242.132 80]
#14 0.617 Get:6 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
#14 1.308 Get:7 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [420 kB]
#14 1.339 Get:8 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#14 2.126 Reading package lists...
#14 CANCELED
------
 > [php 2/3] RUN echo "deb http://deb.debian.org/debian stretch main" > /etc/apt/sources.list.d/stretch.list &&     apt-get update &&     apt-get install -y --no-install-recommends         imagemagick=6.9.3-0         libmagickwand-6.q16-dev=6.9.3-0         libmagickcore-dev=6.9.3-0         build-essential         pkg-config &&     pecl install imagick &&     docker-php-ext-enable imagick &&     rm -rf /var/lib/apt/lists/*:
0.313 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
0.330 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.0 kB]
0.349 Ign:4 http://deb.debian.org/debian stretch InRelease
0.365 Err:5 http://deb.debian.org/debian stretch Release
0.365   404  Not Found [IP: 151.101.242.132 80]
0.435 Get:6 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
1.019 Get:7 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [420 kB]
1.096 Get:8 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]

2.492 E: The repository 'http://deb.debian.org/debian stretch Release' does not have a Release file.
------
Dockerfile:3

--------------------

   2 |     # Add an old Debian repository that contains the vulnerable ImageMagick version

   3 | >>> RUN echo "deb http://deb.debian.org/debian stretch main" > /etc/apt/sources.list.d/stretch.list && \

   4 | >>>     apt-get update && \

   5 | >>>     # Install the specific vulnerable ImageMagick version and matching dev headers

   6 | >>>     apt-get install -y --no-install-recommends \

   7 | >>>         imagemagick=6.9.3-0 \

   8 | >>>         libmagickwand-6.q16-dev=6.9.3-0 \

   9 | >>>         libmagickcore-dev=6.9.3-0 \

  10 | >>>         build-essential \

  11 | >>>         pkg-config && \

  12 | >>>     # Build and enable the imagick PECL extension against the pinned ImageMagick

  13 | >>>     pecl install imagick && \

  14 | >>>     docker-php-ext-enable imagick && \

  15 | >>>     rm -rf /var/lib/apt/lists/*

  16 |     COPY ./index.php /var/www/html/index.php

--------------------

target php: failed to solve: process "/bin/sh -c echo \"deb http://deb.debian.org/debian stretch main\" > /etc/apt/sources.list.d/stretch.list &&     apt-get update &&     apt-get install -y --no-install-recommends         imagemagick=6.9.3-0         libmagickwand-6.q16-dev=6.9.3-0         libmagickcore-dev=6.9.3-0         build-essential         pkg-config &&     pecl install imagick &&     docker-php-ext-enable imagick &&     rm -rf /var/lib/apt/lists/*" did not complete successfully: exit code: 100

