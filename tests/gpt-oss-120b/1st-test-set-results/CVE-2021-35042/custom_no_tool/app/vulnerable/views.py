from django.http import HttpResponse
from .models import User

def user_list(request):
    order = request.GET.get('order_by', 'id')
    # Vulnerable: directly pass userâ€‘controlled value to order_by()
    users = User.objects.all().order_by(order)
    data = ', '.join([f"{u.username}:{u.password}" for u in users])
    return HttpResponse(data or 'No users')