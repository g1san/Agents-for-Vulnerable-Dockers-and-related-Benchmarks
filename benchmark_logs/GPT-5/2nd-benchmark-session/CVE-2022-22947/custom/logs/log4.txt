#1 [internal] load local bake definitions
#1 reading from stdin 693B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 389B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/eclipse-temurin:17-jre
#3 ...

#4 [internal] load metadata for docker.io/library/maven:3.9.6-eclipse-temurin-17
#4 DONE 0.5s

#3 [internal] load metadata for docker.io/library/eclipse-temurin:17-jre
#3 DONE 0.5s

#5 [internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [stage-1 1/3] FROM docker.io/library/eclipse-temurin:17-jre@sha256:e63288cbcc5de259866761281980afe4ac8de8e208d389bc858b049d6d240ebd
#6 resolve docker.io/library/eclipse-temurin:17-jre@sha256:e63288cbcc5de259866761281980afe4ac8de8e208d389bc858b049d6d240ebd 0.0s done
#6 DONE 0.0s

#7 [builder 1/6] FROM docker.io/library/maven:3.9.6-eclipse-temurin-17@sha256:29a1658b1f3078e07c2b17f7b519b45eb47f65d9628e887eac45a8c5c8f939d4
#7 resolve docker.io/library/maven:3.9.6-eclipse-temurin-17@sha256:29a1658b1f3078e07c2b17f7b519b45eb47f65d9628e887eac45a8c5c8f939d4 0.0s done
#7 DONE 0.0s

#8 [internal] load build context
#8 transferring context: 4.30kB done
#8 DONE 0.0s

#9 [builder 2/6] WORKDIR /src
#9 CACHED

#10 [builder 3/6] COPY pom.xml .
#10 DONE 0.0s

#11 [builder 4/6] RUN mvn -q -e -U -DskipTests=true dependency:go-offline
#11 DONE 46.3s

#12 [builder 5/6] COPY src ./src
#12 DONE 0.1s

#13 [builder 6/6] RUN mvn -q -DskipTests=true package
#13 DONE 7.8s

#14 [stage-1 2/3] WORKDIR /app
#14 CACHED

#15 [stage-1 3/3] COPY --from=builder /src/target/gateway-0.0.1-SNAPSHOT.jar /app/app.jar
#15 DONE 0.1s

#16 exporting to image
#16 exporting layers
#16 exporting layers 1.0s done
#16 exporting manifest sha256:d60b62d5ce89f2a25afe8df1ab8896cd84d1c393f33f750bf78f12ca76d42f6f done
#16 exporting config sha256:ce1a7461709b17d24210856a967a2bb0a1946b4d9c417a5ce38875eeee5443b0 0.0s done
#16 exporting attestation manifest sha256:685cc8df23bf11cc53489ed154b51c0c0e9994eba5a3fb5c797e15a41a9f351b 0.0s done
#16 exporting manifest list sha256:2fc1df18a5f0a10b3ca3a34343c2708030bf37467f8d88db9354d92430c0d0f7 done
#16 naming to docker.io/library/cve-2022-22947-gateway:local done
#16 unpacking to docker.io/library/cve-2022-22947-gateway:local
#16 unpacking to docker.io/library/cve-2022-22947-gateway:local 0.2s done
#16 DONE 1.3s

#17 resolving provenance for metadata file
#17 DONE 0.0s
 cve-2022-22947-gateway:local  Built
 Network custom_default  Creating
 Network custom_default  Created
 Container cve-2022-22947-gateway  Creating
 Container cve-2022-22947-gateway  Created
 Container cve-2022-22947-gateway  Starting
 Container cve-2022-22947-gateway  Started


sudo docker logs ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae --details
STDOUT:  
   .   ____          _            __ _ _
  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
 ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
   '  |____| .__|_| |_|_| |_\__, | / / / /
  =========|_|==============|___/=/_/_/_/
  :: Spring Boot ::                (v2.6.7)
 
 2025-10-01 11:45:39.738  INFO 1 --- [           main] com.example.gateway.GatewayApplication   : Starting GatewayApplication using Java 17.0.16 on ae15457f1fda with PID 1 (/app/app.jar started by root in /app)
 2025-10-01 11:45:39.740  INFO 1 --- [           main] com.example.gateway.GatewayApplication   : No active profile set, falling back to 1 default profile: "default"
 2025-10-01 11:45:40.651  INFO 1 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=5f92991d-2c10-33ea-91ca-46378effb232
 2025-10-01 11:45:41.391  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
 2025-10-01 11:45:41.391  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
 2025-10-01 11:45:41.391  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
 2025-10-01 11:45:41.391  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
 2025-10-01 11:45:41.392  INFO 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
 2025-10-01 11:45:41.595  INFO 1 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoint(s) beneath base path '/actuator'
 2025-10-01 11:45:42.046  INFO 1 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080
 2025-10-01 11:45:42.073  INFO 1 --- [           main] com.example.gateway.GatewayApplication   : Started GatewayApplication in 2.786 seconds (JVM running for 3.272)

STDERR:  Picked up JAVA_TOOL_OPTIONS: -XX:+UseContainerSupport -Xms256m -Xmx512m




sudo docker inspect ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae
[{'Id': 'ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae', 'Created': '2025-10-01T11:45:34.956844032Z', 'Path': 'java', 'Args': ['-jar', '/app/app.jar'], 'State': {'Status': 'running', 'Running': True, 'Paused': False, 'Restarting': False, 'OOMKilled': False, 'Dead': False, 'Pid': 10965, 'ExitCode': 0, 'Error': '', 'StartedAt': '2025-10-01T11:45:38.556187833Z', 'FinishedAt': '0001-01-01T00:00:00Z'}, 'Image': 'sha256:2fc1df18a5f0a10b3ca3a34343c2708030bf37467f8d88db9354d92430c0d0f7', 'ResolvConfPath': '/var/lib/docker/containers/ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae/resolv.conf', 'HostnamePath': '/var/lib/docker/containers/ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae/hostname', 'HostsPath': '/var/lib/docker/containers/ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae/hosts', 'LogPath': '/var/lib/docker/containers/ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae/ae15457f1fda3bbb27649b13893242ea2ce33d9701ded95c366f0b49fa8713ae-json.log', 'Name': '/cve-2022-22947-gateway', 'RestartCount': 0, 'Driver': 'overlayfs', 'Platform': 'linux', 'MountLabel': '', 'ProcessLabel': '', 'AppArmorProfile': '', 'ExecIDs': None, 'HostConfig': {'Binds': None, 'ContainerIDFile': '', 'LogConfig': {'Type': 'json-file', 'Config': {}}, 'NetworkMode': 'custom_default', 'PortBindings': {'8080/tcp': [{'HostIp': '', 'HostPort': '8080'}]}, 'RestartPolicy': {'Name': 'unless-stopped', 'MaximumRetryCount': 0}, 'AutoRemove': False, 'VolumeDriver': '', 'VolumesFrom': None, 'ConsoleSize': [0, 0], 'CapAdd': None, 'CapDrop': None, 'CgroupnsMode': 'private', 'Dns': None, 'DnsOptions': None, 'DnsSearch': None, 'ExtraHosts': [], 'GroupAdd': None, 'IpcMode': 'private', 'Cgroup': '', 'Links': None, 'OomScoreAdj': 0, 'PidMode': '', 'Privileged': False, 'PublishAllPorts': False, 'ReadonlyRootfs': False, 'SecurityOpt': None, 'UTSMode': '', 'UsernsMode': '', 'ShmSize': 67108864, 'Runtime': 'runc', 'Isolation': '', 'CpuShares': 0, 'Memory': 0, 'NanoCpus': 0, 'CgroupParent': '', 'BlkioWeight': 0, 'BlkioWeightDevice': None, 'BlkioDeviceReadBps': None, 'BlkioDeviceWriteBps': None, 'BlkioDeviceReadIOps': None, 'BlkioDeviceWriteIOps': None, 'CpuPeriod': 0, 'CpuQuota': 0, 'CpuRealtimePeriod': 0, 'CpuRealtimeRuntime': 0, 'CpusetCpus': '', 'CpusetMems': '', 'Devices': None, 'DeviceCgroupRules': None, 'DeviceRequests': None, 'MemoryReservation': 0, 'MemorySwap': 0, 'MemorySwappiness': None, 'OomKillDisable': None, 'PidsLimit': None, 'Ulimits': None, 'CpuCount': 0, 'CpuPercent': 0, 'IOMaximumIOps': 0, 'IOMaximumBandwidth': 0, 'MaskedPaths': ['/proc/asound', '/proc/acpi', '/proc/interrupts', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/proc/scsi', '/sys/firmware', '/sys/devices/virtual/powercap'], 'ReadonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}, 'GraphDriver': {'Data': None, 'Name': 'overlayfs'}, 'Mounts': [], 'Config': {'Hostname': 'ae15457f1fda', 'Domainname': '', 'User': '', 'AttachStdin': False, 'AttachStdout': True, 'AttachStderr': True, 'ExposedPorts': {'8080/tcp': {}}, 'Tty': False, 'OpenStdin': False, 'StdinOnce': False, 'Env': ['JAVA_TOOL_OPTIONS=-XX:+UseContainerSupport -Xms256m -Xmx512m', 'PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'JAVA_HOME=/opt/java/openjdk', 'LANG=en_US.UTF-8', 'LANGUAGE=en_US:en', 'LC_ALL=en_US.UTF-8', 'JAVA_VERSION=jdk-17.0.16+8'], 'Cmd': None, 'Image': 'cve-2022-22947-gateway:local', 'Volumes': None, 'WorkingDir': '/app', 'Entrypoint': ['java', '-jar', '/app/app.jar'], 'OnBuild': None, 'Labels': {'com.docker.compose.config-hash': '4c56982a9f98628bde9a024b07b3e67ff73816e110316747331ec35e34c5a663', 'com.docker.compose.container-number': '1', 'com.docker.compose.depends_on': '', 'com.docker.compose.image': 'sha256:2fc1df18a5f0a10b3ca3a34343c2708030bf37467f8d88db9354d92430c0d0f7', 'com.docker.compose.oneoff': 'False', 'com.docker.compose.project': 'custom', 'com.docker.compose.project.config_files': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22947/custom/docker-compose.yml', 'com.docker.compose.project.working_dir': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22947/custom', 'com.docker.compose.service': 'gateway', 'com.docker.compose.version': '2.39.4', 'desktop.docker.io/wsl-distro': 'Ubuntu', 'org.opencontainers.image.ref.name': 'ubuntu', 'org.opencontainers.image.version': '24.04'}}, 'NetworkSettings': {'Bridge': '', 'SandboxID': '2b64cbc4172a6a055380c557cca71f53faebd5e149e5a9070b2ffb00f978f8c1', 'SandboxKey': '/var/run/docker/netns/2b64cbc4172a', 'Ports': {'8080/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '8080'}, {'HostIp': '::', 'HostPort': '8080'}]}, 'HairpinMode': False, 'LinkLocalIPv6Address': '', 'LinkLocalIPv6PrefixLen': 0, 'SecondaryIPAddresses': None, 'SecondaryIPv6Addresses': None, 'EndpointID': '', 'Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'IPAddress': '', 'IPPrefixLen': 0, 'IPv6Gateway': '', 'MacAddress': '', 'Networks': {'custom_default': {'IPAMConfig': None, 'Links': None, 'Aliases': ['cve-2022-22947-gateway', 'gateway'], 'MacAddress': 'aa:dd:c8:0a:75:bb', 'DriverOpts': None, 'GwPriority': 0, 'NetworkID': '54ca50d415d402dc9094d790b215ee16be0bd07b117b7152b253805892cd0411', 'EndpointID': '9a5a4d241df265d5b5cc60d4947ace971c6b2881c7b6d4454cdbd07b685d45de', 'Gateway': '172.18.0.1', 'IPAddress': '172.18.0.2', 'IPPrefixLen': 16, 'IPv6Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'DNSNames': ['cve-2022-22947-gateway', 'gateway', 'ae15457f1fda']}}}, 'ImageManifestDescriptor': {'mediaType': 'application/vnd.oci.image.manifest.v1+json', 'digest': 'sha256:d60b62d5ce89f2a25afe8df1ab8896cd84d1c393f33f750bf78f12ca76d42f6f', 'size': 1625, 'platform': {'architecture': 'amd64', 'os': 'linux'}}}]

