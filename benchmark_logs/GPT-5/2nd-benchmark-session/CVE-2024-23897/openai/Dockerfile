FROM jenkins/jenkins:2.441

USER root
# No extra packages required for minimal vulnerable setup
USER jenkins

# Ensure setup wizard is skipped and CLI is enabled via HTTP/WebSocket
ENV JAVA_OPTS="-Djenkins.install.runSetupWizard=false -Djenkins.CLI.disabled=false"

# Preconfigure security (admin user, anonymous read) to ease interaction
COPY init.groovy.d /usr/share/jenkins/ref/init.groovy.d/
