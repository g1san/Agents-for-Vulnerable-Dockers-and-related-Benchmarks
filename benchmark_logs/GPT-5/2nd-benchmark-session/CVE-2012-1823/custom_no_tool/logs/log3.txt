time="2025-09-28T19:14:43+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2012-1823/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.33kB done
#1 DONE 0.0s

#2 [httpd internal] load build definition from Dockerfile
#2 transferring dockerfile: 338B done
#2 DONE 0.0s

#3 [php internal] load build definition from Dockerfile
#3 transferring dockerfile: 1.67kB done
#3 DONE 0.0s

#4 [php internal] load metadata for docker.io/library/debian:bullseye-slim
#4 ...

#5 [httpd internal] load metadata for docker.io/library/httpd:2.4.58
#5 DONE 0.8s

#6 [httpd internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [httpd 1/3] FROM docker.io/library/httpd:2.4.58@sha256:374766f5bc5977c9b72fdb8ae3ed05b7fc89060e7edc88fcbf142d6988e58eeb
#7 resolve docker.io/library/httpd:2.4.58@sha256:374766f5bc5977c9b72fdb8ae3ed05b7fc89060e7edc88fcbf142d6988e58eeb 0.0s done
#7 DONE 0.0s

#8 [httpd internal] load build context
#8 transferring context: 1.58kB done
#8 DONE 0.0s

#9 [httpd 2/3] COPY httpd.conf /usr/local/apache2/conf/httpd.conf
#9 CACHED

#10 [httpd 3/3] RUN mkdir -p /var/www/html &&     chown -R daemon:daemon /var/www/html
#10 CACHED

#4 [php internal] load metadata for docker.io/library/debian:bullseye-slim
#4 DONE 0.9s

#11 [httpd] exporting to image
#11 exporting layers done
#11 exporting manifest sha256:e64a2cd8042967699f90cd8917e6bb4b046c3a30c97ca78820de13c8ba6c14ac 0.0s done
#11 exporting config sha256:963ea39ec5b2d03d048b17db9e2811cb85443139ad04e2e9181e5fea915d4382 0.0s done
#11 exporting attestation manifest sha256:96ea5706265fd4b04bb005fc53faa2bf908c569b92ad4d87fecb0253aa8f5e85
#11 exporting attestation manifest sha256:96ea5706265fd4b04bb005fc53faa2bf908c569b92ad4d87fecb0253aa8f5e85 0.0s done
#11 exporting manifest list sha256:81b31fb0731bdd164852a933c6019d29f668446429c786a247a8af7916f0971a 0.0s done
#11 naming to docker.io/library/custom_no_tool-httpd:latest done
#11 unpacking to docker.io/library/custom_no_tool-httpd:latest 0.0s done
#11 DONE 0.1s

#12 [php internal] load .dockerignore
#12 transferring context: 2B done
#12 DONE 0.0s

#13 [php  1/11] FROM docker.io/library/debian:bullseye-slim@sha256:6d3c63184632046054ae709964befc943ecffa140adc697ca955a10002a79c08
#13 resolve docker.io/library/debian:bullseye-slim@sha256:6d3c63184632046054ae709964befc943ecffa140adc697ca955a10002a79c08 0.0s done
#13 DONE 0.0s

#14 [php  2/11] RUN apt-get update && apt-get install -y --no-install-recommends     ca-certificates wget build-essential autoconf pkg-config     libxml2-dev zlib1g-dev     libcurl4-openssl-dev     libreadline-dev libsqlite3-dev libbz2-dev     libjpeg-dev libpng-dev     libonig-dev libxslt1.1 libxslt1-dev   && rm -rf /var/lib/apt/lists/*
#14 CACHED

#15 [php  3/11] WORKDIR /usr/src
#15 CACHED

#16 [php  4/11] RUN wget -q https://museum.php.net/php5/php-5.3.11.tar.gz &&     echo "Downloaded php-5.3.11.tar.gz" &&     tar xzf php-5.3.11.tar.gz
#16 CACHED

#17 [php  5/11] WORKDIR /usr/src/php-5.3.11
#17 CACHED

#18 [php internal] load build context
#18 transferring context: 586B done
#18 DONE 0.0s

#19 [php  6/11] RUN export CPPFLAGS="-I/usr/include/x86_64-linux-gnu" LDFLAGS="-L/usr/lib/x86_64-linux-gnu" &&     ./configure     --prefix=/usr/local     --enable-cgi     --enable-fastcgi     --with-zlib     --with-curl=/usr     --with-readline     --with-config-file-path=/usr/local/etc   && make -j"$(nproc)"   && make install
#19 ...

#20 [httpd] resolving provenance for metadata file
#20 DONE 0.0s

#19 [php  6/11] RUN export CPPFLAGS="-I/usr/include/x86_64-linux-gnu" LDFLAGS="-L/usr/lib/x86_64-linux-gnu" &&     ./configure     --prefix=/usr/local     --enable-cgi     --enable-fastcgi     --with-zlib     --with-curl=/usr     --with-readline     --with-config-file-path=/usr/local/etc   && make -j"$(nproc)"   && make install
#19 0.307 creating cache ./config.cache
#19 0.309 checking for Cygwin environment... no
#19 0.331 checking for mingw32 environment... no
#19 0.348 checking for egrep... grep -E
#19 0.350 checking for a sed that does not truncate output... /bin/sed
#19 0.374 checking host system type... x86_64-unknown-linux-gnu
#19 0.392 checking target system type... x86_64-unknown-linux-gnu
#19 0.436 shtool:echo:Warning: unable to determine terminal sequence for bold mode
#19 0.474 shtool:echo:Warning: unable to determine terminal sequence for bold mode
#19 0.528 checking for gcc... gcc
#19 0.528 checking whether the C compiler (gcc  -L/usr/lib/x86_64-linux-gnu) works... yes
#19 0.560 checking whether the C compiler (gcc  -L/usr/lib/x86_64-linux-gnu) is a cross-compiler... no
#19 0.560 checking whether we are using GNU C... yes
#19 0.568 checking whether gcc accepts -g... yes
#19 0.584 checking how to run the C preprocessor... gcc -E
#19 0.595 checking for icc... no
#19 0.604 checking for suncc... no
#19 0.613 checking whether gcc and cc understand -c and -o together... yes
#19 0.686 checking how to run the C preprocessor... gcc -E
#19 0.686 checking for AIX... no
#19 0.695 checking whether ln -s works... yes
#19 0.697 checking for system library directory... lib
#19 0.697 checking whether to enable runpaths... yes
#19 0.697 checking if compiler supports -R... no
#19 0.703 checking if compiler supports -Wl,-rpath,... yes
#19 0.734 checking for gawk... no
#19 0.734 checking for nawk... nawk
#19 0.735 checking if nawk is broken... no
#19 0.736 checking for bison... no
#19 0.736 checking for byacc... no
#19 0.737 checking for bison version... configure: warning: bison versions supported for regeneration of the Zend/PHP parsers: 1.28 1.35 1.75 1.875 2.0 2.1 2.2 2.3 2.4 2.4.1 2.4.2 2.4.3 2.5 (found: none).
#19 0.740 invalid
#19 0.740 checking for re2c... configure: warning: You will need re2c 0.13.4 or later if you want to regenerate PHP parsers.
#19 0.740 no
#19 0.740 checking whether to enable computed goto gcc extension with re2c... no
#19 0.743 checking whether to force non-PIC code in shared modules... no
#19 0.743 checking whether /dev/urandom exists... yes
#19 0.778 checking for pthreads_cflags... -pthread
#19 0.818 checking for pthreads_lib... 
#19 0.819 
#19 0.819 Configuring SAPI modules
#19 0.819 checking for AOLserver support... no
#19 0.819 checking for Apache 1.x module support via DSO through APXS... no
#19 0.819 checking for Apache 1.x module support... no
#19 0.820 checking whether to enable Apache charset compatibility option... no
#19 0.820 checking for Apache 2.0 filter-module support via DSO through APXS... no
#19 0.820 checking for Apache 2.0 handler-module support via DSO through APXS... no
#19 0.821 checking for Apache 1.x (hooks) module support via DSO through APXS... no
#19 0.821 checking for Apache 1.x (hooks) module support... no
#19 0.822 checking whether to enable Apache charset compatibility option... no
#19 0.822 checking for Caudium support... no
#19 0.822 checking for CLI build... yes
#19 0.824 checking for Continuity support... no
#19 0.824 checking for embedded SAPI library support... no
#19 0.824 checking for FPM build... no
#19 0.825 checking for Zeus ISAPI support... no
#19 0.825 checking for LiteSpeed support... no
#19 0.825 checking for Milter support... no
#19 0.825 checking for NSAPI support... no
#19 0.825 checking for PHTTPD support... no
#19 0.826 checking for Pi3Web support... no
#19 0.826 checking whether Roxen module is build using ZTS... no
#19 0.826 checking for Roxen/Pike support... 
#19 0.826 checking for thttpd... no
#19 0.827 checking for TUX... no
#19 0.827 checking for webjames... no
#19 0.827 checking whether to build CGI binary... yes
#19 0.827 checking for socklen_t in sys/socket.h... yes
#19 0.839 checking for sun_len in sys/un.h... no
#19 0.849 checking whether cross-process locking is required by accept()... no
#19 0.853 checking for chosen SAPI module... cgi
#19 0.853 
#19 0.853 Running system checks
#19 0.853 checking for sendmail... no
#19 0.854 checking whether system uses EBCDIC... no
#19 0.884 checking whether byte ordering is bigendian... no
#19 0.913 checking whether writing to stdout works... This is the test message -- yes
#19 0.947 checking for socket... yes
#19 0.978 checking for socketpair... yes
#19 1.009 checking for htonl... yes
#19 1.039 checking for gethostname... yes
#19 1.070 checking for gethostbyaddr... yes
#19 1.101 checking for yp_get_default_domain... no
#19 1.133 checking for __yp_get_default_domain... no
#19 1.164 checking for yp_get_default_domain in -lnsl... yes
#19 1.232 checking for dlopen... no
#19 1.263 checking for __dlopen... no
#19 1.294 checking for dlopen in -ldl... yes
#19 1.359 checking for sin in -lm... yes
#19 1.401 checking for inet_aton... yes
#19 1.434 checking for ANSI C header files... yes
#19 1.508 checking for dirent.h that defines DIR... yes
#19 1.531 checking for opendir in -ldir... no
#19 1.558 checking for inttypes.h... yes
#19 1.575 checking for stdint.h... yes
#19 1.591 checking for dirent.h... yes
#19 1.606 checking for ApplicationServices/ApplicationServices.h... no
#19 1.621 checking for sys/param.h... yes
#19 1.640 checking for sys/types.h... yes
#19 1.655 checking for sys/time.h... yes
#19 1.671 checking for netinet/in.h... yes
#19 1.689 checking for alloca.h... yes
#19 1.703 checking for arpa/inet.h... yes
#19 1.722 checking for arpa/nameser.h... yes
#19 1.740 checking for assert.h... yes
#19 1.756 checking for crypt.h... yes
#19 1.771 checking for dns.h... no
#19 1.786 checking for fcntl.h... yes
#19 1.802 checking for grp.h... yes
#19 1.817 checking for ieeefp.h... no
#19 1.831 checking for langinfo.h... yes
#19 1.846 checking for limits.h... yes
#19 1.862 checking for locale.h... yes
#19 1.876 checking for monetary.h... yes
#19 1.891 checking for netdb.h... yes
#19 1.910 checking for pwd.h... yes
#19 1.925 checking for resolv.h... yes
#19 1.948 checking for signal.h... yes
#19 1.965 checking for stdarg.h... yes
#19 1.979 checking for stdlib.h... yes
#19 1.996 checking for string.h... yes
#19 2.012 checking for syslog.h... yes
#19 2.027 checking for sysexits.h... yes
#19 2.041 checking for sys/ioctl.h... yes
#19 2.056 checking for sys/file.h... yes
#19 2.072 checking for sys/mman.h... yes
#19 2.087 checking for sys/mount.h... yes
#19 2.102 checking for sys/poll.h... yes
#19 2.116 checking for sys/resource.h... yes
#19 2.131 checking for sys/select.h... yes
#19 2.146 checking for sys/socket.h... yes
#19 2.165 checking for sys/stat.h... yes
#19 2.180 checking for sys/statfs.h... yes
#19 2.195 checking for sys/statvfs.h... yes
#19 2.210 checking for sys/vfs.h... yes
#19 2.226 checking for sys/sysexits.h... no
#19 2.240 checking for sys/varargs.h... no
#19 2.255 checking for sys/wait.h... yes
#19 2.274 checking for sys/loadavg.h... no
#19 2.294 checking for termios.h... yes
#19 2.310 checking for unistd.h... yes
#19 2.330 checking for unix.h... no
#19 2.346 checking for utime.h... yes
#19 2.362 checking for sys/utsname.h... yes
#19 2.377 checking for sys/ipc.h... yes
#19 2.392 checking for dlfcn.h... yes
#19 2.407 checking for assert.h... (cached) yes
#19 2.410 checking for fopencookie... yes
#19 2.505 checking for broken getcwd... no
#19 2.506 checking for broken libc stdio... yes
#19 2.549 checking whether struct tm is in sys/time.h or time.h... time.h
#19 2.570 checking for tm_zone in struct tm... yes
#19 2.591 checking for missing declarations of reentrant functions... done
#19 2.680 checking for fclose declaration... ok
#19 2.699 checking for tm_gmtoff in struct tm... yes
#19 2.721 checking for struct flock... yes
#19 2.742 checking for socklen_t... yes
#19 2.766 checking size of size_t... 8
#19 2.811 checking size of long long... 8
#19 2.852 checking size of long long int... 8
#19 2.891 checking size of long... 8
#19 2.929 checking size of int... 4
#19 2.969 checking size of intmax_t... 8
#19 3.009 checking size of ssize_t... 8
#19 3.050 checking size of ptrdiff_t... 8
#19 3.090 checking for st_blksize in struct stat... yes
#19 3.112 checking for st_blocks in struct stat... yes
#19 3.132 checking for st_rdev in struct stat... yes
#19 3.152 checking for size_t... yes
#19 3.165 checking for uid_t in sys/types.h... yes
#19 3.175 checking for struct sockaddr_storage... yes
#19 3.199 checking for field sa_len in struct sockaddr... no
#19 3.222 checking for IPv6 support... yes
#19 3.260 checking for vprintf... yes
#19 3.296 checking for alphasort... yes
#19 3.331 checking for asctime_r... yes
#19 3.365 checking for chroot... yes
#19 3.401 checking for ctime_r... yes
#19 3.435 checking for cuserid... yes
#19 3.470 checking for crypt... no
#19 3.503 checking for flock... yes
#19 3.538 checking for ftok... yes
#19 3.572 checking for funopen... no
#19 3.606 checking for gai_strerror... yes
#19 3.640 checking for gcvt... yes
#19 3.674 checking for getloadavg... yes
#19 3.708 checking for getlogin... yes
#19 3.743 checking for getprotobyname... yes
#19 3.777 checking for getprotobynumber... yes
#19 3.812 checking for getservbyname... yes
#19 3.846 checking for getservbyport... yes
#19 3.880 checking for gethostname... (cached) yes
#19 3.883 checking for getrusage... yes
#19 3.918 checking for gettimeofday... yes
#19 3.952 checking for gmtime_r... yes
#19 3.986 checking for getpwnam_r... yes
#19 4.021 checking for getgrnam_r... yes
#19 4.055 checking for getpwuid_r... yes
#19 4.092 checking for grantpt... yes
#19 4.126 checking for inet_ntoa... yes
#19 4.161 checking for inet_ntop... yes
#19 4.195 checking for inet_pton... yes
#19 4.229 checking for isascii... yes
#19 4.266 checking for link... yes
#19 4.300 checking for localtime_r... yes
#19 4.335 checking for lockf... yes
#19 4.370 checking for lchown... yes
#19 4.404 checking for lrand48... yes
#19 4.439 checking for memcpy... yes
#19 4.476 checking for memmove... yes
#19 4.513 checking for mkstemp... yes
#19 4.547 checking for mmap... yes
#19 4.582 checking for nl_langinfo... yes
#19 4.617 checking for perror... yes
#19 4.652 checking for poll... yes
#19 4.686 checking for ptsname... yes
#19 4.721 checking for putenv... yes
#19 4.755 checking for realpath... yes
#19 4.789 checking for random... yes
#19 4.824 checking for rand_r... yes
#19 4.862 checking for scandir... yes
#19 4.901 checking for setitimer... yes
#19 4.937 checking for setlocale... yes
#19 4.971 checking for localeconv... yes
#19 5.007 checking for setenv... yes
#19 5.042 checking for setpgid... yes
#19 5.077 checking for setsockopt... yes
#19 5.111 checking for setvbuf... yes
#19 5.145 checking for shutdown... yes
#19 5.180 checking for sin... yes
#19 5.220 checking for snprintf... yes
#19 5.258 checking for srand48... yes
#19 5.293 checking for srandom... yes
#19 5.328 checking for statfs... yes
#19 5.364 checking for statvfs... yes
#19 5.399 checking for std_syslog... no
#19 5.432 checking for strcasecmp... yes
#19 5.469 checking for strcoll... yes
#19 5.504 checking for strdup... yes
#19 5.541 checking for strerror... yes
#19 5.576 checking for strftime... yes
#19 5.614 checking for strnlen... yes
#19 5.652 checking for strptime... yes
#19 5.686 checking for strstr... yes
#19 5.724 checking for strtok_r... yes
#19 5.759 checking for symlink... yes
#19 5.793 checking for tempnam... yes
#19 5.828 checking for tzset... yes
#19 5.863 checking for unlockpt... yes
#19 5.897 checking for unsetenv... yes
#19 5.932 checking for usleep... yes
#19 5.967 checking for utime... yes
#19 6.001 checking for vsnprintf... yes
#19 6.038 checking for vasprintf... yes
#19 6.072 checking for asprintf... yes
#19 6.107 checking for nanosleep... yes
#19 6.141 checking for nanosleep in -lrt... yes
#19 6.211 checking for getaddrinfo... yes
#19 6.291 checking for __sync_fetch_and_add... yes
#19 6.324 checking for strlcat... no
#19 6.356 checking for strlcpy... no
#19 6.395 checking for getopt... yes
#19 6.433 checking whether utime accepts a null argument... yes
#19 6.476 checking for working alloca.h... (cached) yes
#19 6.478 checking for alloca... yes
#19 6.510 checking for declared timezone... yes
#19 6.531 checking for type of reentrant time-related functions... POSIX
#19 6.561 checking for readdir_r... yes
#19 6.595 checking for type of readdir_r... POSIX
#19 6.636 checking for in_addr_t... yes
#19 6.649 checking for crypt_r... no
#19 6.682 
#19 6.682 General settings
#19 6.682 checking whether to include gcov symbols... no
#19 6.683 checking whether to include debugging symbols... no
#19 6.683 checking layout of installed files... PHP
#19 6.683 checking path to configuration file... /usr/local/etc
#19 6.683 checking where to scan for configuration files... 
#19 6.683 checking whether to enable safe mode by default... no
#19 6.684 checking for safe mode exec dir... /usr/local/php/bin
#19 6.685 checking whether to enable PHP's own SIGCHLD handler... no
#19 6.686 checking whether to enable magic quotes by default... no
#19 6.687 checking whether to explicitly link against libgcc... no
#19 6.687 checking whether to enable short tags by default... yes
#19 6.688 checking whether to enable dmalloc... no
#19 6.688 checking whether to enable IPv6 support... yes
#19 6.689 checking how big to make fd sets... using system default
#19 6.689 
#19 6.689 Configuring extensions
#19 6.689 checking size of long... (cached) 8
#19 6.690 checking size of int... (cached) 4
#19 6.692 checking for int32_t... yes
#19 6.712 checking for uint32_t... yes
#19 6.735 checking for sys/types.h... (cached) yes
#19 6.740 checking for inttypes.h... (cached) yes
#19 6.745 checking for stdint.h... (cached) yes
#19 6.750 checking for string.h... (cached) yes
#19 6.755 checking for stdlib.h... (cached) yes
#19 6.758 checking for strtoll... yes
#19 6.793 checking for atoll... yes
#19 6.828 checking for strftime... (cached) yes
#19 6.871 checking which regex library to use... php
#19 6.902 checking whether to enable LIBXML support... yes
#19 6.902 checking libxml2 install dir... no
#19 6.903 checking for xml2-config path... /usr/bin/xml2-config
#19 6.912 checking whether libxml build works... yes
#19 6.993 checking for OpenSSL support... no
#19 6.993 checking for Kerberos support... no
#19 6.994 checking for PCRE library to use... bundled
#19 7.018 checking whether to enable the SQLite3 extension... yes
#19 7.019 checking bundled sqlite3 library... yes
#19 7.027 checking for ZLIB support... yes
#19 7.027 checking if the location of ZLIB install directory is defined... no
#19 7.030 checking for gzgets in -lz... yes
#19 7.071 checking whether to enable bc style precision math functions... no
#19 7.071 checking for BZip2 support... no
#19 7.071 checking whether to enable calendar conversion support... no
#19 7.072 checking whether to enable ctype functions... yes
#19 7.073 checking for cURL support... yes
#19 7.073 checking if we should use cURL for url streams... no
#19 7.074 checking for cURL in default path... not found
#19 7.074 configure: error: Please reinstall the libcurl distribution -
#19 7.074     easy.h should be in <curl-dir>/include/curl/
#19 ERROR: process "/bin/sh -c export CPPFLAGS=\"-I/usr/include/x86_64-linux-gnu\" LDFLAGS=\"-L/usr/lib/x86_64-linux-gnu\" &&     ./configure     --prefix=/usr/local     --enable-cgi     --enable-fastcgi     --with-zlib     --with-curl=/usr     --with-readline     --with-config-file-path=/usr/local/etc   && make -j\"$(nproc)\"   && make install" did not complete successfully: exit code: 1
------
 > [php  6/11] RUN export CPPFLAGS="-I/usr/include/x86_64-linux-gnu" LDFLAGS="-L/usr/lib/x86_64-linux-gnu" &&     ./configure     --prefix=/usr/local     --enable-cgi     --enable-fastcgi     --with-zlib     --with-curl=/usr     --with-readline     --with-config-file-path=/usr/local/etc   && make -j"$(nproc)"   && make install:
7.030 checking for gzgets in -lz... yes
7.071 checking whether to enable bc style precision math functions... no
7.071 checking for BZip2 support... no
7.071 checking whether to enable calendar conversion support... no
7.072 checking whether to enable ctype functions... yes
7.073 checking for cURL support... yes
7.073 checking if we should use cURL for url streams... no
7.074 checking for cURL in default path... not found
7.074 configure: error: Please reinstall the libcurl distribution -
7.074     easy.h should be in <curl-dir>/include/curl/
------
Dockerfile:23

--------------------

  22 |     # Provide explicit include/lib search paths so the legacy configure can find Debian multiarch curl headers/libs.

  23 | >>> RUN export CPPFLAGS="-I/usr/include/x86_64-linux-gnu" LDFLAGS="-L/usr/lib/x86_64-linux-gnu" && \

  24 | >>>     ./configure \

  25 | >>>     --prefix=/usr/local \

  26 | >>>     --enable-cgi \

  27 | >>>     --enable-fastcgi \

  28 | >>>     --with-zlib \

  29 | >>>     --with-curl=/usr \

  30 | >>>     --with-readline \

  31 | >>>     --with-config-file-path=/usr/local/etc \

  32 | >>>   && make -j"$(nproc)" \

  33 | >>>   && make install

  34 |     

--------------------

target php: failed to solve: process "/bin/sh -c export CPPFLAGS=\"-I/usr/include/x86_64-linux-gnu\" LDFLAGS=\"-L/usr/lib/x86_64-linux-gnu\" &&     ./configure     --prefix=/usr/local     --enable-cgi     --enable-fastcgi     --with-zlib     --with-curl=/usr     --with-readline     --with-config-file-path=/usr/local/etc   && make -j\"$(nproc)\"   && make install" did not complete successfully: exit code: 1

