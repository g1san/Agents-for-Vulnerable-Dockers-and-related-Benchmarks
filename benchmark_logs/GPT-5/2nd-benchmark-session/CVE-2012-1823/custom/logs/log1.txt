time="2025-10-01T11:18:49+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2012-1823/custom/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.30kB done
#1 DONE 0.0s

#2 [php internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.27kB done
#2 DONE 0.0s

#3 [httpd internal] load build definition from Dockerfile
#3 transferring dockerfile: 894B done
#3 DONE 0.0s

#4 [httpd internal] load metadata for docker.io/library/httpd:2.4.59
#4 ...

#5 [php internal] load metadata for docker.io/library/debian:bullseye-slim
#5 DONE 0.4s

#6 [php internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [php 1/6] FROM docker.io/library/debian:bullseye-slim@sha256:f807f4b16002c623115b0247dca6a55711c6b1ae821dc64fb8a2339e4ce2115d
#7 resolve docker.io/library/debian:bullseye-slim@sha256:f807f4b16002c623115b0247dca6a55711c6b1ae821dc64fb8a2339e4ce2115d 0.0s done
#7 DONE 0.0s

#4 [httpd internal] load metadata for docker.io/library/httpd:2.4.59
#4 DONE 0.5s

#8 [php internal] load build context
#8 transferring context: 266B done
#8 DONE 0.0s

#9 [php 2/6] RUN apt-get update  && apt-get install -y --no-install-recommends     ca-certificates curl build-essential autoconf make     pkg-config libxml2-dev libssl-dev libsqlite3-dev     zlib1g-dev libbz2-dev libcurl4-openssl-dev     libjpeg-dev libpng-dev libreadline-dev  && rm -rf /var/lib/apt/lists/*
#9 CACHED

#10 [php 4/6] RUN mkdir -p /opt/php-cgi
#10 CACHED

#11 [php 5/6] COPY docker-entrypoint.sh /docker-entrypoint.sh
#11 CACHED

#12 [php 3/6] RUN mkdir -p /src && cd /src  && curl -fsSL https://museum.php.net/php5/php-5.4.1.tar.gz -o php-5.4.1.tar.gz  && tar -xzf php-5.4.1.tar.gz  && cd php-5.4.1  && ./configure       --prefix=/usr/local/php-5.4.1       --enable-cgi       --with-zlib       --with-openssl       --with-curl       --with-xml       --with-readline  && make -j"$(nproc)"  && make install  && cp -v php.ini-production /usr/local/php-5.4.1/lib/php.ini  && strip /usr/local/php-5.4.1/bin/php-cgi || true  && rm -rf /src
#12 CACHED

#13 [php 6/6] RUN chmod +x /docker-entrypoint.sh
#13 CACHED

#14 [httpd internal] load .dockerignore
#14 transferring context: 2B done
#14 DONE 0.0s

#15 [httpd internal] load build context
#15 DONE 0.0s

#16 [php] exporting to image
#16 exporting layers done
#16 exporting manifest sha256:24ee0f63a47b8ba14d91606246165c0f93ef7353f3eb9e0c408b918a101c26be done
#16 exporting config sha256:67a97a4b0ea33e2ffd29a9069880ae4e77ceee32e64ff2a50ba86a01624b8063 done
#16 exporting attestation manifest sha256:3b16150ee542387edf9d76e06563ba03c4000b3fa35beca6405a5069f926f89f 0.0s done
#16 exporting manifest list sha256:74031a2370fba8c3e809c6b6d6edc631e25a8bd4da542fcbe3eb3ecf6c473502
#16 exporting manifest list sha256:74031a2370fba8c3e809c6b6d6edc631e25a8bd4da542fcbe3eb3ecf6c473502 0.0s done
#16 naming to docker.io/library/cve-2012-1823-php-cgi:5.4.1 done
#16 unpacking to docker.io/library/cve-2012-1823-php-cgi:5.4.1 done
#16 DONE 0.1s

#17 [httpd 1/7] FROM docker.io/library/httpd:2.4.59@sha256:10182d88d7fbc5161ae0f6f758cba7adc56d4aae2dc950e51d72c0cf68967cea
#17 resolve docker.io/library/httpd:2.4.59@sha256:10182d88d7fbc5161ae0f6f758cba7adc56d4aae2dc950e51d72c0cf68967cea 0.1s done
#17 CACHED

#15 [httpd internal] load build context
#15 transferring context: 589B done
#15 DONE 0.0s

#18 [php] resolving provenance for metadata file
#18 DONE 0.0s

#19 [httpd 2/7] RUN sed -ri 's/^#?LoadModule cgid_module/LoadModule cgid_module/' /usr/local/apache2/conf/httpd.conf || true  && sed -ri 's/^#?LoadModule actions_module/LoadModule actions_module/' /usr/local/apache2/conf/httpd.conf || echo "LoadModule actions_module modules/mod_actions.so" >> /usr/local/apache2/conf/httpd.conf
#19 DONE 0.2s

#20 [httpd 3/7] COPY httpd.conf /usr/local/apache2/conf/extra/cve-2012-1823.conf
#20 DONE 0.0s

#21 [httpd 4/7] RUN echo "\n# Include CVE-2012-1823 vulnerable CGI-based PHP handler\nInclude conf/extra/cve-2012-1823.conf" >> /usr/local/apache2/conf/httpd.conf
#21 DONE 0.3s

#22 [httpd 5/7] RUN mkdir -p /usr/local/apache2/cgi-bin
#22 DONE 0.9s

#23 [httpd 6/7] COPY cgi-bin/php-cgi /usr/local/apache2/cgi-bin/php-cgi
#23 DONE 0.1s

#24 [httpd 7/7] RUN chmod +x /usr/local/apache2/cgi-bin/php-cgi
#24 DONE 0.2s

#25 [httpd] exporting to image
#25 exporting layers 0.2s done
#25 exporting manifest sha256:6378a69a7b5922bbf6ab7911e621f969e87628156d99dd94b451af34b82185f7 0.0s done
#25 exporting config sha256:cdcb1e072e9a3fd3c5d745e5cd728623f37f844ca16e85ac82c7cc443d1f2035 0.0s done
#25 exporting attestation manifest sha256:8213c10bd2dea12f278271c2a33078dc0bce2d881dc200acfd4c29aa0ca2897e 0.0s done
#25 exporting manifest list sha256:46f145575a481342c64f4bee08ab39c5ebeea3e0179016e6802b89dadfc3404e done
#25 naming to docker.io/library/cve-2012-1823-httpd:2.4.59 done
#25 unpacking to docker.io/library/cve-2012-1823-httpd:2.4.59 0.1s done
#25 DONE 0.4s

#26 [httpd] resolving provenance for metadata file
#26 DONE 0.0s
 cve-2012-1823-php-cgi:5.4.1  Built
 cve-2012-1823-httpd:2.4.59  Built
 Network custom_default  Creating
 Network custom_default  Created
 Volume custom_php_cgi_bin  Creating
 Volume custom_php_cgi_bin  Created
 Container cve2012_php  Creating
 Container cve2012_php  Created
 Container cve2012_httpd  Creating
 Container cve2012_httpd  Created
 Container cve2012_php  Starting
 Container cve2012_php  Started
 Container cve2012_httpd  Starting
 Container cve2012_httpd  Started


sudo docker logs 0519587d72caa10b24aa8a90dbaa7c2704ebca735d67573332c7c1b932f3bba2 --details
STDOUT: 
STDERR:  AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.18.0.2. Set the 'ServerName' directive globally to suppress this message
 AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.18.0.2. Set the 'ServerName' directive globally to suppress this message
 [Wed Oct 01 09:18:53.712354 2025] [mpm_event:notice] [pid 1:tid 124111466575744] AH00489: Apache/2.4.59 (Unix) configured -- resuming normal operations
 [Wed Oct 01 09:18:53.712527 2025] [core:notice] [pid 1:tid 124111466575744] AH00094: Command line: 'httpd -D FOREGROUND'




sudo docker logs 0cad8439bd335e799a028ef25485b13efb91db5e0161c6a3ff075a18635f2fae --details
STDOUT: 
STDERR:  cp: cannot stat '/usr/local/php-5.4.1/bin/php-cgi': No such file or directory


