time="2025-10-02T13:04:11+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2012-1823/custom/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.30kB done
#1 DONE 0.0s

#2 [php internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.59kB done
#2 DONE 0.0s

#3 [httpd internal] load build definition from Dockerfile
#3 transferring dockerfile: 954B done
#3 DONE 0.0s

#4 [httpd internal] load metadata for docker.io/library/httpd:2.4.59
#4 ...

#5 [php internal] load metadata for docker.io/library/debian:bullseye-slim
#5 DONE 0.4s

#4 [httpd internal] load metadata for docker.io/library/httpd:2.4.59
#4 DONE 0.4s

#6 [php internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [httpd internal] load .dockerignore
#7 transferring context: 2B done
#7 DONE 0.0s

#8 [php 1/6] FROM docker.io/library/debian:bullseye-slim@sha256:f807f4b16002c623115b0247dca6a55711c6b1ae821dc64fb8a2339e4ce2115d
#8 resolve docker.io/library/debian:bullseye-slim@sha256:f807f4b16002c623115b0247dca6a55711c6b1ae821dc64fb8a2339e4ce2115d 0.0s done
#8 DONE 0.0s

#9 [httpd 1/6] FROM docker.io/library/httpd:2.4.59@sha256:10182d88d7fbc5161ae0f6f758cba7adc56d4aae2dc950e51d72c0cf68967cea
#9 resolve docker.io/library/httpd:2.4.59@sha256:10182d88d7fbc5161ae0f6f758cba7adc56d4aae2dc950e51d72c0cf68967cea 0.0s done
#9 CACHED

#10 [php internal] load build context
#10 transferring context: 692B done
#10 DONE 0.0s

#11 [httpd internal] load build context
#11 transferring context: 589B done
#11 DONE 0.0s

#12 [php 2/6] RUN apt-get update  && apt-get install -y --no-install-recommends     ca-certificates curl build-essential autoconf make pkg-config     libxml2-dev zlib1g-dev bison re2c  && rm -rf /var/lib/apt/lists/*
#12 CACHED

#13 [php 3/6] RUN mkdir -p /src && cd /src  && curl -fsSL https://museum.php.net/php5/php-5.4.1.tar.gz -o php-5.4.1.tar.gz  && tar -xzf php-5.4.1.tar.gz  && cd php-5.4.1  && ./buildconf --force || true  && ./configure       --prefix=/usr/local/php-5.4.1       --enable-cgi       --disable-all       --with-libxml-dir=/usr       --with-zlib       --without-pear  && make -j"$(nproc)"  && make install  && { [ -x "/usr/local/php-5.4.1/bin/php-cgi" ] || make -C sapi/cgi install; }  && { [ -x "/usr/local/php-5.4.1/bin/php-cgi" ] || { echo "php-cgi not found after build" >&2; exit 1; }; }  && mkdir -p /usr/local/php-5.4.1/lib  && cp -v php.ini-production /usr/local/php-5.4.1/lib/php.ini  && ln -sf /usr/local/php-5.4.1/bin/php-cgi /usr/local/bin/php-cgi  && rm -rf /src
#13 CACHED

#14 [php 4/6] RUN mkdir -p /opt/php-cgi
#14 CACHED

#15 [php 5/6] COPY docker-entrypoint.sh /docker-entrypoint.sh
#15 CACHED

#16 [php 6/6] RUN chmod +x /docker-entrypoint.sh
#16 CACHED

#17 [php] exporting to image
#17 exporting layers done
#17 exporting manifest sha256:2382b1c976aafc06895f77e91429dfd239535f277d3c46f99548a55360dd60f2 done
#17 exporting config sha256:65c8ac9e7e252d49e93b43f0b88eaccfd0d76cb74c1051222fa81c25dd983d6a done
#17 exporting attestation manifest sha256:c12a0464bdfcda78812918bc157f7ebd5f921b746e0ac796bfdfed520aa9695e 0.0s done
#17 exporting manifest list sha256:6504e693b412b72e8d1fd9d0cf0303ce4e8989d68d670b136f8435cd814790f0
#17 exporting manifest list sha256:6504e693b412b72e8d1fd9d0cf0303ce4e8989d68d670b136f8435cd814790f0 0.0s done
#17 naming to docker.io/library/cve-2012-1823-php-cgi:5.4.1 done
#17 unpacking to docker.io/library/cve-2012-1823-php-cgi:5.4.1 done
#17 DONE 0.1s

#18 [php] resolving provenance for metadata file
#18 DONE 0.0s

#19 [httpd 2/6] RUN set -e;     sed -ri 's/^#?LoadModule cgid_module/LoadModule cgid_module/' /usr/local/apache2/conf/httpd.conf || true;     grep -q '^LoadModule actions_module ' /usr/local/apache2/conf/httpd.conf || echo 'LoadModule actions_module modules/mod_actions.so' >> /usr/local/apache2/conf/httpd.conf;     printf '\n# Include CVE-2012-1823 vulnerable CGI-based PHP handler\nInclude conf/extra/cve-2012-1823.conf\n' >> /usr/local/apache2/conf/httpd.conf
#19 DONE 0.2s

#20 [httpd 3/6] COPY httpd.conf /usr/local/apache2/conf/extra/cve-2012-1823.conf
#20 DONE 0.0s

#21 [httpd 4/6] RUN mkdir -p /usr/local/apache2/cgi-bin
#21 DONE 0.3s

#22 [httpd 5/6] COPY cgi-bin/php-cgi /usr/local/apache2/cgi-bin/php-cgi
#22 DONE 0.0s

#23 [httpd 6/6] RUN chmod +x /usr/local/apache2/cgi-bin/php-cgi
#23 DONE 0.3s

#24 [httpd] exporting to image
#24 exporting layers 0.2s done
#24 exporting manifest sha256:ba2a9c7ebccb5ae6be174b2ba86d01ab5544014eef62b2b5e662095ac2fbcc09 0.0s done
#24 exporting config sha256:d631eb99a29d4d832bd305acbf5107ab1655cb087c818772bed4772907a8d90c 0.0s done
#24 exporting attestation manifest sha256:e30cc399740ea6adbc91f295ff9dc09e46bf59a97a22b3d78b35bfa6502f4a93 0.0s done
#24 exporting manifest list sha256:5297c0db08d5e2114da9e6bd1385239f105710fbb0e462f6f2411ed8230dbafc 0.0s done
#24 naming to docker.io/library/cve-2012-1823-httpd:2.4.59 done
#24 unpacking to docker.io/library/cve-2012-1823-httpd:2.4.59 0.1s done
#24 DONE 0.4s

#25 [httpd] resolving provenance for metadata file
#25 DONE 0.0s
 cve-2012-1823-php-cgi:5.4.1  Built
 cve-2012-1823-httpd:2.4.59  Built
 Network custom_default  Creating
 Network custom_default  Created
 Volume custom_php_cgi_bin  Creating
 Volume custom_php_cgi_bin  Created
 Container cve2012_php  Creating
 Container cve2012_php  Created
 Container cve2012_httpd  Creating
 Container cve2012_httpd  Created
 Container cve2012_php  Starting
 Container cve2012_php  Started
 Container cve2012_httpd  Starting
 Container cve2012_httpd  Started


sudo docker logs c64d25ae42839e5e2956640a41781fb8fb7383129f67c6b3b4a32712262ef805 --details
STDOUT: 
STDERR:  AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.18.0.3. Set the 'ServerName' directive globally to suppress this message
 AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.18.0.3. Set the 'ServerName' directive globally to suppress this message
 [Thu Oct 02 11:04:14.077715 2025] [mpm_event:notice] [pid 1:tid 128383674046336] AH00489: Apache/2.4.59 (Unix) configured -- resuming normal operations
 [Thu Oct 02 11:04:14.077909 2025] [core:notice] [pid 1:tid 128383674046336] AH00094: Command line: 'httpd -D FOREGROUND'




sudo docker logs 512834cd5c9bd8e651eb84516a049daa48c64286f2b1cfad08e30c1c9cf5e286 --details
STDOUT: 
STDERR: 

