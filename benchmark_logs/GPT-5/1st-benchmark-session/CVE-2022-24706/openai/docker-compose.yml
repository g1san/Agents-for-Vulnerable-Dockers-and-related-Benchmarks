services:
  couchdb:
    image: couchdb:3.2.1
    container_name: cve-2022-24706-couchdb
    environment:
      COUCHDB_USER: "admin"
      COUCHDB_PASSWORD: "admin123"
      ERL_FLAGS: "-kernel inet_dist_listen_min 9100 -kernel inet_dist_listen_max 9105"
      ERL_EPMD_ADDRESS: "0.0.0.0"
    ports:
      - "5984:5984"     # CouchDB HTTP API
      - "4369:4369"     # epmd (Erlang Port Mapper)
      - "9100-9105:9100-9105" # Erlang distribution port range
    restart: unless-stopped
