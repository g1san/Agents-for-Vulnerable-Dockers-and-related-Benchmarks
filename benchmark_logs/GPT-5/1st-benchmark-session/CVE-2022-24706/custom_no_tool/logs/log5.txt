time="2025-09-20T19:19:39+02:00" level=warning msg="Found multiple config files with supported names: /home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom_no_tool/compose.yaml, /home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom_no_tool/docker-compose.yml, /home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom_no_tool/docker-compose.yaml"
time="2025-09-20T19:19:39+02:00" level=warning msg="Using /home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom_no_tool/compose.yaml"
time="2025-09-20T19:19:39+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom_no_tool/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 733B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.02kB done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/couchdb:3.2.1
#3 DONE 0.5s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/3] FROM docker.io/library/couchdb:3.2.1@sha256:37a7a9aab050c8c376b012d9c52da58e2c94d221b0eb5567edb88d8ceca096ee
#5 resolve docker.io/library/couchdb:3.2.1@sha256:37a7a9aab050c8c376b012d9c52da58e2c94d221b0eb5567edb88d8ceca096ee 0.0s done
#5 DONE 0.0s

#6 [internal] load build context
#6 transferring context: 31B done
#6 DONE 0.0s

#7 [2/3] COPY local.ini /opt/couchdb/etc/local.d/local.ini
#7 CACHED

#8 [3/3] RUN set -eux;     vm="/opt/couchdb/etc/vm.args";     if grep -q "^-setcookie" "$vm"; then       sed -ri 's|^-setcookie .*|-setcookie monster|' "$vm";     else       echo "-setcookie monster" >> "$vm";     fi;     grep -q "inet_dist_listen_min" "$vm" || echo "-kernel inet_dist_listen_min 9100" >> "$vm";     grep -q "inet_dist_listen_max" "$vm" || echo "-kernel inet_dist_listen_max 9100" >> "$vm";     grep -q "inet_dist_use_interface" "$vm" || echo "-kernel inet_dist_use_interface {0,0,0,0}" >> "$vm";     chown -R couchdb:couchdb /opt/couchdb/etc
#8 CACHED

#9 exporting to image
#9 exporting layers done
#9 exporting manifest sha256:b1dbb515480b918baf98d0d4836474ff827b06af452a98c7077488714b214f22 0.0s done
#9 exporting config sha256:f269d91f16bcb6ae96907b00e6cdd5936a2f8981c20dc0485e43f3049934b9da 0.0s done
#9 exporting attestation manifest sha256:34a8ffaf1b8c8d9c2da2d6f956818ecf5b602038288719e7b71c8ec265695ce2 0.0s done
#9 exporting manifest list sha256:4b4b70902b7433ddc7afa63a14495313eb9ec3e70c69742f7b16c6ae0032501d
#9 exporting manifest list sha256:4b4b70902b7433ddc7afa63a14495313eb9ec3e70c69742f7b16c6ae0032501d 0.0s done
#9 naming to docker.io/library/cve-2022-24706-couchdb:3.2.1 done
#9 unpacking to docker.io/library/cve-2022-24706-couchdb:3.2.1 0.0s done
#9 DONE 0.1s

#10 resolving provenance for metadata file
#10 DONE 0.0s
 cve-2022-24706-couchdb:3.2.1  Built
 Network custom_no_tool_default  Creating
 Network custom_no_tool_default  Created
 Container cve-2022-24706-couchdb  Creating
 Container cve-2022-24706-couchdb  Created
 Container cve-2022-24706-couchdb  Starting
 Container cve-2022-24706-couchdb  Started


sudo docker logs 30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a --details
STDOUT: 
STDERR:  [info] 2025-09-20T17:19:41.568441Z couchdb@couchdb <0.256.0> -------- Preflight check: Asserting Admin Account
 
 [info] 2025-09-20T17:19:41.570354Z couchdb@couchdb <0.256.0> -------- Apache CouchDB 3.2.1 is starting.
 
 [info] 2025-09-20T17:19:41.570431Z couchdb@couchdb <0.257.0> -------- Starting couch_sup
 [notice] 2025-09-20T17:19:41.579824Z couchdb@couchdb <0.110.0> -------- config: [admins] admin set to '****' for reason nil
 [info] 2025-09-20T17:19:41.612600Z couchdb@couchdb <0.256.0> -------- Apache CouchDB has started. Time to relax.
 
 [notice] 2025-09-20T17:19:41.618744Z couchdb@couchdb <0.310.0> -------- rexi_server : started servers
 [notice] 2025-09-20T17:19:41.620103Z couchdb@couchdb <0.314.0> -------- rexi_buffer : started servers
 [warning] 2025-09-20T17:19:41.635076Z couchdb@couchdb <0.322.0> -------- creating missing database: _nodes
 [info] 2025-09-20T17:19:41.635127Z couchdb@couchdb <0.323.0> -------- open_result error {not_found,no_db_file} for _nodes
 [warning] 2025-09-20T17:19:41.674371Z couchdb@couchdb <0.338.0> -------- creating missing database: _dbs
 [warning] 2025-09-20T17:19:41.674371Z couchdb@couchdb <0.337.0> -------- creating missing database: _dbs
 [info] 2025-09-20T17:19:41.674433Z couchdb@couchdb <0.340.0> -------- open_result error {not_found,no_db_file} for _dbs
 [notice] 2025-09-20T17:19:41.685589Z couchdb@couchdb <0.352.0> -------- mem3_reshard_dbdoc start init()
 [notice] 2025-09-20T17:19:41.688660Z couchdb@couchdb <0.354.0> -------- mem3_reshard start init()
 [notice] 2025-09-20T17:19:41.688748Z couchdb@couchdb <0.355.0> -------- mem3_reshard db monitor <0.355.0> starting
 [notice] 2025-09-20T17:19:41.690433Z couchdb@couchdb <0.354.0> -------- mem3_reshard starting reloading jobs
 [notice] 2025-09-20T17:19:41.690781Z couchdb@couchdb <0.354.0> -------- mem3_reshard finished reloading jobs
 [info] 2025-09-20T17:19:41.709501Z couchdb@couchdb <0.361.0> -------- Apache CouchDB has started. Time to relax.
 
 [info] 2025-09-20T17:19:41.709549Z couchdb@couchdb <0.361.0> -------- Apache CouchDB has started on http://0.0.0.0:5984/
 [notice] 2025-09-20T17:19:41.717218Z couchdb@couchdb <0.382.0> -------- chttpd_auth_cache changes listener died because the _users database does not exist. Create the database to silence this notice.
 [error] 2025-09-20T17:19:41.717335Z couchdb@couchdb emulator -------- Error in process <0.383.0> on node couchdb@couchdb with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [error] 2025-09-20T17:19:41.717416Z couchdb@couchdb emulator -------- Error in process <0.383.0> on node couchdb@couchdb with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [notice] 2025-09-20T17:19:41.746478Z couchdb@couchdb <0.430.0> -------- Missing system database _users
 [notice] 2025-09-20T17:19:46.717760Z couchdb@couchdb <0.382.0> -------- chttpd_auth_cache changes listener died because the _users database does not exist. Create the database to silence this notice.
 [error] 2025-09-20T17:19:46.718037Z couchdb@couchdb emulator -------- Error in process <0.532.0> on node couchdb@couchdb with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [error] 2025-09-20T17:19:46.718186Z couchdb@couchdb emulator -------- Error in process <0.532.0> on node couchdb@couchdb with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [notice] 2025-09-20T17:19:46.721532Z couchdb@couchdb <0.404.0> -------- couch_replicator_clustering : cluster stable
 [notice] 2025-09-20T17:19:46.725262Z couchdb@couchdb <0.414.0> -------- Started replicator db changes listener <0.533.0>
 [info] 2025-09-20T17:19:46.725634Z couchdb@couchdb <0.535.0> -------- open_result error {not_found,no_db_file} for _replicator




sudo docker inspect 30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a
[{'Id': '30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a', 'Created': '2025-09-20T17:19:40.626039178Z', 'Path': 'tini', 'Args': ['--', '/docker-entrypoint.sh', '/opt/couchdb/bin/couchdb'], 'State': {'Status': 'running', 'Running': True, 'Paused': False, 'Restarting': False, 'OOMKilled': False, 'Dead': False, 'Pid': 36960, 'ExitCode': 0, 'Error': '', 'StartedAt': '2025-09-20T17:19:40.781823848Z', 'FinishedAt': '0001-01-01T00:00:00Z'}, 'Image': 'sha256:4b4b70902b7433ddc7afa63a14495313eb9ec3e70c69742f7b16c6ae0032501d', 'ResolvConfPath': '/var/lib/docker/containers/30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a/resolv.conf', 'HostnamePath': '/var/lib/docker/containers/30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a/hostname', 'HostsPath': '/var/lib/docker/containers/30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a/hosts', 'LogPath': '/var/lib/docker/containers/30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a/30a9bf05ce3fd31ec0298ec960e86d7f448641854f270f01e2529c708589e47a-json.log', 'Name': '/cve-2022-24706-couchdb', 'RestartCount': 0, 'Driver': 'overlayfs', 'Platform': 'linux', 'MountLabel': '', 'ProcessLabel': '', 'AppArmorProfile': '', 'ExecIDs': None, 'HostConfig': {'Binds': None, 'ContainerIDFile': '', 'LogConfig': {'Type': 'json-file', 'Config': {}}, 'NetworkMode': 'custom_no_tool_default', 'PortBindings': {'4369/tcp': [{'HostIp': '', 'HostPort': '4369'}], '5984/tcp': [{'HostIp': '', 'HostPort': '5984'}], '9100/tcp': [{'HostIp': '', 'HostPort': '9100'}]}, 'RestartPolicy': {'Name': 'unless-stopped', 'MaximumRetryCount': 0}, 'AutoRemove': False, 'VolumeDriver': '', 'VolumesFrom': None, 'ConsoleSize': [0, 0], 'CapAdd': None, 'CapDrop': None, 'CgroupnsMode': 'private', 'Dns': None, 'DnsOptions': None, 'DnsSearch': None, 'ExtraHosts': [], 'GroupAdd': None, 'IpcMode': 'private', 'Cgroup': '', 'Links': None, 'OomScoreAdj': 0, 'PidMode': '', 'Privileged': False, 'PublishAllPorts': False, 'ReadonlyRootfs': False, 'SecurityOpt': None, 'UTSMode': '', 'UsernsMode': '', 'ShmSize': 67108864, 'Runtime': 'runc', 'Isolation': '', 'CpuShares': 0, 'Memory': 0, 'NanoCpus': 0, 'CgroupParent': '', 'BlkioWeight': 0, 'BlkioWeightDevice': None, 'BlkioDeviceReadBps': None, 'BlkioDeviceWriteBps': None, 'BlkioDeviceReadIOps': None, 'BlkioDeviceWriteIOps': None, 'CpuPeriod': 0, 'CpuQuota': 0, 'CpuRealtimePeriod': 0, 'CpuRealtimeRuntime': 0, 'CpusetCpus': '', 'CpusetMems': '', 'Devices': None, 'DeviceCgroupRules': None, 'DeviceRequests': None, 'MemoryReservation': 0, 'MemorySwap': 0, 'MemorySwappiness': None, 'OomKillDisable': None, 'PidsLimit': None, 'Ulimits': None, 'CpuCount': 0, 'CpuPercent': 0, 'IOMaximumIOps': 0, 'IOMaximumBandwidth': 0, 'MaskedPaths': ['/proc/asound', '/proc/acpi', '/proc/interrupts', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/proc/scsi', '/sys/firmware', '/sys/devices/virtual/powercap'], 'ReadonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}, 'GraphDriver': {'Data': None, 'Name': 'overlayfs'}, 'Mounts': [{'Type': 'volume', 'Name': '12a8737b50942eafdf15cc9896ad3e8066aa639e853ae486d19a0decb5f447f7', 'Source': '/var/lib/docker/volumes/12a8737b50942eafdf15cc9896ad3e8066aa639e853ae486d19a0decb5f447f7/_data', 'Destination': '/opt/couchdb/data', 'Driver': 'local', 'Mode': '', 'RW': True, 'Propagation': ''}], 'Config': {'Hostname': 'couchdb', 'Domainname': '', 'User': 'couchdb', 'AttachStdin': False, 'AttachStdout': True, 'AttachStderr': True, 'ExposedPorts': {'4369/tcp': {}, '5984/tcp': {}, '9100/tcp': {}}, 'Tty': False, 'OpenStdin': False, 'StdinOnce': False, 'Env': ['NODENAME=couchdb', 'COUCHDB_USER=admin', 'COUCHDB_PASSWORD=admin', 'PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'GPG_COUCH_KEY=390EF70BB1EA12B2773962950EE62FB37A00258D', 'COUCHDB_VERSION=3.2.1-1'], 'Cmd': ['/opt/couchdb/bin/couchdb'], 'Image': 'cve-2022-24706-couchdb:3.2.1', 'Volumes': {'/opt/couchdb/data': {}}, 'WorkingDir': '', 'Entrypoint': ['tini', '--', '/docker-entrypoint.sh'], 'OnBuild': None, 'Labels': {'com.docker.compose.config-hash': '1228c4c0d2b480be7f8e3723a4f307e85c2412ccacb856f2c0cf634310f84591', 'com.docker.compose.container-number': '1', 'com.docker.compose.depends_on': '', 'com.docker.compose.image': 'sha256:4b4b70902b7433ddc7afa63a14495313eb9ec3e70c69742f7b16c6ae0032501d', 'com.docker.compose.oneoff': 'False', 'com.docker.compose.project': 'custom_no_tool', 'com.docker.compose.project.config_files': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom_no_tool/compose.yaml', 'com.docker.compose.project.working_dir': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom_no_tool', 'com.docker.compose.service': 'couchdb', 'com.docker.compose.version': '2.39.2', 'desktop.docker.io/wsl-distro': 'Ubuntu', 'maintainer': 'CouchDB Developers dev@couchdb.apache.org'}}, 'NetworkSettings': {'Bridge': '', 'SandboxID': '500943ccdf09b82d00e3d2d1bace1b47f7fcadca47e96f92ea8621514897fa9d', 'SandboxKey': '/var/run/docker/netns/500943ccdf09', 'Ports': {'4369/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '4369'}, {'HostIp': '::', 'HostPort': '4369'}], '5984/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '5984'}, {'HostIp': '::', 'HostPort': '5984'}], '9100/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '9100'}, {'HostIp': '::', 'HostPort': '9100'}]}, 'HairpinMode': False, 'LinkLocalIPv6Address': '', 'LinkLocalIPv6PrefixLen': 0, 'SecondaryIPAddresses': None, 'SecondaryIPv6Addresses': None, 'EndpointID': '', 'Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'IPAddress': '', 'IPPrefixLen': 0, 'IPv6Gateway': '', 'MacAddress': '', 'Networks': {'custom_no_tool_default': {'IPAMConfig': None, 'Links': None, 'Aliases': ['cve-2022-24706-couchdb', 'couchdb'], 'MacAddress': '02:13:b8:21:4d:5e', 'DriverOpts': None, 'GwPriority': 0, 'NetworkID': '6fb6acee492d87ab5214e0760ae70eebc2c22679c495ee3f2ce78643437540d7', 'EndpointID': 'c97bc1231acc40c7c063a6c683a1a3633b2ca7dcfec58d0e38ebb9d04c037758', 'Gateway': '172.18.0.1', 'IPAddress': '172.18.0.2', 'IPPrefixLen': 16, 'IPv6Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'DNSNames': ['cve-2022-24706-couchdb', 'couchdb', '30a9bf05ce3f']}}}, 'ImageManifestDescriptor': {'mediaType': 'application/vnd.oci.image.manifest.v1+json', 'digest': 'sha256:b1dbb515480b918baf98d0d4836474ff827b06af452a98c7077488714b214f22', 'size': 2756, 'platform': {'architecture': 'amd64', 'os': 'linux'}}}]

