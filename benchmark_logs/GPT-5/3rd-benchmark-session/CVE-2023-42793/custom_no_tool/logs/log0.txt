time="2025-10-11T15:56:56+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2023-42793/custom_no_tool/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 teamcity Pulling 
 bdea9e94a271 Pulling fs layer 
 bdea9e94a271 Download complete 
 bdea9e94a271 Extracting 1 s
 bdea9e94a271 Pull complete 
 teamcity Pulled 
 Network cve-2023-42793-net  Creating
 Network cve-2023-42793-net  Created
 Container cve-2023-42793-teamcity  Creating
 Container cve-2023-42793-teamcity  Created
 Container cve-2023-42793-teamcity  Starting
 Container cve-2023-42793-teamcity  Started


sudo docker logs 518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3 --details
STDOUT:  /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 
 /run-services.sh
 /services/check-server-volumes.sh
 
 >>> Permission problem: TEAMCITY_LOGS '/opt/teamcity/logs' is not a writeable directory
 
     Looks like some mandatory directories are not writable (see above).
     TeamCity container is running under 'tcuser' (1000/1000) user.
 
     A quick workaround: pass '-u 0' parameter to 'docker run' command to start it under 'root' user.
     The proper fix: run 'chown -R 1000:1000' on the corresponding volume(s), this can take noticeable time.
 
     If the problem persists after the permission fix, please check that the corresponding volume(s)
     are not used by stale stopped Docker containers ("docker container prune" command may help).
 

STDERR: 



sudo docker inspect 518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3[
    {
        "Id": "518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3",
        "Created": "2025-10-11T13:57:00.42518965Z",
        "Path": "/run-services.sh",
        "Args": [],
        "State": {
            "Status": "restarting",
            "Running": true,
            "Paused": false,
            "Restarting": true,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 0,
            "ExitCode": 1,
            "Error": "",
            "StartedAt": "2025-10-11T13:57:29.427472709Z",
            "FinishedAt": "2025-10-11T13:57:29.881728359Z"
        },
        "Image": "sha256:3502027ef5a6038a29d8daa1c684c67b8e8dcfc53ff5e2de8b083ca668553888",
        "ResolvConfPath": "/var/lib/docker/containers/518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3/resolv.conf",
        "HostnamePath": "/var/lib/docker/containers/518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3/hostname",
        "HostsPath": "/var/lib/docker/containers/518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3/hosts",
        "LogPath": "/var/lib/docker/containers/518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3/518719a79383581289e5f599b4b6020e43d79fa582b2808c9f0db73fe11008b3-json.log",
        "Name": "/cve-2023-42793-teamcity",
        "RestartCount": 9,
        "Driver": "overlayfs",
        "Platform": "linux",
        "MountLabel": "",
        "ProcessLabel": "",
        "AppArmorProfile": "",
        "ExecIDs": null,
        "HostConfig": {
            "Binds": [
                "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2023-42793/custom_no_tool/data/teamcity_server/datadir:/data/teamcity_server/datadir:rw",
                "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2023-42793/custom_no_tool/data/teamcity_server/logs:/opt/teamcity/logs:rw"
            ],
            "ContainerIDFile": "",
            "LogConfig": {
                "Type": "json-file",
                "Config": {}
            },
            "NetworkMode": "cve-2023-42793-net",
            "PortBindings": {
                "8111/tcp": [
                    {
                        "HostIp": "",
                        "HostPort": "8111"
                    }
                ]
            },
            "RestartPolicy": {
                "Name": "unless-stopped",
                "MaximumRetryCount": 0
            },
            "AutoRemove": false,
            "VolumeDriver": "",
            "VolumesFrom": null,
            "ConsoleSize": [
                0,
                0
            ],
            "CapAdd": null,
            "CapDrop": null,
            "CgroupnsMode": "private",
            "Dns": null,
            "DnsOptions": null,
            "DnsSearch": null,
            "ExtraHosts": [],
            "GroupAdd": null,
            "IpcMode": "private",
            "Cgroup": "",
            "Links": null,
            "OomScoreAdj": 0,
            "PidMode": "",
            "Privileged": false,
            "PublishAllPorts": false,
            "ReadonlyRootfs": false,
            "SecurityOpt": null,
            "UTSMode": "",
            "UsernsMode": "",
            "ShmSize": 67108864,
            "Runtime": "runc",
            "Isolation": "",
            "CpuShares": 0,
            "Memory": 0,
            "NanoCpus": 0,
            "CgroupParent": "",
            "BlkioWeight": 0,
            "BlkioWeightDevice": null,
            "BlkioDeviceReadBps": null,
            "BlkioDeviceWriteBps": null,
            "BlkioDeviceReadIOps": null,
            "BlkioDeviceWriteIOps": null,
            "CpuPeriod": 0,
            "CpuQuota": 0,
            "CpuRealtimePeriod": 0,
            "CpuRealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "Devices": null,
            "DeviceCgroupRules": null,
            "DeviceRequests": null,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "MemorySwappiness": null,
            "OomKillDisable": null,
            "PidsLimit": null,
            "Ulimits": null,
            "CpuCount": 0,
            "CpuPercent": 0,
            "IOMaximumIOps": 0,
            "IOMaximumBandwidth": 0,
            "MaskedPaths": [
                "/proc/asound",
                "/proc/acpi",
                "/proc/interrupts",
                "/proc/kcore",
                "/proc/keys",
                "/proc/latency_stats",
                "/proc/timer_list",
                "/proc/timer_stats",
                "/proc/sched_debug",
                "/proc/scsi",
                "/sys/firmware",
                "/sys/devices/virtual/powercap"
            ],
            "ReadonlyPaths": [
                "/proc/bus",
                "/proc/fs",
                "/proc/irq",
                "/proc/sys",
                "/proc/sysrq-trigger"
            ]
        },
        "GraphDriver": {
            "Data": null,
            "Name": "overlayfs"
        },
        "Mounts": [
            {
                "Type": "bind",
                "Source": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2023-42793/custom_no_tool/data/teamcity_server/logs",
                "Destination": "/opt/teamcity/logs",
                "Mode": "rw",
                "RW": true,
                "Propagation": "rprivate"
            },
            {
                "Type": "volume",
                "Name": "67828be97f5e0f78aaf3bf0ffd03d2d8871c397d965d33827201f4f301b618b8",
                "Source": "/var/lib/docker/volumes/67828be97f5e0f78aaf3bf0ffd03d2d8871c397d965d33827201f4f301b618b8/_data",
                "Destination": "/opt/teamcity/temp",
                "Driver": "local",
                "Mode": "",
                "RW": true,
                "Propagation": ""
            },
            {
                "Type": "bind",
                "Source": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2023-42793/custom_no_tool/data/teamcity_server/datadir",
                "Destination": "/data/teamcity_server/datadir",
                "Mode": "rw",
                "RW": true,
                "Propagation": "rprivate"
            }
        ],
        "Config": {
            "Hostname": "518719a79383",
            "Domainname": "",
            "User": "tcuser:tcuser",
            "AttachStdin": false,
            "AttachStdout": true,
            "AttachStderr": true,
            "ExposedPorts": {
                "8111/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "TEAMCITY_SERVER_OPTS=-Dteamcity.startup.license.accepted=true -Dteamcity.firstStartWizardCompleted=true -Dteamcity.configuration.completed=true -Dteamcity.enableGuestLogin=true",
                "PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "LANG=C.UTF-8",
                "LANGUAGE=en_US:en",
                "LC_ALL=en_US.UTF-8",
                "JAVA_HOME=/opt/java/openjdk",
                "TEAMCITY_DATA_PATH=/data/teamcity_server/datadir",
                "TEAMCITY_DIST=/opt/teamcity",
                "TEAMCITY_LOGS=/opt/teamcity/logs",
                "TEAMCITY_ENV=container",
                "CATALINA_TMPDIR=/opt/teamcity/temp",
                "TEAMCITY_SERVER_MEM_OPTS=-Xmx2g -XX:ReservedCodeCacheSize=640m"
            ],
            "Cmd": [
                "/run-services.sh"
            ],
            "Image": "jetbrains/teamcity-server:2023.05.3",
            "Volumes": {
                "/data/teamcity_server/datadir": {},
                "/opt/teamcity/logs": {},
                "/opt/teamcity/temp": {}
            },
            "WorkingDir": "",
            "Entrypoint": null,
            "OnBuild": null,
            "Labels": {
                "com.docker.compose.config-hash": "1d368fae176e6389275ae7a4f24fb09d26fe950c97c94747fa7f2e89e97b15b5",
                "com.docker.compose.container-number": "1",
                "com.docker.compose.depends_on": "",
                "com.docker.compose.image": "sha256:3502027ef5a6038a29d8daa1c684c67b8e8dcfc53ff5e2de8b083ca668553888",
                "com.docker.compose.oneoff": "False",
                "com.docker.compose.project": "custom_no_tool",
                "com.docker.compose.project.config_files": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2023-42793/custom_no_tool/docker-compose.yml",
                "com.docker.compose.project.working_dir": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2023-42793/custom_no_tool",
                "com.docker.compose.service": "teamcity",
                "com.docker.compose.version": "2.40.0",
                "desktop.docker.io/wsl-distro": "Ubuntu",
                "org.opencontainers.image.ref.name": "ubuntu",
                "org.opencontainers.image.version": "20.04"
            },
            "StopTimeout": 1
        },
        "NetworkSettings": {
            "Bridge": "",
            "SandboxID": "",
            "SandboxKey": "",
            "Ports": {},
            "HairpinMode": false,
            "LinkLocalIPv6Address": "",
            "LinkLocalIPv6PrefixLen": 0,
            "SecondaryIPAddresses": null,
            "SecondaryIPv6Addresses": null,
            "EndpointID": "",
            "Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "IPAddress": "",
            "IPPrefixLen": 0,
            "IPv6Gateway": "",
            "MacAddress": "",
            "Networks": {
                "cve-2023-42793-net": {
                    "IPAMConfig": null,
                    "Links": null,
                    "Aliases": [
                        "cve-2023-42793-teamcity",
                        "teamcity"
                    ],
                    "MacAddress": "",
                    "DriverOpts": null,
                    "GwPriority": 0,
                    "NetworkID": "3c7f68299b57e473c321f5c7698b299da1b9d1aa2f3615a0f05e360b8b2d01e1",
                    "EndpointID": "",
                    "Gateway": "",
                    "IPAddress": "",
                    "IPPrefixLen": 0,
                    "IPv6Gateway": "",
                    "GlobalIPv6Address": "",
                    "GlobalIPv6PrefixLen": 0,
                    "DNSNames": [
                        "cve-2023-42793-teamcity",
                        "teamcity",
                        "518719a79383"
                    ]
                }
            }
        },
        "ImageManifestDescriptor": {
            "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
            "digest": "sha256:21b5d054e655effd7d015c4bf2ee0aac198c5ae9a1236a25cb9ec18ac51c2e9c",
            "size": 2831,
            "platform": {
                "architecture": "amd64",
                "os": "linux"
            }
        }
    }
]