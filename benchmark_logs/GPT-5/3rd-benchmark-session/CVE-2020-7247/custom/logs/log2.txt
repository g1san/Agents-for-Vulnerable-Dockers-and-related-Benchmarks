#1 [internal] load local bake definitions
#1 reading from stdin 716B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.93kB done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/alpine:3.19
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [ 1/15] FROM docker.io/library/alpine:3.19@sha256:6baf43584bcb78f2e5847d1de515f23499913ac9f12bdf834811a3145eb11ca1
#5 resolve docker.io/library/alpine:3.19@sha256:6baf43584bcb78f2e5847d1de515f23499913ac9f12bdf834811a3145eb11ca1 0.0s done
#5 CACHED

#6 [internal] load build context
#6 transferring context: 1.91kB done
#6 DONE 0.0s

#7 [ 2/15] RUN apk add --no-cache     build-base     openssl-dev     libevent-dev     zlib-dev     linux-headers     bison     flex     automake     autoconf     libtool     pkgconfig     curl     ca-certificates     bash     musl-fts-dev
#7 0.193 fetch https://dl-cdn.alpinelinux.org/alpine/v3.19/main/x86_64/APKINDEX.tar.gz
#7 0.391 fetch https://dl-cdn.alpinelinux.org/alpine/v3.19/community/x86_64/APKINDEX.tar.gz
#7 0.788 (1/63) Installing m4 (1.4.19-r3)
#7 0.833 (2/63) Installing libbz2 (1.0.8-r6)
#7 0.850 (3/63) Installing perl (5.38.5-r0)
#7 2.267 (4/63) Installing autoconf (2.71-r2)
#7 2.364 (5/63) Installing automake (1.16.5-r2)
#7 2.437 (6/63) Installing ncurses-terminfo-base (6.4_p20231125-r0)
#7 2.457 (7/63) Installing libncursesw (6.4_p20231125-r0)
#7 2.491 (8/63) Installing readline (8.2.1-r2)
#7 2.521 (9/63) Installing bash (5.2.21-r0)
#7 2.601 Executing bash-5.2.21-r0.post-install
#7 2.604 (10/63) Installing bison (3.8.2-r1)
#7 2.686 (11/63) Installing libgcc (13.2.1_git20231014-r0)
#7 2.708 (12/63) Installing jansson (2.14-r4)
#7 2.724 (13/63) Installing libstdc++ (13.2.1_git20231014-r0)
#7 2.876 (14/63) Installing zstd-libs (1.5.5-r8)
#7 2.942 (15/63) Installing binutils (2.41-r1)
#7 3.401 (16/63) Installing libmagic (5.45-r1)
#7 3.483 (17/63) Installing file (5.45-r1)
#7 3.497 (18/63) Installing libgomp (13.2.1_git20231014-r0)
#7 3.529 (19/63) Installing libatomic (13.2.1_git20231014-r0)
#7 3.542 (20/63) Installing gmp (6.3.0-r0)
#7 3.586 (21/63) Installing isl26 (0.26-r1)
#7 3.723 (22/63) Installing mpfr4 (4.2.1-r0)
#7 3.780 (23/63) Installing mpc1 (1.3.1-r1)
#7 3.799 (24/63) Installing gcc (13.2.1_git20231014-r0)
#7 10.88 (25/63) Installing libstdc++-dev (13.2.1_git20231014-r0)
#7 11.53 (26/63) Installing musl-dev (1.2.4_git20230717-r5)
#7 12.03 (27/63) Installing libc-dev (0.7.2-r5)
#7 12.06 (28/63) Installing g++ (13.2.1_git20231014-r0)
#7 15.32 (29/63) Installing make (4.4.1-r2)
#7 15.35 (30/63) Installing fortify-headers (1.1-r3)
#7 15.36 (31/63) Installing patch (2.7.6-r10)
#7 15.39 (32/63) Installing build-base (0.5-r3)
#7 15.40 (33/63) Installing ca-certificates (20250911-r0)
#7 15.44 (34/63) Installing brotli-libs (1.1.0-r1)
#7 15.52 (35/63) Installing c-ares (1.27.0-r0)
#7 15.54 (36/63) Installing libunistring (1.1-r2)
#7 15.64 (37/63) Installing libidn2 (2.3.4-r4)
#7 15.67 (38/63) Installing nghttp2-libs (1.58.0-r0)
#7 15.69 (39/63) Installing libpsl (0.21.5-r0)
#7 15.71 (40/63) Installing libcurl (8.14.1-r2)
#7 15.77 (41/63) Installing curl (8.14.1-r2)
#7 15.81 (42/63) Installing flex (2.6.4-r6)
#7 15.84 (43/63) Installing libexpat (2.7.3-r0)
#7 15.86 (44/63) Installing libffi (3.4.4-r3)
#7 15.87 (45/63) Installing gdbm (1.23-r1)
#7 15.89 (46/63) Installing xz-libs (5.4.5-r1)
#7 15.92 (47/63) Installing mpdecimal (2.5.1-r2)
#7 15.95 (48/63) Installing libpanelw (6.4_p20231125-r0)
#7 15.96 (49/63) Installing sqlite-libs (3.44.2-r1)
#7 16.10 (50/63) Installing python3 (3.11.13-r0)
#7 17.50 (51/63) Installing python3-pycache-pyc0 (3.11.13-r0)
#7 18.25 (52/63) Installing pyc (3.11.13-r0)
#7 18.26 (53/63) Installing python3-pyc (3.11.13-r0)
#7 18.28 (54/63) Installing libevent (2.1.12-r7)
#7 18.34 (55/63) Installing pkgconf (2.1.0-r0)
#7 18.37 (56/63) Installing libevent-dev (2.1.12-r7)
#7 18.40 (57/63) Installing libltdl (2.4.7-r3)
#7 18.42 (58/63) Installing libtool (2.4.7-r3)
#7 18.53 (59/63) Installing linux-headers (6.5-r0)
#7 18.91 (60/63) Installing musl-fts (1.2.7-r6)
#7 18.94 (61/63) Installing musl-fts-dev (1.2.7-r6)
#7 18.98 (62/63) Installing openssl-dev (3.1.8-r1)
#7 19.08 (63/63) Installing zlib-dev (1.3.1-r0)
#7 19.10 Executing busybox-1.36.1-r20.trigger
#7 19.11 Executing ca-certificates-20250911-r0.trigger
#7 19.16 OK: 331 MiB in 78 packages
#7 DONE 19.5s

#8 [ 3/15] RUN addgroup -S _smtpd && adduser -S -D -G _smtpd _smtpd  && addgroup -S _smtpq && adduser -S -D -G _smtpq _smtpq
#8 DONE 0.3s

#9 [ 4/15] WORKDIR /tmp/build
#9 DONE 0.1s

#10 [ 5/15] RUN curl -fsSL https://www.opensmtpd.org/archives/opensmtpd-6.6.1p1.tar.gz -o opensmtpd.tar.gz  && tar xzf opensmtpd.tar.gz  && cd opensmtpd-6.6.1p1  && ./configure       --prefix=/usr       --sysconfdir=/etc/opensmtpd       --with-user=_smtpd       --with-queue-user=_smtpq  && make -j"$(nproc)"  && make install  && cd /  && rm -rf /tmp/build
#10 0.674 configure: WARNING: unrecognized options: --with-user, --with-queue-user
#10 0.697 checking for a BSD-compatible install... /usr/bin/install -c
#10 0.805 checking whether build environment is sane... yes
#10 0.811 checking for a thread-safe mkdir -p... ./install-sh -c -d
#10 0.816 checking for gawk... no
#10 0.816 checking for mawk... no
#10 0.816 checking for nawk... no
#10 0.816 checking for awk... awk
#10 0.816 checking whether make sets $(MAKE)... yes
#10 0.823 checking whether make supports nested variables... yes
#10 0.834 checking build system type... x86_64-pc-linux-gnu
#10 0.871 checking host system type... x86_64-pc-linux-gnu
#10 0.871 checking how to print strings... printf
#10 0.872 checking for gcc... gcc
#10 0.888 checking whether the C compiler works... yes
#10 0.915 checking for C compiler default output file name... a.out
#10 0.916 checking for suffix of executables... 
#10 0.943 checking whether we are cross compiling... no
#10 0.972 checking for suffix of object files... o
#10 0.991 checking whether we are using the GNU C compiler... yes
#10 1.010 checking whether gcc accepts -g... yes
#10 1.029 checking for gcc option to accept ISO C89... none needed
#10 1.065 checking whether gcc understands -c and -o together... yes
#10 1.100 checking for a sed that does not truncate output... /bin/sed
#10 1.103 checking for grep that handles long lines and -e... /bin/grep
#10 1.141 checking for egrep... /bin/grep -E
#10 1.142 checking for fgrep... /bin/grep -F
#10 1.143 checking for ld used by gcc... /usr/x86_64-alpine-linux-musl/bin/ld
#10 1.153 checking if the linker (/usr/x86_64-alpine-linux-musl/bin/ld) is GNU ld... yes
#10 1.155 checking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B
#10 1.157 checking the name lister (/usr/bin/nm -B) interface... BSD nm
#10 1.175 checking whether ln -s works... yes
#10 1.175 checking the maximum length of command line arguments... 98304
#10 1.177 checking whether the shell understands some XSI constructs... yes
#10 1.178 checking whether the shell understands "+="... no
#10 1.180 checking how to convert x86_64-pc-linux-gnu file names to x86_64-pc-linux-gnu format... func_convert_file_noop
#10 1.180 checking how to convert x86_64-pc-linux-gnu file names to toolchain format... func_convert_file_noop
#10 1.180 checking for /usr/x86_64-alpine-linux-musl/bin/ld option to reload object files... -r
#10 1.181 checking for objdump... objdump
#10 1.181 checking how to recognize dependent libraries... pass_all
#10 1.181 checking for dlltool... no
#10 1.182 checking how to associate runtime and link libraries... printf %s\n
#10 1.182 checking for ar... ar
#10 1.182 checking for archiver @FILE support... @
#10 1.208 checking for strip... strip
#10 1.208 checking for ranlib... ranlib
#10 1.208 checking command to parse /usr/bin/nm -B output from gcc object... ok
#10 1.263 checking for sysroot... no
#10 1.278 checking for mt... no
#10 1.278 checking if : is a manifest tool... no
#10 1.281 checking how to run the C preprocessor... gcc -E
#10 1.328 checking for ANSI C header files... yes
#10 1.415 checking for sys/types.h... yes
#10 1.442 checking for sys/stat.h... yes
#10 1.469 checking for stdlib.h... yes
#10 1.497 checking for string.h... yes
#10 1.527 checking for memory.h... yes
#10 1.555 checking for strings.h... yes
#10 1.583 checking for inttypes.h... yes
#10 1.612 checking for stdint.h... yes
#10 1.640 checking for unistd.h... yes
#10 1.671 checking for dlfcn.h... yes
#10 1.700 checking for objdir... .libs
#10 1.751 checking if gcc supports -fno-rtti -fno-exceptions... no
#10 1.769 checking for gcc option to produce PIC... -fPIC -DPIC
#10 1.769 checking if gcc PIC flag -fPIC -DPIC works... yes
#10 1.787 checking if gcc static flag -static works... yes
#10 1.815 checking if gcc supports -c -o file.o... yes
#10 1.837 checking if gcc supports -c -o file.o... (cached) yes
#10 1.837 checking whether the gcc linker (/usr/x86_64-alpine-linux-musl/bin/ld -m elf_x86_64) supports shared libraries... yes
#10 1.846 checking whether -lc should be explicitly linked in... no
#10 1.868 checking dynamic linker characteristics... GNU/Linux ld.so
#10 1.906 checking how to hardcode library paths into programs... immediate
#10 1.906 checking whether stripping libraries is possible... yes
#10 1.908 checking if libtool supports shared libraries... yes
#10 1.908 checking whether to build shared libraries... yes
#10 1.908 checking whether to build static libraries... yes
#10 1.908 checking for gcc... (cached) gcc
#10 1.923 checking whether we are using the GNU C compiler... (cached) yes
#10 1.923 checking whether gcc accepts -g... (cached) yes
#10 1.923 checking for gcc option to accept ISO C89... (cached) none needed
#10 1.924 checking whether gcc understands -c and -o together... (cached) yes
#10 1.924 checking whether byte ordering is bigendian... no
#10 1.979 checking how to run the C preprocessor... gcc -E
#10 2.003 checking for ar... /usr/bin/ar
#10 2.003 checking for cat... /bin/cat
#10 2.003 checking for chmod... /bin/chmod
#10 2.004 checking for chown... /bin/chown
#10 2.004 checking for zcat... /bin/zcat
#10 2.004 checking for sed... (cached) /bin/sed
#10 2.004 checking for bash... /bin/bash
#10 2.004 checking for ksh... (cached) /bin/bash
#10 2.005 checking for sh... (cached) /bin/bash
#10 2.005 checking for sh... /bin/sh
#10 2.005 checking for groff... no
#10 2.005 checking for nroff... no
#10 2.005 checking for mandoc... no
#10 2.006 checking for bison... configure: WARNING: no manpage formatted found
#10 2.006 bison -y
#10 2.008 checking arpa/nameser_compat.h usability... yes
#10 2.037 checking arpa/nameser_compat.h presence... yes
#10 2.049 checking for arpa/nameser_compat.h... yes
#10 2.053 checking crypt.h usability... yes
#10 2.081 checking crypt.h presence... yes
#10 2.092 checking for crypt.h... yes
#10 2.096 checking dirent.h usability... yes
#10 2.124 checking dirent.h presence... yes
#10 2.135 checking for dirent.h... yes
#10 2.139 checking err.h usability... yes
#10 2.168 checking err.h presence... yes
#10 2.179 checking for err.h... yes
#10 2.183 checking fcntl.h usability... yes
#10 2.211 checking fcntl.h presence... yes
#10 2.222 checking for fcntl.h... yes
#10 2.226 checking getopt.h usability... yes
#10 2.254 checking getopt.h presence... yes
#10 2.265 checking for getopt.h... yes
#10 2.269 checking grp.h usability... yes
#10 2.298 checking grp.h presence... yes
#10 2.309 checking for grp.h... yes
#10 2.313 checking libgen.h usability... yes
#10 2.340 checking libgen.h presence... yes
#10 2.351 checking for libgen.h... yes
#10 2.355 checking limits.h usability... yes
#10 2.383 checking limits.h presence... yes
#10 2.394 checking for limits.h... yes
#10 2.398 checking maillock.h usability... no
#10 2.425 checking maillock.h presence... no
#10 2.439 checking for maillock.h... no
#10 2.441 checking mach/mach_time.h usability... no
#10 2.468 checking mach/mach_time.h presence... no
#10 2.481 checking for mach/mach_time.h... no
#10 2.483 checking ndir.h usability... no
#10 2.511 checking ndir.h presence... no
#10 2.524 checking for ndir.h... no
#10 2.526 checking netdb.h usability... yes
#10 2.556 checking netdb.h presence... yes
#10 2.570 checking for netdb.h... yes
#10 2.574 checking pam/pam_appl.h usability... no
#10 2.601 checking pam/pam_appl.h presence... no
#10 2.614 checking for pam/pam_appl.h... no
#10 2.616 checking paths.h usability... yes
#10 2.645 checking paths.h presence... yes
#10 2.656 checking for paths.h... yes
#10 2.661 checking security/pam_appl.h usability... no
#10 2.690 checking security/pam_appl.h presence... no
#10 2.702 checking for security/pam_appl.h... no
#10 2.704 checking shadow.h usability... yes
#10 2.734 checking shadow.h presence... yes
#10 2.745 checking for shadow.h... yes
#10 2.750 checking sys/cdefs.h usability... no
#10 2.779 checking sys/cdefs.h presence... no
#10 2.792 checking for sys/cdefs.h... no
#10 2.794 checking sys/dir.h usability... yes
#10 2.824 checking sys/dir.h presence... yes
#10 2.836 checking for sys/dir.h... yes
#10 2.840 checking sys/file.h usability... yes
#10 2.869 checking sys/file.h presence... yes
#10 2.880 checking for sys/file.h... yes
#10 2.884 checking sys/mount.h usability... yes
#10 2.912 checking sys/mount.h presence... yes
#10 2.923 checking for sys/mount.h... yes
#10 2.927 checking sys/ndir.h usability... no
#10 2.956 checking sys/ndir.h presence... no
#10 2.968 checking for sys/ndir.h... no
#10 2.970 checking sys/pstat.h usability... no
#10 2.999 checking sys/pstat.h presence... no
#10 3.012 checking for sys/pstat.h... no
#10 3.014 checking sys/statfs.h usability... yes
#10 3.044 checking sys/statfs.h presence... yes
#10 3.058 checking for sys/statfs.h... yes
#10 3.062 checking sys/time.h usability... yes
#10 3.091 checking sys/time.h presence... yes
#10 3.102 checking for sys/time.h... yes
#10 3.106 checking sys/un.h usability... yes
#10 3.135 checking sys/un.h presence... yes
#10 3.146 checking for sys/un.h... yes
#10 3.150 checking time.h usability... yes
#10 3.181 checking time.h presence... yes
#10 3.192 checking for time.h... yes
#10 3.196 checking ucred.h usability... no
#10 3.226 checking ucred.h presence... no
#10 3.239 checking for ucred.h... no
#10 3.240 checking util.h usability... no
#10 3.270 checking util.h presence... no
#10 3.283 checking for util.h... no
#10 3.285 checking utime.h usability... yes
#10 3.314 checking utime.h presence... yes
#10 3.326 checking for utime.h... yes
#10 3.331 checking vis.h usability... no
#10 3.359 checking vis.h presence... no
#10 3.372 checking for vis.h... no
#10 3.372 checking for login_cap.h... no
#10 3.389 checking for sys/mount.h... (cached) yes
#10 3.392 checking bsd/libutil.h usability... no
#10 3.421 checking bsd/libutil.h presence... no
#10 3.434 checking for bsd/libutil.h... no
#10 3.436 checking libutil.h usability... no
#10 3.464 checking libutil.h presence... no
#10 3.479 checking for libutil.h... no
#10 3.479 checking for fts.h... yes
#10 3.500 checking for long long... yes
#10 3.569 checking for unsigned long long... yes
#10 3.634 checking for long double... yes
#10 3.698 checking for u_int... yes
#10 3.761 checking for u_char... yes
#10 3.825 checking size of short int... 2
#10 3.873 checking size of int... 4
#10 3.922 checking size of long int... 8
#10 3.970 checking size of long long int... 8
#10 4.019 checking for int8_t... yes
#10 4.080 checking for int16_t... yes
#10 4.141 checking for int32_t... yes
#10 4.201 checking for int64_t... yes
#10 4.262 checking for uint8_t... yes
#10 4.296 checking for uint16_t... yes
#10 4.329 checking for uint32_t... yes
#10 4.364 checking for uint64_t... yes
#10 4.399 checking for intptr_t... yes
#10 4.459 checking for unsigned long long int... yes
#10 4.494 checking for long long int... yes
#10 4.528 checking for intmax_t... yes
#10 4.586 checking for uintptr_t... yes
#10 4.646 checking for uintmax_t... yes
#10 4.707 checking for size_t... yes
#10 4.768 checking for ssize_t... yes
#10 4.828 checking for off_t... yes
#10 4.886 checking for mode_t... yes
#10 4.943 checking for pid_t... yes
#10 5.002 checking for uid_t in sys/types.h... yes
#10 5.014 checking for socklen_t... yes
#10 5.058 checking for sig_atomic_t... yes
#10 5.097 checking for fsblkcnt_t... yes
#10 5.137 checking for fsfilcnt_t... yes
#10 5.177 checking for in_addr_t... yes
#10 5.224 checking for in_port_t... yes
#10 5.269 checking for sa_family_t... yes
#10 5.315 checking for struct timespec... yes
#10 5.374 checking for struct ifgroupreq... no
#10 5.401 checking for struct sockaddr_storage... yes
#10 5.446 checking for struct sockaddr_in6... yes
#10 5.494 checking for struct in6_addr... yes
#10 5.546 checking for struct addrinfo... yes
#10 5.601 checking for struct timeval... yes
#10 5.639 checking for struct sockaddr_in6.sin6_scope_id... yes
#10 5.668 checking for struct passwd.pw_gecos... yes
#10 5.693 checking for struct passwd.pw_class... no
#10 5.727 checking for struct passwd.pw_change... no
#10 5.761 checking for struct passwd.pw_expire... no
#10 5.796 checking for struct stat.st_flags... no
#10 5.833 checking for struct stat.st_mtim... yes
#10 5.874 checking for struct stat.st_mtimespec... no
#10 5.909 checking for struct sockaddr.sa_len... no
#10 5.946 checking for struct sockaddr_storage.ss_len... no
#10 5.983 checking for struct sockaddr_in.sin_len... no
#10 6.020 checking for struct sockaddr_in6.sin6_len... no
#10 6.057 checking for struct statfs.f_favail... no
#10 6.087 checking for struct sockaddr_storage.ss_family... yes
#10 6.113 checking for struct sockaddr_storage.__ss_family... no
#10 6.150 checking for struct tm.tm_gmtoff... yes
#10 6.173 checking for struct tm.tm_zone... yes
#10 6.196 checking for struct DIR.d_type... no
#10 6.234 checking whether O_NONBLOCK is declared... yes
#10 6.261 checking whether AF_LOCAL is declared... yes
#10 6.288 checking whether PF_LOCAL is declared... yes
#10 6.315 checking whether IPPORT_HILASTAUTO is declared... no
#10 6.337 checking whether WAIT_MYPGRP is declared... no
#10 6.358 checking whether writev is declared... yes
#10 6.388 checking whether LOG_PERROR is declared... yes
#10 6.411 checking for inline... inline
#10 6.426 checking for library containing basename... none required
#10 6.457 checking for library containing closefrom... no
#10 6.519 checking for library containing utimes... none required
#10 6.549 checking for library containing fmt_scaled... no
#10 6.644 checking for library containing dirname... none required
#10 6.677 checking for errc... no
#10 6.710 checking for library containing inet_net_pton... no
#10 6.776 checking for library containing clock_gettime... none required
#10 6.809 checking for library containing fts_open... -lfts
#10 6.872 checking for library containing flock... none required
#10 6.904 checking for library containing daemon... none required
#10 6.935 checking for library containing fparseln... no
#10 7.001 checking for library containing res_9_b64_ntop... no
#10 7.067 checking for library containing setsockopt... none required
#10 7.098 checking for library containing crypt... none required
#10 7.129 checking for getline... yes
#10 7.160 checking for explicit_bzero... yes
#10 7.191 checking for crypt_checkpass... no
#10 7.225 checking for strndup... yes
#10 7.257 checking for strnlen... yes
#10 7.292 checking for asprintf... yes
#10 7.326 checking for b64_ntop... no
#10 7.362 checking for __b64_ntop... no
#10 7.397 checking for b64_pton... no
#10 7.431 checking for __b64_pton... no
#10 7.467 checking for bcopy... yes
#10 7.503 checking for calloc_conceal... no
#10 7.539 checking for chflags... no
#10 7.577 checking for crypt_checkpass... (cached) no
#10 7.579 checking for dirfd... yes
#10 7.617 checking for endgrent... yes
#10 7.656 checking for explicit_bzero... (cached) yes
#10 7.660 checking for fchflags... no
#10 7.695 checking for fgetln... yes
#10 7.730 checking for freeaddrinfo... yes
#10 7.764 checking for freezero... no
#10 7.800 checking for getaddrinfo... yes
#10 7.835 checking for getnameinfo... yes
#10 7.869 checking for gettimeofday... yes
#10 7.903 checking for getopt... yes
#10 7.937 checking for getpeereid... no
#10 7.972 checking for getpeerucred... no
#10 8.006 checking for getspnam... yes
#10 8.040 checking for inet_aton... yes
#10 8.075 checking for inet_ntoa... yes
#10 8.109 checking for inet_ntop... yes
#10 8.143 checking for isblank... yes
#10 8.179 checking for malloc_conceal... no
#10 8.215 checking for memmove... yes
#10 8.251 checking for nsleep... no
#10 8.287 checking for pidfile... no
#10 8.322 checking for pw_dup... no
#10 8.358 checking for reallocarray... yes
#10 8.392 checking for recallocarray... no
#10 8.427 checking for res_hnok... no
#10 8.462 checking for setenv... yes
#10 8.497 checking for setlinebuf... yes
#10 8.533 checking for setproctitle... no
#10 8.568 checking for setregid... yes
#10 8.603 checking for setreuid... yes
#10 8.638 checking for setresuid... yes
#10 8.672 checking for setresgid... yes
#10 8.707 checking for setsid... yes
#10 8.742 checking for sigaction... yes
#10 8.782 checking for snprintf... yes
#10 8.820 checking for socketpair... yes
#10 8.854 checking for strdup... yes
#10 8.890 checking for strerror... yes
#10 8.926 checking for strlcat... yes
#10 8.959 checking for strlcpy... yes
#10 8.993 checking for strmode... no
#10 9.028 checking for strnvis... no
#10 9.062 checking for strtonum... no
#10 9.097 checking for sysconf... yes
#10 9.130 checking for tcgetpgrp... yes
#10 9.164 checking for time... yes
#10 9.199 checking for truncate... yes
#10 9.234 checking for vasprintf... yes
#10 9.269 checking for vsnprintf... yes
#10 9.306 checking for waitpid... yes
#10 9.341 checking whether strsep is declared... yes
#10 9.366 checking for strsep... yes
#10 9.400 checking whether strlcat is declared... yes
#10 9.439 checking whether strlcpy is declared... yes
#10 9.474 checking for /proc/pid/fd directory... yes
#10 9.477 checking whether LLONG_MAX is declared... yes
#10 9.499 checking if gcc supports compile flag -Qunused-arguments... no
#10 9.516 checking if gcc supports compile flag -Wunknown-warning-option... no
#10 9.536 checking if gcc supports compile flag -Wall... yes
#10 9.566 checking if gcc supports compile flag -Wpointer-arith... yes
#10 9.597 checking if gcc supports compile flag -Wuninitialized... yes
#10 9.630 checking if gcc supports compile flag -Wsign-compare... yes
#10 9.665 checking if gcc supports compile flag -Wformat-security... yes
#10 9.697 checking if gcc supports compile flag -Wsizeof-pointer-memaccess... yes
#10 9.727 checking if gcc supports compile flag -Wpointer-sign... yes
#10 9.758 checking if gcc supports compile flag -Wunused-result... yes
#10 9.788 checking if gcc supports compile flag -fno-strict-aliasing... yes
#10 9.817 checking gcc version... 13.2.1
#10 9.819 checking if gcc accepts -fno-builtin-memset... yes
#10 9.854 checking if compiler allows __attribute__ on return types... yes
#10 9.878 checking compiler and flags for sanity... yes
#10 9.914 checking whether system supports SO_PEERCRED getsockopt... yes
#10 9.942 checking for nroff... no
#10 9.942 checking for awf... no
#10 9.946 checking for arc4random... no
#10 9.981 checking for arc4random_buf... no
#10 10.02 checking for arc4random_stir... no
#10 10.05 checking for arc4random_uniform... no
#10 10.09 checking system mail directory... /var/mail from _PATH_MAILDIR
#10 10.14 checking system pid directory... /var/run/ from paths.h
#10 10.18 checking for msg_accrights field in struct msghdr... no
#10 10.20 checking for msg_control field in struct msghdr... yes
#10 10.23 checking if libc defines __progname... yes
#10 10.26 checking whether gcc implements __FUNCTION__... yes
#10 10.29 checking whether gcc implements __func__... yes
#10 10.33 checking whether va_copy exists... yes
#10 10.36 checking whether __va_copy exists... no
#10 10.40 checking whether getopt has optreset support... yes
#10 10.43 checking for asr.h... no
#10 10.45 configure: error: *** asr.h missing - please install first or check config.log ***
#10 ERROR: process "/bin/sh -c curl -fsSL https://www.opensmtpd.org/archives/opensmtpd-${OSMTPD_VER}.tar.gz -o opensmtpd.tar.gz  && tar xzf opensmtpd.tar.gz  && cd opensmtpd-${OSMTPD_VER}  && ./configure       --prefix=/usr       --sysconfdir=/etc/opensmtpd       --with-user=_smtpd       --with-queue-user=_smtpq  && make -j\"$(nproc)\"  && make install  && cd /  && rm -rf /tmp/build" did not complete successfully: exit code: 1
------
 > [ 5/15] RUN curl -fsSL https://www.opensmtpd.org/archives/opensmtpd-6.6.1p1.tar.gz -o opensmtpd.tar.gz  && tar xzf opensmtpd.tar.gz  && cd opensmtpd-6.6.1p1  && ./configure       --prefix=/usr       --sysconfdir=/etc/opensmtpd       --with-user=_smtpd       --with-queue-user=_smtpq  && make -j"$(nproc)"  && make install  && cd /  && rm -rf /tmp/build:
9.942 checking for awf... no
9.946 checking for arc4random... no
9.981 checking for arc4random_buf... no
10.02 checking for arc4random_stir... no
10.05 checking for arc4random_uniform... no
10.09 checking system mail directory... /var/mail from _PATH_MAILDIR
10.14 checking system pid directory... /var/run/ from paths.h
yes
10.43 checking for asr.h... no
10.45 configure: error: *** asr.h missing - please install first or check config.log ***
------
Dockerfile:29

--------------------

  28 |     WORKDIR /tmp/build

  29 | >>> RUN curl -fsSL https://www.opensmtpd.org/archives/opensmtpd-${OSMTPD_VER}.tar.gz -o opensmtpd.tar.gz \

  30 | >>>  && tar xzf opensmtpd.tar.gz \

  31 | >>>  && cd opensmtpd-${OSMTPD_VER} \

  32 | >>>  && ./configure \

  33 | >>>       --prefix=/usr \

  34 | >>>       --sysconfdir=/etc/opensmtpd \

  35 | >>>       --with-user=_smtpd \

  36 | >>>       --with-queue-user=_smtpq \

  37 | >>>  && make -j"$(nproc)" \

  38 | >>>  && make install \

  39 | >>>  && cd / \

  40 | >>>  && rm -rf /tmp/build

  41 |     

--------------------

failed to solve: process "/bin/sh -c curl -fsSL https://www.opensmtpd.org/archives/opensmtpd-${OSMTPD_VER}.tar.gz -o opensmtpd.tar.gz  && tar xzf opensmtpd.tar.gz  && cd opensmtpd-${OSMTPD_VER}  && ./configure       --prefix=/usr       --sysconfdir=/etc/opensmtpd       --with-user=_smtpd       --with-queue-user=_smtpq  && make -j\"$(nproc)\"  && make install  && cd /  && rm -rf /tmp/build" did not complete successfully: exit code: 1

