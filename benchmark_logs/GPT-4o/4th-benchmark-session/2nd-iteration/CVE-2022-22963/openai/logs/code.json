{
    "file_name": [
        "docker-compose.yml",
        "spring-cloud-function/Dockerfile",
        "spring-cloud-function/pom.xml",
        "nginx/nginx.conf",
        "spring-cloud-function/src/main/java/com/example/demo/DemoApplication.java",
        "spring-cloud-function/src/main/resources/application.properties"
    ],
    "file_code": [
        "services:\n  spring-cloud-function:\n    build: ./spring-cloud-function\n    ports:\n      - \"8080:8080\"\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\n  nginx:\n    image: nginx:1.21.3\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro\n    depends_on:\n      spring-cloud-function:\n        condition: service_healthy\n    networks:\n      - default\n\nnetworks:\n  default:\n    driver: bridge\n",
        "FROM openjdk:8-jdk\n\n# Install Maven\nRUN apt-get update && \\\n    apt-get install -y maven && \\\n    rm -rf /var/lib/apt/lists/*\n\nWORKDIR /app\nCOPY pom.xml /app\nRUN mvn -B -f pom.xml dependency:resolve\nCOPY src /app/src\nRUN mvn -B -f pom.xml package\n\n# Ensure the jar file is correctly named and available\nENTRYPOINT [\"java\", \"-jar\", \"target/demo-0.0.1-SNAPSHOT.jar\"]\n",
        "<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>com.example</groupId>\n    <artifactId>demo</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <properties>\n        <java.version>1.8</java.version>\n    </properties>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-function-web</artifactId>\n            <version>3.2.2</version> <!-- Updated to a patched version -->\n        </dependency>\n    </dependencies>\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.8.1</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n",
        "events {\n    worker_connections 1024;\n}\n\nhttp {\n    server {\n        listen 80;\n\n        location / {\n            proxy_pass http://spring-cloud-function:8080;\n        }\n    }\n}\n",
        "package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.function.context.FunctionalSpringApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        FunctionalSpringApplication.run(DemoApplication.class, args);\n    }\n}\n",
        "spring.main.web-application-type=reactive\n"
    ],
    "directory_tree": "./../../dockers/CVE-2022-22963/openai"
}