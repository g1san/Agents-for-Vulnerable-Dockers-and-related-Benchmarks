{
    "file_name": [
        "docker-compose.yml",
        "spring-cloud-function/Dockerfile",
        "spring-cloud-function/pom.xml",
        "spring-cloud-function/src/main/java/com/example/demo/DemoApplication.java",
        "nginx/nginx.conf"
    ],
    "file_code": [
        "version: '3.8'\\n\\nservices:\\n  spring-cloud-function:\\n    build: ./spring-cloud-function\\n    ports:\\n      - \"8080:8080\"\\n    networks:\\n      - cve-network\\n\\n  nginx:\\n    image: nginx:1.21.6\\n    ports:\\n      - \"80:80\"\\n    volumes:\\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\\n    depends_on:\\n      - spring-cloud-function\\n    networks:\\n      - cve-network\\n\\nnetworks:\\n  cve-network:\\n    driver: bridge\\n",
        "FROM openjdk:8-jdk\\n\\nWORKDIR /app\\n\\nCOPY pom.xml .\\nCOPY src ./src\\n\\nRUN apt-get update && \\\\\\n    apt-get install -y maven && \\\\\\n    mvn dependency:go-offline -B && \\\\\\n    mvn package\\n\\nCMD [\"java\", \"-jar\", \"target/demo-0.0.1-SNAPSHOT.jar\"]\\n",
        "<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\\n    <modelVersion>4.0.0</modelVersion>\\n\\n    <groupId>com.example</groupId>\\n    <artifactId>demo</artifactId>\\n    <version>0.0.1-SNAPSHOT</version>\\n    <packaging>jar</packaging>\\n\\n    <properties>\\n        <java.version>1.8</java.version>\\n        <spring-boot.version>2.5.6</spring-boot.version>\\n    </properties>\\n\\n    <dependencies>\\n        <dependency>\\n            <groupId>org.springframework.cloud</groupId>\\n            <artifactId>spring-cloud-function-web</artifactId>\\n            <version>3.1.7</version>\\n        </dependency>\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-web</artifactId>\\n            <version>${spring-boot.version}</version>\\n        </dependency>\\n    </dependencies>\\n\\n    <build>\\n        <plugins>\\n            <plugin>\\n                <groupId>org.springframework.boot</groupId>\\n                <artifactId>spring-boot-maven-plugin</artifactId>\\n                <version>${spring-boot.version}</version>\\n            </plugin>\\n        </plugins>\\n    </build>\\n</project>\\n",
        "package com.example.demo;\\n\\nimport org.springframework.boot.SpringApplication;\\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\\nimport org.springframework.cloud.function.context.FunctionCatalog;\\nimport org.springframework.context.annotation.Bean;\\nimport org.springframework.web.bind.annotation.RequestMapping;\\nimport org.springframework.web.bind.annotation.RestController;\\nimport org.springframework.web.bind.annotation.RequestHeader;\\n\\n@SpringBootApplication\\n@RestController\\npublic class DemoApplication {\\n\\n    public static void main(String[] args) {\\n        SpringApplication.run(DemoApplication.class, args);\\n    }\\n\\n    @RequestMapping(\"/\")\\n    public String index(@RequestHeader(name = \"spring.cloud.function.routing-expression\", required = false) String routingExpression, \\n                        FunctionCatalog functionCatalog) {\\n        return \"Patched for CVE-2022-22963\";\\n    }\\n\\n    @Bean\\n    public FunctionCatalog functionCatalog() {\\n        return null; // Placeholder, actual bean management is handled by Spring\\n    }\\n}\\n",
        "worker_processes 1;\\n\\nevents {}\\n\\nhttp {\\n    upstream spring_cloud_function {\\n        server spring-cloud-function:8080;\\n    }\\n\\n    server {\\n        listen 80;\\n\\n        location / {\\n            proxy_pass http://spring_cloud_function;\\n            proxy_set_header Host $host;\\n            proxy_set_header X-Real-IP $remote_addr;\\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n            proxy_set_header X-Forwarded-Proto $scheme;\\n        }\\n    }\\n}\\n"
    ],
    "directory_tree": "./../../dockers/CVE-2022-22963/custom_no_tool/"
}