#1 [internal] load local bake definitions
#1 reading from stdin 727B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile.opensmtpd
#2 transferring dockerfile: 454B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/alpine:3.11
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 486B done
#5 DONE 0.0s

#6 [1/6] FROM docker.io/library/alpine:3.11@sha256:bcae378eacedab83da66079d9366c8f5df542d7ed9ab23bf487e3e1a8481375d
#6 resolve docker.io/library/alpine:3.11@sha256:bcae378eacedab83da66079d9366c8f5df542d7ed9ab23bf487e3e1a8481375d 0.0s done
#6 CACHED

#7 [2/6] ADD https://github.com/just-containers/s6-overlay/releases/download/v2.1.0.2/s6-overlay-amd64.tar.gz /tmp/
#7 DONE 0.9s

#7 [2/6] ADD https://github.com/just-containers/s6-overlay/releases/download/v2.1.0.2/s6-overlay-amd64.tar.gz /tmp/
#7 DONE 0.9s

#8 [2/6] ADD https://github.com/just-containers/s6-overlay/releases/download/v2.1.0.2/s6-overlay-amd64.tar.gz /tmp/
#8 DONE 0.0s

#9 [3/6] RUN tar xzf /tmp/s6-overlay-amd64.tar.gz -C /
#9 DONE 0.2s

#10 [4/6] RUN apk add --no-cache opensmtpd
#10 0.219 fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz
#10 0.404 fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz
#10 0.582 (1/7) Installing ca-certificates (20191127-r2)
#10 0.624 (2/7) Installing libbsd (0.10.0-r0)
#10 0.643 (3/7) Installing libasr (1.0.3-r0)
#10 0.669 (4/7) Installing db (5.3.28-r1)
#10 0.789 (5/7) Installing libevent (2.1.11-r0)
#10 0.841 (6/7) Installing fts (1.2.7-r1)
#10 0.857 (7/7) Installing opensmtpd (6.6.4p1-r1)
#10 0.876 Executing opensmtpd-6.6.4p1-r1.pre-install
#10 0.944 Executing busybox-1.31.1-r11.trigger
#10 0.947 Executing ca-certificates-20191127-r2.trigger
#10 0.989 OK: 9 MiB in 21 packages
#10 DONE 1.0s

#11 [5/6] COPY smtpd.conf /etc/smtpd/smtpd.conf
#11 DONE 0.1s

#12 [6/6] COPY root/ /
#12 DONE 0.0s

#13 exporting to image
#13 exporting layers
#13 exporting layers 0.3s done
#13 exporting manifest sha256:9b276fad083c1533897dd0958d4c3626443c1daafd9b9e72a748b61c4dc31bb4 0.0s done
#13 exporting config sha256:cabde42647a5113442a9667b2dd3bb00a9839e12efea5f9ff263c89b019c87f8 0.0s done
#13 exporting attestation manifest sha256:67a156d2f7f5966e463d749777ec80ea674a262c8773cb74e1cecc14fa3a2138 0.0s done
#13 exporting manifest list sha256:355e7175ecfde7166abce1ccca11b6629e6398cccefe8781a8d3cbccf4eddf74 0.0s done
#13 naming to docker.io/library/custom_no_tool-opensmtpd:latest done
#13 unpacking to docker.io/library/custom_no_tool-opensmtpd:latest
#13 unpacking to docker.io/library/custom_no_tool-opensmtpd:latest 0.2s done
#13 DONE 0.6s

#14 resolving provenance for metadata file
#14 DONE 0.0s
 custom_no_tool-opensmtpd  Built
 Network custom_no_tool_smtp_network  Creating
 Network custom_no_tool_smtp_network  Created
 Container custom_no_tool-opensmtpd-1  Creating
 Container custom_no_tool-opensmtpd-1  Created
 Container custom_no_tool-opensmtpd-1  Starting
 Container custom_no_tool-opensmtpd-1  Started


sudo docker logs 72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393 --details
STDOUT:  [s6-init] making user provided files available at /var/run/s6/etc...exited 0.
 [s6-init] ensuring user provided files have correct perms...exited 0.
 [fix-attrs.d] applying ownership & permissions fixes...
 [fix-attrs.d] done.
 [cont-init.d] executing container initialization scripts...
 [cont-init.d] 00-fix-permissions: executing... 
 [cont-init.d] 00-fix-permissions: exited 0.
 [cont-init.d] done.
 [services.d] starting services
 [services.d] done.

STDERR:  warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do
 warn: no rules, nothing to do




sudo docker inspect 72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393
[{'Id': '72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393', 'Created': '2025-09-26T09:11:48.068019963Z', 'Path': '/init', 'Args': [], 'State': {'Status': 'running', 'Running': True, 'Paused': False, 'Restarting': False, 'OOMKilled': False, 'Dead': False, 'Pid': 11202, 'ExitCode': 0, 'Error': '', 'StartedAt': '2025-09-26T09:11:48.197948055Z', 'FinishedAt': '0001-01-01T00:00:00Z'}, 'Image': 'sha256:355e7175ecfde7166abce1ccca11b6629e6398cccefe8781a8d3cbccf4eddf74', 'ResolvConfPath': '/var/lib/docker/containers/72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393/resolv.conf', 'HostnamePath': '/var/lib/docker/containers/72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393/hostname', 'HostsPath': '/var/lib/docker/containers/72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393/hosts', 'LogPath': '/var/lib/docker/containers/72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393/72564fa81ad587b1b1fbdc36134ced20ca3f4ff9fde2ad805440d3406167f393-json.log', 'Name': '/custom_no_tool-opensmtpd-1', 'RestartCount': 0, 'Driver': 'overlayfs', 'Platform': 'linux', 'MountLabel': '', 'ProcessLabel': '', 'AppArmorProfile': '', 'ExecIDs': None, 'HostConfig': {'Binds': None, 'ContainerIDFile': '', 'LogConfig': {'Type': 'json-file', 'Config': {}}, 'NetworkMode': 'custom_no_tool_smtp_network', 'PortBindings': {'25/tcp': [{'HostIp': '', 'HostPort': '25'}]}, 'RestartPolicy': {'Name': 'no', 'MaximumRetryCount': 0}, 'AutoRemove': False, 'VolumeDriver': '', 'VolumesFrom': None, 'ConsoleSize': [0, 0], 'CapAdd': None, 'CapDrop': None, 'CgroupnsMode': 'private', 'Dns': None, 'DnsOptions': None, 'DnsSearch': None, 'ExtraHosts': [], 'GroupAdd': None, 'IpcMode': 'private', 'Cgroup': '', 'Links': None, 'OomScoreAdj': 0, 'PidMode': '', 'Privileged': False, 'PublishAllPorts': False, 'ReadonlyRootfs': False, 'SecurityOpt': None, 'UTSMode': '', 'UsernsMode': '', 'ShmSize': 67108864, 'Runtime': 'runc', 'Isolation': '', 'CpuShares': 0, 'Memory': 0, 'NanoCpus': 0, 'CgroupParent': '', 'BlkioWeight': 0, 'BlkioWeightDevice': None, 'BlkioDeviceReadBps': None, 'BlkioDeviceWriteBps': None, 'BlkioDeviceReadIOps': None, 'BlkioDeviceWriteIOps': None, 'CpuPeriod': 0, 'CpuQuota': 0, 'CpuRealtimePeriod': 0, 'CpuRealtimeRuntime': 0, 'CpusetCpus': '', 'CpusetMems': '', 'Devices': None, 'DeviceCgroupRules': None, 'DeviceRequests': None, 'MemoryReservation': 0, 'MemorySwap': 0, 'MemorySwappiness': None, 'OomKillDisable': None, 'PidsLimit': None, 'Ulimits': None, 'CpuCount': 0, 'CpuPercent': 0, 'IOMaximumIOps': 0, 'IOMaximumBandwidth': 0, 'MaskedPaths': ['/proc/asound', '/proc/acpi', '/proc/interrupts', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/proc/scsi', '/sys/firmware', '/sys/devices/virtual/powercap'], 'ReadonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}, 'GraphDriver': {'Data': None, 'Name': 'overlayfs'}, 'Mounts': [], 'Config': {'Hostname': '72564fa81ad5', 'Domainname': '', 'User': '', 'AttachStdin': False, 'AttachStdout': True, 'AttachStderr': True, 'ExposedPorts': {'25/tcp': {}}, 'Tty': False, 'OpenStdin': False, 'StdinOnce': False, 'Env': ['PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'], 'Cmd': None, 'Image': 'custom_no_tool-opensmtpd', 'Volumes': None, 'WorkingDir': '', 'Entrypoint': ['/init'], 'OnBuild': None, 'Labels': {'com.docker.compose.config-hash': 'eefc30c9c22f72ca00b9556d32b26b8ad8a5d3a05f28f6eecb9c7e7d971e957a', 'com.docker.compose.container-number': '1', 'com.docker.compose.depends_on': '', 'com.docker.compose.image': 'sha256:355e7175ecfde7166abce1ccca11b6629e6398cccefe8781a8d3cbccf4eddf74', 'com.docker.compose.oneoff': 'False', 'com.docker.compose.project': 'custom_no_tool', 'com.docker.compose.project.config_files': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-7247/custom_no_tool/docker-compose.yml', 'com.docker.compose.project.working_dir': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-7247/custom_no_tool', 'com.docker.compose.service': 'opensmtpd', 'com.docker.compose.version': '2.39.4', 'desktop.docker.io/wsl-distro': 'Ubuntu'}}, 'NetworkSettings': {'Bridge': '', 'SandboxID': '31b6ac6d3669179445681ec690b88cad2adcd7c2df10d9e67d46b58c7443fe07', 'SandboxKey': '/var/run/docker/netns/31b6ac6d3669', 'Ports': {'25/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '25'}, {'HostIp': '::', 'HostPort': '25'}]}, 'HairpinMode': False, 'LinkLocalIPv6Address': '', 'LinkLocalIPv6PrefixLen': 0, 'SecondaryIPAddresses': None, 'SecondaryIPv6Addresses': None, 'EndpointID': '', 'Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'IPAddress': '', 'IPPrefixLen': 0, 'IPv6Gateway': '', 'MacAddress': '', 'Networks': {'custom_no_tool_smtp_network': {'IPAMConfig': None, 'Links': None, 'Aliases': ['custom_no_tool-opensmtpd-1', 'opensmtpd'], 'MacAddress': 'b2:78:44:86:bd:4b', 'DriverOpts': None, 'GwPriority': 0, 'NetworkID': '6e5bb19e5793cb36570baa9c9755278fd8922badb355b5a911a8a00cdbe348b7', 'EndpointID': '1e71bce070a284e10e14316f50e397e03334b03bce9eff638395b15c5e20fb14', 'Gateway': '172.18.0.1', 'IPAddress': '172.18.0.2', 'IPPrefixLen': 16, 'IPv6Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'DNSNames': ['custom_no_tool-opensmtpd-1', 'opensmtpd', '72564fa81ad5']}}}, 'ImageManifestDescriptor': {'mediaType': 'application/vnd.oci.image.manifest.v1+json', 'digest': 'sha256:9b276fad083c1533897dd0958d4c3626443c1daafd9b9e72a748b61c4dc31bb4', 'size': 1433, 'platform': {'architecture': 'amd64', 'os': 'linux'}}}]

