{
    "file_name": [
        "./../../dockers/CVE-2020-7247/custom_no_tool/docker-compose.yml",
        "./../../dockers/CVE-2020-7247/custom_no_tool/Dockerfile.opensmtpd",
        "./../../dockers/CVE-2020-7247/custom_no_tool/smtpd.conf",
        "./../../dockers/CVE-2020-7247/custom_no_tool/root/etc/services.d/smtpd/run",
        "./../../dockers/CVE-2020-7247/custom_no_tool/root/etc/cont-init.d/00-fix-permissions"
    ],
    "file_code": [
        "services:\n  opensmtpd:\n    build:\n      context: .\n      dockerfile: Dockerfile.opensmtpd\n    ports:\n      - \"25:25\"\n    networks:\n      - smtp_network\n\nnetworks:\n  smtp_network:\n    driver: bridge\n",
        "FROM alpine:3.11\n\n# Install s6-overlay for process management\nADD https://github.com/just-containers/s6-overlay/releases/download/v2.1.0.2/s6-overlay-amd64.tar.gz /tmp/\nRUN tar xzf /tmp/s6-overlay-amd64.tar.gz -C /\n\n# Install dependencies\nRUN apk add --no-cache curl tar build-base openssl\n\n# Download and extract OpenSMTPD 6.6.1\nRUN curl -k -L -o /tmp/opensmtpd.tar.gz https://fastly.cdn.openbsd.org/pub/OpenBSD/OpenSMTPD/opensmtpd-6.6.1.tar.gz \\\n    && tar xzf /tmp/opensmtpd.tar.gz -C /tmp \\\n    && cd /tmp/opensmtpd-6.6.1 \\\n    && ./configure \\\n    && make \\\n    && make install \\\n    && apk del curl tar build-base\n\n# Copy configuration files\nCOPY smtpd.conf /etc/smtpd/smtpd.conf\nCOPY root/ /\n\n# Set s6-overlay as the entrypoint\nENTRYPOINT [\"/init\"]\n",
        "listen on 0.0.0.0\n",
        "#!/usr/bin/with-contenv sh\nexec smtpd -d\n",
        "#!/usr/bin/with-contenv sh\n\n# Fix permissions for /run\nmkdir -p /run\nchmod 1777 /run\n"
    ],
    "directory_tree": "CVE-2020-7247/\n\u2514\u2500\u2500 custom_no_tool\n    \u251c\u2500\u2500 Dockerfile.opensmtpd\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 root\n    \u2502   \u2514\u2500\u2500 etc\n    \u2502       \u251c\u2500\u2500 cont-init.d\n    \u2502       \u2502   \u2514\u2500\u2500 00-fix-permissions\n    \u2502       \u2514\u2500\u2500 services.d\n    \u2502           \u2514\u2500\u2500 smtpd\n    \u2502               \u2514\u2500\u2500 run\n    \u2514\u2500\u2500 smtpd.conf\n"
}