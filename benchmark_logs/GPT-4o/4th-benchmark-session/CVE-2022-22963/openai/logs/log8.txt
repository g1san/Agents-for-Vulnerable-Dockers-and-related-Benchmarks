#1 [internal] load local bake definitions
#1 reading from stdin 663B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile:
#2 transferring dockerfile: 203B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/maven:3.8.4-openjdk-8
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/5] FROM docker.io/library/maven:3.8.4-openjdk-8@sha256:d8afdfbaaaefdfd1b4b41ee4af4846c756583bbf1b8a12186a5b768b195c581b
#5 resolve docker.io/library/maven:3.8.4-openjdk-8@sha256:d8afdfbaaaefdfd1b4b41ee4af4846c756583bbf1b8a12186a5b768b195c581b 0.0s done
#5 DONE 0.0s

#6 [internal] load build context
#6 transferring context: 3.11kB done
#6 DONE 0.0s

#7 [2/5] WORKDIR /app
#7 CACHED

#8 [3/5] COPY pom.xml ./
#8 CACHED

#9 [4/5] COPY src ./src
#9 CACHED

#10 [5/5] RUN mvn clean package -DskipTests
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 exporting manifest sha256:d433492a4d284cd3ed53a4183ef8ca4cbe5557de14aeabf534e12cd83afe4aea done
#11 exporting config sha256:529b19e98eb195c8ae2c9e302168a449d2e0c103602603bd55c8eed219d443b7 done
#11 exporting attestation manifest sha256:588f5067fe701ba3af929154d5dc1c4cb4c0eb07a9d136ca0fdfb7adb4bff86f 0.0s done
#11 exporting manifest list sha256:c55b5952547f368fa4be9e4254106e56a400d4fa8fb095f518d3f2e59400d2ca
#11 exporting manifest list sha256:c55b5952547f368fa4be9e4254106e56a400d4fa8fb095f518d3f2e59400d2ca 0.0s done
#11 naming to docker.io/library/openai-app:latest done
#11 unpacking to docker.io/library/openai-app:latest 0.0s done
#11 DONE 0.1s

#12 resolving provenance for metadata file
#12 DONE 0.0s
 openai-app  Built
 Network openai_default  Creating
 Network openai_default  Created
 Container openai-app-1  Creating
 Container openai-app-1  Created
 Container openai-nginx-1  Creating
 Container openai-nginx-1  Created
 Container openai-app-1  Starting
 Container openai-app-1  Started
 Container openai-nginx-1  Starting
 Container openai-nginx-1  Started


sudo docker logs 07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09 --details
STDOUT:  
   .   ____          _            __ _ _
  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
 ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
   '  |____| .__|_| |_|_| |_\__, | / / / /
  =========|_|==============|___/=/_/_/_/
  :: Spring Boot ::                (v2.5.6)
 
 2025-09-28 14:22:36.208  INFO 1 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT using Java 1.8.0_322 on 07a8a73824af with PID 1 (/app/target/demo-0.0.1-SNAPSHOT.jar started by root in /app)
 2025-09-28 14:22:36.211  INFO 1 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
 2025-09-28 14:22:37.146  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
 2025-09-28 14:22:37.161  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
 2025-09-28 14:22:37.161  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.54]
 2025-09-28 14:22:37.203  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
 2025-09-28 14:22:37.204  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 923 ms
 2025-09-28 14:22:37.599  INFO 1 --- [           main] o.s.c.f.web.mvc.FunctionHandlerMapping   : FunctionCatalog: org.springframework.cloud.function.context.catalog.BeanFactoryAwareFunctionRegistry@694abbdc
 2025-09-28 14:22:37.626  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
 2025-09-28 14:22:37.634  INFO 1 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.764 seconds (JVM running for 2.3)

STDERR: 



sudo docker logs de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e --details
STDOUT:  /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
 /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
 /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
 /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
 /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
 /docker-entrypoint.sh: Configuration complete; ready for start up

STDERR: 



sudo docker inspect 07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09
[{'Id': '07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09', 'Created': '2025-09-28T14:22:34.831120713Z', 'Path': '/usr/local/bin/mvn-entrypoint.sh', 'Args': ['java', '-jar', 'target/demo-0.0.1-SNAPSHOT.jar'], 'State': {'Status': 'running', 'Running': True, 'Paused': False, 'Restarting': False, 'OOMKilled': False, 'Dead': False, 'Pid': 87738, 'ExitCode': 0, 'Error': '', 'StartedAt': '2025-09-28T14:22:35.082107745Z', 'FinishedAt': '0001-01-01T00:00:00Z'}, 'Image': 'sha256:c55b5952547f368fa4be9e4254106e56a400d4fa8fb095f518d3f2e59400d2ca', 'ResolvConfPath': '/var/lib/docker/containers/07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09/resolv.conf', 'HostnamePath': '/var/lib/docker/containers/07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09/hostname', 'HostsPath': '/var/lib/docker/containers/07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09/hosts', 'LogPath': '/var/lib/docker/containers/07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09/07a8a73824afb6f35a7e5507ba00bd2853ee15813527cd96af3f431564ccfe09-json.log', 'Name': '/openai-app-1', 'RestartCount': 0, 'Driver': 'overlayfs', 'Platform': 'linux', 'MountLabel': '', 'ProcessLabel': '', 'AppArmorProfile': '', 'ExecIDs': None, 'HostConfig': {'Binds': None, 'ContainerIDFile': '', 'LogConfig': {'Type': 'json-file', 'Config': {}}, 'NetworkMode': 'openai_default', 'PortBindings': {'8080/tcp': [{'HostIp': '', 'HostPort': '8080'}]}, 'RestartPolicy': {'Name': 'no', 'MaximumRetryCount': 0}, 'AutoRemove': False, 'VolumeDriver': '', 'VolumesFrom': None, 'ConsoleSize': [0, 0], 'CapAdd': None, 'CapDrop': None, 'CgroupnsMode': 'private', 'Dns': None, 'DnsOptions': None, 'DnsSearch': None, 'ExtraHosts': [], 'GroupAdd': None, 'IpcMode': 'private', 'Cgroup': '', 'Links': None, 'OomScoreAdj': 0, 'PidMode': '', 'Privileged': False, 'PublishAllPorts': False, 'ReadonlyRootfs': False, 'SecurityOpt': None, 'UTSMode': '', 'UsernsMode': '', 'ShmSize': 67108864, 'Runtime': 'runc', 'Isolation': '', 'CpuShares': 0, 'Memory': 0, 'NanoCpus': 0, 'CgroupParent': '', 'BlkioWeight': 0, 'BlkioWeightDevice': None, 'BlkioDeviceReadBps': None, 'BlkioDeviceWriteBps': None, 'BlkioDeviceReadIOps': None, 'BlkioDeviceWriteIOps': None, 'CpuPeriod': 0, 'CpuQuota': 0, 'CpuRealtimePeriod': 0, 'CpuRealtimeRuntime': 0, 'CpusetCpus': '', 'CpusetMems': '', 'Devices': None, 'DeviceCgroupRules': None, 'DeviceRequests': None, 'MemoryReservation': 0, 'MemorySwap': 0, 'MemorySwappiness': None, 'OomKillDisable': None, 'PidsLimit': None, 'Ulimits': None, 'CpuCount': 0, 'CpuPercent': 0, 'IOMaximumIOps': 0, 'IOMaximumBandwidth': 0, 'MaskedPaths': ['/proc/asound', '/proc/acpi', '/proc/interrupts', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/proc/scsi', '/sys/firmware', '/sys/devices/virtual/powercap'], 'ReadonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}, 'GraphDriver': {'Data': None, 'Name': 'overlayfs'}, 'Mounts': [], 'Config': {'Hostname': '07a8a73824af', 'Domainname': '', 'User': '', 'AttachStdin': False, 'AttachStdout': True, 'AttachStderr': True, 'ExposedPorts': {'8080/tcp': {}}, 'Tty': False, 'OpenStdin': False, 'StdinOnce': False, 'Env': ['PATH=/usr/local/openjdk-8/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'JAVA_HOME=/usr/local/openjdk-8', 'LANG=C.UTF-8', 'JAVA_VERSION=8u322', 'MAVEN_HOME=/usr/share/maven', 'MAVEN_CONFIG=/root/.m2'], 'Cmd': ['java', '-jar', 'target/demo-0.0.1-SNAPSHOT.jar'], 'Image': 'openai-app', 'Volumes': None, 'WorkingDir': '/app', 'Entrypoint': ['/usr/local/bin/mvn-entrypoint.sh'], 'OnBuild': None, 'Labels': {'com.docker.compose.config-hash': 'e1d9b7de4542c1fb24ca8fa2f703b303f87b8a76d80727bf215f43a79a576a0a', 'com.docker.compose.container-number': '1', 'com.docker.compose.depends_on': '', 'com.docker.compose.image': 'sha256:c55b5952547f368fa4be9e4254106e56a400d4fa8fb095f518d3f2e59400d2ca', 'com.docker.compose.oneoff': 'False', 'com.docker.compose.project': 'openai', 'com.docker.compose.project.config_files': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22963/openai/docker-compose.yml', 'com.docker.compose.project.working_dir': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22963/openai', 'com.docker.compose.service': 'app', 'com.docker.compose.version': '2.39.4', 'desktop.docker.io/wsl-distro': 'Ubuntu'}}, 'NetworkSettings': {'Bridge': '', 'SandboxID': '253d0d896fa3225d256107e05841d97b3a3a326027c2ecd757ac73f8e9bacd68', 'SandboxKey': '/var/run/docker/netns/253d0d896fa3', 'Ports': {'8080/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '8080'}, {'HostIp': '::', 'HostPort': '8080'}]}, 'HairpinMode': False, 'LinkLocalIPv6Address': '', 'LinkLocalIPv6PrefixLen': 0, 'SecondaryIPAddresses': None, 'SecondaryIPv6Addresses': None, 'EndpointID': '', 'Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'IPAddress': '', 'IPPrefixLen': 0, 'IPv6Gateway': '', 'MacAddress': '', 'Networks': {'openai_default': {'IPAMConfig': None, 'Links': None, 'Aliases': ['openai-app-1', 'app'], 'MacAddress': '4a:8a:3c:b3:ad:1f', 'DriverOpts': None, 'GwPriority': 0, 'NetworkID': 'd8f14559a36c7f3f104c1db5862bfad5853738e223d779b4b173a5edd02d9d06', 'EndpointID': '973b09e36f0fce60d4439982a0ed19414a33375dc10ff56a49860e7945bd00e1', 'Gateway': '172.18.0.1', 'IPAddress': '172.18.0.2', 'IPPrefixLen': 16, 'IPv6Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'DNSNames': ['openai-app-1', 'app', '07a8a73824af']}}}, 'ImageManifestDescriptor': {'mediaType': 'application/vnd.oci.image.manifest.v1+json', 'digest': 'sha256:d433492a4d284cd3ed53a4183ef8ca4cbe5557de14aeabf534e12cd83afe4aea', 'size': 2958, 'platform': {'architecture': 'amd64', 'os': 'linux'}}}]



sudo docker inspect de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e
[{'Id': 'de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e', 'Created': '2025-09-28T14:22:34.916299098Z', 'Path': '/docker-entrypoint.sh', 'Args': ['nginx', '-g', 'daemon off;'], 'State': {'Status': 'running', 'Running': True, 'Paused': False, 'Restarting': False, 'OOMKilled': False, 'Dead': False, 'Pid': 87832, 'ExitCode': 0, 'Error': '', 'StartedAt': '2025-09-28T14:22:35.389286362Z', 'FinishedAt': '0001-01-01T00:00:00Z'}, 'Image': 'sha256:644a70516a26004c97d0d85c7fe1d0c3a67ea8ab7ddf4aff193d9f301670cf36', 'ResolvConfPath': '/var/lib/docker/containers/de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e/resolv.conf', 'HostnamePath': '/var/lib/docker/containers/de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e/hostname', 'HostsPath': '/var/lib/docker/containers/de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e/hosts', 'LogPath': '/var/lib/docker/containers/de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e/de4ae0146441a3352910a8cde456223b27870056f985420d02d4664bf902415e-json.log', 'Name': '/openai-nginx-1', 'RestartCount': 0, 'Driver': 'overlayfs', 'Platform': 'linux', 'MountLabel': '', 'ProcessLabel': '', 'AppArmorProfile': '', 'ExecIDs': None, 'HostConfig': {'Binds': ['/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22963/openai/nginx.conf:/etc/nginx/nginx.conf:rw'], 'ContainerIDFile': '', 'LogConfig': {'Type': 'json-file', 'Config': {}}, 'NetworkMode': 'openai_default', 'PortBindings': {'80/tcp': [{'HostIp': '', 'HostPort': '80'}]}, 'RestartPolicy': {'Name': 'no', 'MaximumRetryCount': 0}, 'AutoRemove': False, 'VolumeDriver': '', 'VolumesFrom': None, 'ConsoleSize': [0, 0], 'CapAdd': None, 'CapDrop': None, 'CgroupnsMode': 'private', 'Dns': None, 'DnsOptions': None, 'DnsSearch': None, 'ExtraHosts': [], 'GroupAdd': None, 'IpcMode': 'private', 'Cgroup': '', 'Links': None, 'OomScoreAdj': 0, 'PidMode': '', 'Privileged': False, 'PublishAllPorts': False, 'ReadonlyRootfs': False, 'SecurityOpt': None, 'UTSMode': '', 'UsernsMode': '', 'ShmSize': 67108864, 'Runtime': 'runc', 'Isolation': '', 'CpuShares': 0, 'Memory': 0, 'NanoCpus': 0, 'CgroupParent': '', 'BlkioWeight': 0, 'BlkioWeightDevice': None, 'BlkioDeviceReadBps': None, 'BlkioDeviceWriteBps': None, 'BlkioDeviceReadIOps': None, 'BlkioDeviceWriteIOps': None, 'CpuPeriod': 0, 'CpuQuota': 0, 'CpuRealtimePeriod': 0, 'CpuRealtimeRuntime': 0, 'CpusetCpus': '', 'CpusetMems': '', 'Devices': None, 'DeviceCgroupRules': None, 'DeviceRequests': None, 'MemoryReservation': 0, 'MemorySwap': 0, 'MemorySwappiness': None, 'OomKillDisable': None, 'PidsLimit': None, 'Ulimits': None, 'CpuCount': 0, 'CpuPercent': 0, 'IOMaximumIOps': 0, 'IOMaximumBandwidth': 0, 'MaskedPaths': ['/proc/asound', '/proc/acpi', '/proc/interrupts', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/proc/scsi', '/sys/firmware', '/sys/devices/virtual/powercap'], 'ReadonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}, 'GraphDriver': {'Data': None, 'Name': 'overlayfs'}, 'Mounts': [{'Type': 'bind', 'Source': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22963/openai/nginx.conf', 'Destination': '/etc/nginx/nginx.conf', 'Mode': 'rw', 'RW': True, 'Propagation': 'rprivate'}], 'Config': {'Hostname': 'de4ae0146441', 'Domainname': '', 'User': '', 'AttachStdin': False, 'AttachStdout': True, 'AttachStderr': True, 'ExposedPorts': {'80/tcp': {}}, 'Tty': False, 'OpenStdin': False, 'StdinOnce': False, 'Env': ['PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'NGINX_VERSION=1.21.3', 'NJS_VERSION=0.6.2', 'PKG_RELEASE=1~buster'], 'Cmd': ['nginx', '-g', 'daemon off;'], 'Image': 'nginx:1.21.3', 'Volumes': None, 'WorkingDir': '', 'Entrypoint': ['/docker-entrypoint.sh'], 'OnBuild': None, 'Labels': {'com.docker.compose.config-hash': 'b10779a53aa10df6849401e92e83714b9e962fef0f136b5328e0bdc36d142404', 'com.docker.compose.container-number': '1', 'com.docker.compose.depends_on': 'app:service_started:false', 'com.docker.compose.image': 'sha256:644a70516a26004c97d0d85c7fe1d0c3a67ea8ab7ddf4aff193d9f301670cf36', 'com.docker.compose.oneoff': 'False', 'com.docker.compose.project': 'openai', 'com.docker.compose.project.config_files': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22963/openai/docker-compose.yml', 'com.docker.compose.project.working_dir': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22963/openai', 'com.docker.compose.service': 'nginx', 'com.docker.compose.version': '2.39.4', 'desktop.docker.io/wsl-distro': 'Ubuntu', 'maintainer': 'NGINX Docker Maintainers <docker-maint@nginx.com>'}, 'StopSignal': 'SIGQUIT'}, 'NetworkSettings': {'Bridge': '', 'SandboxID': '99a4e89452f94c4a62098f1215c941e080658bc747d69609119c5dc102695e8d', 'SandboxKey': '/var/run/docker/netns/99a4e89452f9', 'Ports': {'80/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '80'}, {'HostIp': '::', 'HostPort': '80'}]}, 'HairpinMode': False, 'LinkLocalIPv6Address': '', 'LinkLocalIPv6PrefixLen': 0, 'SecondaryIPAddresses': None, 'SecondaryIPv6Addresses': None, 'EndpointID': '', 'Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'IPAddress': '', 'IPPrefixLen': 0, 'IPv6Gateway': '', 'MacAddress': '', 'Networks': {'openai_default': {'IPAMConfig': None, 'Links': None, 'Aliases': ['openai-nginx-1', 'nginx'], 'MacAddress': '5e:d9:4c:38:62:0c', 'DriverOpts': None, 'GwPriority': 0, 'NetworkID': 'd8f14559a36c7f3f104c1db5862bfad5853738e223d779b4b173a5edd02d9d06', 'EndpointID': '1a4567f2e02acf3522c1f000edd742638fe10ed28473332f69588e203d9229ac', 'Gateway': '172.18.0.1', 'IPAddress': '172.18.0.3', 'IPPrefixLen': 16, 'IPv6Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'DNSNames': ['openai-nginx-1', 'nginx', 'de4ae0146441']}}}, 'ImageManifestDescriptor': {'mediaType': 'application/vnd.docker.distribution.manifest.v2+json', 'digest': 'sha256:7250923ba3543110040462388756ef099331822c6172a050b12c7a38361ea46f', 'size': 1570, 'platform': {'architecture': 'amd64', 'os': 'linux'}}}]

