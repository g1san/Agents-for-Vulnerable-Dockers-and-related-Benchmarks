time="2025-09-30T17:24:45+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-11652/custom/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 695B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 407B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.8-slim
#3 DONE 1.7s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 328B done
#5 DONE 0.0s

#6 [1/4] FROM docker.io/library/python:3.8-slim@sha256:1d52838af602b4b5a831beb13a0e4d073280665ea7be7f69ce2382f29c5a613f
#6 resolve docker.io/library/python:3.8-slim@sha256:1d52838af602b4b5a831beb13a0e4d073280665ea7be7f69ce2382f29c5a613f 0.0s done
#6 sha256:3971691a363796c39467aae4cdce6ef773273fe6bfc67154d01e1b589befb912 0B / 248B 0.2s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 0B / 14.53MB 0.2s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 0B / 29.13MB 0.2s
#6 sha256:030d7bdc20a63e3d22192b292d006a69fa3333949f536d62865d1bd0506685cc 0B / 3.51MB 0.2s
#6 sha256:3971691a363796c39467aae4cdce6ef773273fe6bfc67154d01e1b589befb912 248B / 248B 0.3s done
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 1.05MB / 14.53MB 0.6s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 2.10MB / 14.53MB 0.8s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 3.15MB / 14.53MB 1.1s
#6 sha256:030d7bdc20a63e3d22192b292d006a69fa3333949f536d62865d1bd0506685cc 1.05MB / 3.51MB 0.9s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 4.19MB / 14.53MB 1.2s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 2.10MB / 29.13MB 1.1s
#6 sha256:030d7bdc20a63e3d22192b292d006a69fa3333949f536d62865d1bd0506685cc 2.10MB / 3.51MB 1.1s
#6 sha256:030d7bdc20a63e3d22192b292d006a69fa3333949f536d62865d1bd0506685cc 3.51MB / 3.51MB 1.3s done
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 5.24MB / 14.53MB 1.5s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 7.34MB / 14.53MB 1.7s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 4.19MB / 29.13MB 1.5s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 8.39MB / 14.53MB 1.8s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 9.44MB / 14.53MB 2.0s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 6.29MB / 29.13MB 1.8s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 10.49MB / 14.53MB 2.1s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 11.53MB / 14.53MB 2.3s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 12.58MB / 14.53MB 2.4s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 8.39MB / 29.13MB 2.3s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 14.53MB / 14.53MB 2.6s
#6 sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 14.53MB / 14.53MB 2.6s done
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 11.53MB / 29.13MB 2.7s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 13.63MB / 29.13MB 3.0s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 15.73MB / 29.13MB 3.3s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 17.83MB / 29.13MB 3.8s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 19.92MB / 29.13MB 4.2s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 22.02MB / 29.13MB 6.5s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 24.12MB / 29.13MB 6.8s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 26.21MB / 29.13MB 7.3s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 28.31MB / 29.13MB 7.6s
#6 sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 29.13MB / 29.13MB 7.7s done
#6 extracting sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab
#6 extracting sha256:302e3ee498053a7b5332ac79e8efebec16e900289fc1ecd1c754ce8fa047fcab 0.8s done
#6 DONE 8.6s

#6 [1/4] FROM docker.io/library/python:3.8-slim@sha256:1d52838af602b4b5a831beb13a0e4d073280665ea7be7f69ce2382f29c5a613f
#6 extracting sha256:030d7bdc20a63e3d22192b292d006a69fa3333949f536d62865d1bd0506685cc 0.1s done
#6 DONE 8.8s

#6 [1/4] FROM docker.io/library/python:3.8-slim@sha256:1d52838af602b4b5a831beb13a0e4d073280665ea7be7f69ce2382f29c5a613f
#6 extracting sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d
#6 extracting sha256:a3f1dfe736c5f959143f23d75ab522a60be2da902efac236f4fb2a153cc14a5d 0.6s done
#6 DONE 9.4s

#6 [1/4] FROM docker.io/library/python:3.8-slim@sha256:1d52838af602b4b5a831beb13a0e4d073280665ea7be7f69ce2382f29c5a613f
#6 extracting sha256:3971691a363796c39467aae4cdce6ef773273fe6bfc67154d01e1b589befb912 0.0s done
#6 DONE 9.4s

#7 [2/4] RUN apt-get update     && apt-get install -y --no-install-recommends        git     && rm -rf /var/lib/apt/lists/*
#7 0.292 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#7 0.335 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#7 0.352 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#7 0.391 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8791 kB]
#7 1.041 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [6924 B]
#7 1.041 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [280 kB]
#7 1.765 Fetched 9333 kB in 2s (6103 kB/s)
#7 1.765 Reading package lists...
#7 2.159 Reading package lists...
#7 2.540 Building dependency tree...
#7 2.644 Reading state information...
#7 2.764 The following additional packages will be installed:
#7 2.764   git-man libbrotli1 libcurl3-gnutls liberror-perl libgdbm-compat4
#7 2.764   libldap-2.5-0 libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2
#7 2.765   libsasl2-modules-db libssh2-1 perl perl-base perl-modules-5.36
#7 2.768 Suggested packages:
#7 2.768   gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui
#7 2.768   gitk gitweb git-cvs git-mediawiki git-svn sensible-utils perl-doc
#7 2.768   libterm-readline-gnu-perl | libterm-readline-perl-perl make
#7 2.768   libtap-harness-archive-perl
#7 2.768 Recommended packages:
#7 2.768   patch less ssh-client libldap-common publicsuffix libsasl2-modules
#7 2.863 The following NEW packages will be installed:
#7 2.863   git git-man libbrotli1 libcurl3-gnutls liberror-perl libgdbm-compat4
#7 2.864   libldap-2.5-0 libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2
#7 2.864   libsasl2-modules-db libssh2-1 perl perl-modules-5.36
#7 2.867 The following packages will be upgraded:
#7 2.867   perl-base
#7 2.917 1 upgraded, 16 newly installed, 0 to remove and 41 not upgraded.
#7 2.917 Need to get 19.5 MB of archives.
#7 2.917 After this operation, 100 MB of additional disk space will be used.
#7 2.917 Get:1 http://deb.debian.org/debian bookworm/main amd64 perl-base amd64 5.36.0-7+deb12u3 [1608 kB]
#7 3.069 Get:2 http://deb.debian.org/debian bookworm/main amd64 perl-modules-5.36 all 5.36.0-7+deb12u3 [2815 kB]
#7 3.250 Get:3 http://deb.debian.org/debian bookworm/main amd64 libgdbm-compat4 amd64 1.23-3 [48.2 kB]
#7 3.254 Get:4 http://deb.debian.org/debian bookworm/main amd64 libperl5.36 amd64 5.36.0-7+deb12u3 [4196 kB]
#7 3.529 Get:5 http://deb.debian.org/debian bookworm/main amd64 perl amd64 5.36.0-7+deb12u3 [239 kB]
#7 3.546 Get:6 http://deb.debian.org/debian bookworm/main amd64 libbrotli1 amd64 1.0.9-2+b6 [275 kB]
#7 3.564 Get:7 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg-10 [20.3 kB]
#7 3.565 Get:8 http://deb.debian.org/debian bookworm/main amd64 libsasl2-2 amd64 2.1.28+dfsg-10 [59.7 kB]
#7 3.571 Get:9 http://deb.debian.org/debian bookworm/main amd64 libldap-2.5-0 amd64 2.5.13+dfsg-5 [183 kB]
#7 3.583 Get:10 http://deb.debian.org/debian bookworm/main amd64 libnghttp2-14 amd64 1.52.0-1+deb12u2 [73.0 kB]
#7 3.596 Get:11 http://deb.debian.org/debian bookworm/main amd64 libpsl5 amd64 0.21.2-1 [58.7 kB]
#7 3.598 Get:12 http://deb.debian.org/debian bookworm/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]
#7 3.601 Get:13 http://deb.debian.org/debian bookworm/main amd64 libssh2-1 amd64 1.10.0-3+b1 [179 kB]
#7 3.609 Get:14 http://deb.debian.org/debian bookworm/main amd64 libcurl3-gnutls amd64 7.88.1-10+deb12u14 [386 kB]
#7 3.633 Get:15 http://deb.debian.org/debian bookworm/main amd64 liberror-perl all 0.17029-2 [29.0 kB]
#7 3.636 Get:16 http://deb.debian.org/debian bookworm/main amd64 git-man all 1:2.39.5-0+deb12u2 [2053 kB]
#7 3.774 Get:17 http://deb.debian.org/debian bookworm/main amd64 git amd64 1:2.39.5-0+deb12u2 [7260 kB]
#7 4.358 debconf: delaying package configuration, since apt-utils is not installed
#7 4.380 Fetched 19.5 MB in 1s (14.1 MB/s)
#7 4.402 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 6695 files and directories currently installed.)
#7 4.409 Preparing to unpack .../perl-base_5.36.0-7+deb12u3_amd64.deb ...
#7 4.428 Unpacking perl-base (5.36.0-7+deb12u3) over (5.36.0-7+deb12u1) ...
#7 5.699 Setting up perl-base (5.36.0-7+deb12u3) ...
#7 5.735 Selecting previously unselected package perl-modules-5.36.
#7 5.735 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 6696 files and directories currently installed.)
#7 5.741 Preparing to unpack .../00-perl-modules-5.36_5.36.0-7+deb12u3_all.deb ...
#7 5.744 Unpacking perl-modules-5.36 (5.36.0-7+deb12u3) ...
#7 6.009 Selecting previously unselected package libgdbm-compat4:amd64.
#7 6.011 Preparing to unpack .../01-libgdbm-compat4_1.23-3_amd64.deb ...
#7 6.017 Unpacking libgdbm-compat4:amd64 (1.23-3) ...
#7 6.048 Selecting previously unselected package libperl5.36:amd64.
#7 6.049 Preparing to unpack .../02-libperl5.36_5.36.0-7+deb12u3_amd64.deb ...
#7 6.053 Unpacking libperl5.36:amd64 (5.36.0-7+deb12u3) ...
#7 6.336 Selecting previously unselected package perl.
#7 6.338 Preparing to unpack .../03-perl_5.36.0-7+deb12u3_amd64.deb ...
#7 6.345 Unpacking perl (5.36.0-7+deb12u3) ...
#7 6.387 Selecting previously unselected package libbrotli1:amd64.
#7 6.388 Preparing to unpack .../04-libbrotli1_1.0.9-2+b6_amd64.deb ...
#7 6.391 Unpacking libbrotli1:amd64 (1.0.9-2+b6) ...
#7 6.433 Selecting previously unselected package libsasl2-modules-db:amd64.
#7 6.434 Preparing to unpack .../05-libsasl2-modules-db_2.1.28+dfsg-10_amd64.deb ...
#7 6.438 Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#7 6.466 Selecting previously unselected package libsasl2-2:amd64.
#7 6.467 Preparing to unpack .../06-libsasl2-2_2.1.28+dfsg-10_amd64.deb ...
#7 6.470 Unpacking libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#7 6.503 Selecting previously unselected package libldap-2.5-0:amd64.
#7 6.504 Preparing to unpack .../07-libldap-2.5-0_2.5.13+dfsg-5_amd64.deb ...
#7 6.508 Unpacking libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#7 6.548 Selecting previously unselected package libnghttp2-14:amd64.
#7 6.549 Preparing to unpack .../08-libnghttp2-14_1.52.0-1+deb12u2_amd64.deb ...
#7 6.553 Unpacking libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#7 6.586 Selecting previously unselected package libpsl5:amd64.
#7 6.587 Preparing to unpack .../09-libpsl5_0.21.2-1_amd64.deb ...
#7 6.590 Unpacking libpsl5:amd64 (0.21.2-1) ...
#7 6.622 Selecting previously unselected package librtmp1:amd64.
#7 6.623 Preparing to unpack .../10-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...
#7 6.627 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#7 6.659 Selecting previously unselected package libssh2-1:amd64.
#7 6.660 Preparing to unpack .../11-libssh2-1_1.10.0-3+b1_amd64.deb ...
#7 6.664 Unpacking libssh2-1:amd64 (1.10.0-3+b1) ...
#7 6.703 Selecting previously unselected package libcurl3-gnutls:amd64.
#7 6.704 Preparing to unpack .../12-libcurl3-gnutls_7.88.1-10+deb12u14_amd64.deb ...
#7 6.708 Unpacking libcurl3-gnutls:amd64 (7.88.1-10+deb12u14) ...
#7 6.751 Selecting previously unselected package liberror-perl.
#7 6.752 Preparing to unpack .../13-liberror-perl_0.17029-2_all.deb ...
#7 6.756 Unpacking liberror-perl (0.17029-2) ...
#7 6.783 Selecting previously unselected package git-man.
#7 6.784 Preparing to unpack .../14-git-man_1%3a2.39.5-0+deb12u2_all.deb ...
#7 6.787 Unpacking git-man (1:2.39.5-0+deb12u2) ...
#7 6.873 Selecting previously unselected package git.
#7 6.874 Preparing to unpack .../15-git_1%3a2.39.5-0+deb12u2_amd64.deb ...
#7 6.882 Unpacking git (1:2.39.5-0+deb12u2) ...
#7 7.181 Setting up libpsl5:amd64 (0.21.2-1) ...
#7 7.190 Setting up libbrotli1:amd64 (1.0.9-2+b6) ...
#7 7.199 Setting up libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#7 7.209 Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#7 7.219 Setting up perl-modules-5.36 (5.36.0-7+deb12u3) ...
#7 7.228 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#7 7.237 Setting up libgdbm-compat4:amd64 (1.23-3) ...
#7 7.248 Setting up libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#7 7.259 Setting up git-man (1:2.39.5-0+deb12u2) ...
#7 7.268 Setting up libssh2-1:amd64 (1.10.0-3+b1) ...
#7 7.278 Setting up libperl5.36:amd64 (5.36.0-7+deb12u3) ...
#7 7.288 Setting up libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#7 7.298 Setting up perl (5.36.0-7+deb12u3) ...
#7 7.317 Setting up libcurl3-gnutls:amd64 (7.88.1-10+deb12u14) ...
#7 7.326 Setting up liberror-perl (0.17029-2) ...
#7 7.337 Setting up git (1:2.39.5-0+deb12u2) ...
#7 7.353 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#7 DONE 7.5s

#8 [3/4] RUN pip install salt==3000.1
#8 1.543 Collecting salt==3000.1
#8 1.926   Downloading salt-3000.1.tar.gz (15.2 MB)
#8 3.900      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 15.2/15.2 MB 7.6 MB/s eta 0:00:00
#8 5.198   Preparing metadata (setup.py): started
#8 5.533   Preparing metadata (setup.py): finished with status 'error'
#8 5.539   error: subprocess-exited-with-error
#8 5.539   
#8 5.539   × python setup.py egg_info did not run successfully.
#8 5.539   │ exit code: 1
#8 5.539   ╰─> [15 lines of output]
#8 5.539       Traceback (most recent call last):
#8 5.539         File "/tmp/pip-install-icfycp9e/salt_252d24c0d94f4d41bbf8d00eef91bf09/salt/version.py", line 15, in <module>
#8 5.539           from platform import linux_distribution as _deprecated_linux_distribution
#8 5.539       ImportError: cannot import name 'linux_distribution' from 'platform' (/usr/local/lib/python3.8/platform.py)
#8 5.539       
#8 5.539       During handling of the above exception, another exception occurred:
#8 5.539       
#8 5.539       Traceback (most recent call last):
#8 5.539         File "<string>", line 2, in <module>
#8 5.539         File "<pip-setuptools-caller>", line 34, in <module>
#8 5.539         File "/tmp/pip-install-icfycp9e/salt_252d24c0d94f4d41bbf8d00eef91bf09/setup.py", line 126, in <module>
#8 5.539           exec(compile(open(SALT_VERSION).read(), SALT_VERSION, 'exec'))
#8 5.539         File "/tmp/pip-install-icfycp9e/salt_252d24c0d94f4d41bbf8d00eef91bf09/salt/version.py", line 22, in <module>
#8 5.539           from distro import linux_distribution
#8 5.539       ModuleNotFoundError: No module named 'distro'
#8 5.539       [end of output]
#8 5.539   
#8 5.539   note: This error originates from a subprocess, and is likely not a problem with pip.
#8 5.542 error: metadata-generation-failed
#8 5.542 
#8 5.542 × Encountered error while generating package metadata.
#8 5.542 ╰─> See above for output.
#8 5.542 
#8 5.542 note: This is an issue with the package mentioned above, not pip.
#8 5.542 hint: See above for details.
#8 5.713 
#8 5.713 [notice] A new release of pip is available: 23.0.1 -> 25.0.1
#8 5.713 [notice] To update, run: pip install --upgrade pip
#8 ERROR: process "/bin/sh -c pip install salt==3000.1" did not complete successfully: exit code: 1
------
 > [3/4] RUN pip install salt==3000.1:
5.542 error: metadata-generation-failed
5.542 
5.542 × Encountered error while generating package metadata.
5.542 ╰─> See above for output.
5.542 
5.542 note: This is an issue with the package mentioned above, not pip.
5.542 hint: See above for details.
5.713 
5.713 [notice] A new release of pip is available: 23.0.1 -> 25.0.1
5.713 [notice] To update, run: pip install --upgrade pip
------
Dockerfile:9

--------------------

   7 |     

   8 |     # Install SaltStack version vulnerable to CVE-2020-11652

   9 | >>> RUN pip install salt==3000.1

  10 |     

  11 |     # Copy the configuration file

--------------------

failed to solve: process "/bin/sh -c pip install salt==3000.1" did not complete successfully: exit code: 1

