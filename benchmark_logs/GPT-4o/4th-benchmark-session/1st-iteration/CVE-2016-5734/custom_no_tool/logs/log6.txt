#1 [internal] load local bake definitions
#1 reading from stdin 743B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 644B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/php:7.4-apache
#3 DONE 0.2s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/5] FROM docker.io/library/php:7.4-apache@sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d
#5 resolve docker.io/library/php:7.4-apache@sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d 0.0s done
#5 CACHED

#6 [internal] load build context
#6 transferring context: 414B done
#6 DONE 0.0s

#7 [2/5] RUN apt-get update     && apt-get install -y libpng-dev libjpeg-dev libfreetype6-dev zip unzip     && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/     && docker-php-ext-install gd mysqli
#7 0.564 Get:1 http://deb.debian.org/debian bullseye InRelease [75.1 kB]
#7 0.611 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
#7 0.635 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.0 kB]
#7 0.784 Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
#7 1.211 Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [406 kB]
#7 1.227 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#7 2.217 Fetched 8637 kB in 2s (5062 kB/s)
#7 2.217 Reading package lists...
#7 2.686 Reading package lists...
#7 3.529 Building dependency tree...
#7 3.712 Reading state information...
#7 3.845 The following additional packages will be installed:
#7 3.845   libbrotli-dev libfreetype-dev libfreetype6 libjpeg62-turbo
#7 3.847   libjpeg62-turbo-dev libpng-tools libpng16-16 zlib1g-dev
#7 3.849 Suggested packages:
#7 3.849   freetype2-doc
#7 3.910 The following NEW packages will be installed:
#7 3.910   libbrotli-dev libfreetype-dev libfreetype6 libfreetype6-dev libjpeg-dev
#7 3.912   libjpeg62-turbo libjpeg62-turbo-dev libpng-dev libpng-tools libpng16-16
#7 3.912   unzip zip zlib1g-dev
#7 3.960 0 upgraded, 13 newly installed, 0 to remove and 73 not upgraded.
#7 3.960 Need to get 3186 kB of archives.
#7 3.960 After this operation, 8820 kB of additional disk space will be used.
#7 3.960 Get:1 http://deb.debian.org/debian bullseye/main amd64 libbrotli-dev amd64 1.0.9-2+b2 [288 kB]
#7 4.014 Get:2 http://deb.debian.org/debian bullseye/main amd64 libpng16-16 amd64 1.6.37-3 [294 kB]
#7 4.033 Get:3 http://deb.debian.org/debian-security bullseye-security/main amd64 libfreetype6 amd64 2.10.4+dfsg-1+deb11u2 [418 kB]
#7 4.048 Get:4 http://deb.debian.org/debian bullseye/main amd64 zlib1g-dev amd64 1:1.2.11.dfsg-2+deb11u2 [191 kB]
#7 4.075 Get:5 http://deb.debian.org/debian bullseye/main amd64 libpng-dev amd64 1.6.37-3 [298 kB]
#7 4.106 Get:6 http://deb.debian.org/debian-security bullseye-security/main amd64 libfreetype-dev amd64 2.10.4+dfsg-1+deb11u2 [571 kB]
#7 4.160 Get:7 http://deb.debian.org/debian-security bullseye-security/main amd64 libfreetype6-dev amd64 2.10.4+dfsg-1+deb11u2 [82.7 kB]
#7 4.166 Get:8 http://deb.debian.org/debian bullseye/main amd64 libjpeg62-turbo amd64 1:2.0.6-4 [151 kB]
#7 4.173 Get:9 http://deb.debian.org/debian bullseye/main amd64 libjpeg62-turbo-dev amd64 1:2.0.6-4 [278 kB]
#7 4.184 Get:10 http://deb.debian.org/debian bullseye/main amd64 libjpeg-dev amd64 1:2.0.6-4 [67.8 kB]
#7 4.187 Get:11 http://deb.debian.org/debian bullseye/main amd64 libpng-tools amd64 1.6.37-3 [141 kB]
#7 4.190 Get:12 http://deb.debian.org/debian bullseye/main amd64 unzip amd64 6.0-26+deb11u1 [172 kB]
#7 4.198 Get:13 http://deb.debian.org/debian bullseye/main amd64 zip amd64 3.0-12 [232 kB]
#7 4.488 debconf: delaying package configuration, since apt-utils is not installed
#7 4.540 Fetched 3186 kB in 0s (11.3 MB/s)
#7 4.578 Selecting previously unselected package libbrotli-dev:amd64.
#7 4.578 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 14119 files and directories currently installed.)
#7 4.662 Preparing to unpack .../00-libbrotli-dev_1.0.9-2+b2_amd64.deb ...
#7 4.667 Unpacking libbrotli-dev:amd64 (1.0.9-2+b2) ...
#7 4.748 Selecting previously unselected package libpng16-16:amd64.
#7 4.751 Preparing to unpack .../01-libpng16-16_1.6.37-3_amd64.deb ...
#7 4.762 Unpacking libpng16-16:amd64 (1.6.37-3) ...
#7 4.825 Selecting previously unselected package libfreetype6:amd64.
#7 4.827 Preparing to unpack .../02-libfreetype6_2.10.4+dfsg-1+deb11u2_amd64.deb ...
#7 4.832 Unpacking libfreetype6:amd64 (2.10.4+dfsg-1+deb11u2) ...
#7 4.908 Selecting previously unselected package zlib1g-dev:amd64.
#7 4.910 Preparing to unpack .../03-zlib1g-dev_1%3a1.2.11.dfsg-2+deb11u2_amd64.deb ...
#7 4.915 Unpacking zlib1g-dev:amd64 (1:1.2.11.dfsg-2+deb11u2) ...
#7 4.965 Selecting previously unselected package libpng-dev:amd64.
#7 4.968 Preparing to unpack .../04-libpng-dev_1.6.37-3_amd64.deb ...
#7 4.973 Unpacking libpng-dev:amd64 (1.6.37-3) ...
#7 5.025 Selecting previously unselected package libfreetype-dev:amd64.
#7 5.026 Preparing to unpack .../05-libfreetype-dev_2.10.4+dfsg-1+deb11u2_amd64.deb ...
#7 5.030 Unpacking libfreetype-dev:amd64 (2.10.4+dfsg-1+deb11u2) ...
#7 5.099 Selecting previously unselected package libfreetype6-dev:amd64.
#7 5.100 Preparing to unpack .../06-libfreetype6-dev_2.10.4+dfsg-1+deb11u2_amd64.deb ...
#7 5.109 Unpacking libfreetype6-dev:amd64 (2.10.4+dfsg-1+deb11u2) ...
#7 5.142 Selecting previously unselected package libjpeg62-turbo:amd64.
#7 5.143 Preparing to unpack .../07-libjpeg62-turbo_1%3a2.0.6-4_amd64.deb ...
#7 5.147 Unpacking libjpeg62-turbo:amd64 (1:2.0.6-4) ...
#7 5.181 Selecting previously unselected package libjpeg62-turbo-dev:amd64.
#7 5.183 Preparing to unpack .../08-libjpeg62-turbo-dev_1%3a2.0.6-4_amd64.deb ...
#7 5.186 Unpacking libjpeg62-turbo-dev:amd64 (1:2.0.6-4) ...
#7 5.229 Selecting previously unselected package libjpeg-dev:amd64.
#7 5.230 Preparing to unpack .../09-libjpeg-dev_1%3a2.0.6-4_amd64.deb ...
#7 5.234 Unpacking libjpeg-dev:amd64 (1:2.0.6-4) ...
#7 5.295 Selecting previously unselected package libpng-tools.
#7 5.298 Preparing to unpack .../10-libpng-tools_1.6.37-3_amd64.deb ...
#7 5.307 Unpacking libpng-tools (1.6.37-3) ...
#7 5.364 Selecting previously unselected package unzip.
#7 5.366 Preparing to unpack .../11-unzip_6.0-26+deb11u1_amd64.deb ...
#7 5.459 Unpacking unzip (6.0-26+deb11u1) ...
#7 5.550 Selecting previously unselected package zip.
#7 5.552 Preparing to unpack .../12-zip_3.0-12_amd64.deb ...
#7 5.557 Unpacking zip (3.0-12) ...
#7 5.631 Setting up unzip (6.0-26+deb11u1) ...
#7 5.670 Setting up zip (3.0-12) ...
#7 5.687 Setting up libjpeg62-turbo:amd64 (1:2.0.6-4) ...
#7 5.700 Setting up libjpeg62-turbo-dev:amd64 (1:2.0.6-4) ...
#7 5.720 Setting up libpng16-16:amd64 (1.6.37-3) ...
#7 5.739 Setting up zlib1g-dev:amd64 (1:1.2.11.dfsg-2+deb11u2) ...
#7 5.751 Setting up libbrotli-dev:amd64 (1.0.9-2+b2) ...
#7 5.762 Setting up libpng-tools (1.6.37-3) ...
#7 5.774 Setting up libpng-dev:amd64 (1.6.37-3) ...
#7 5.786 Setting up libjpeg-dev:amd64 (1:2.0.6-4) ...
#7 5.797 Setting up libfreetype6:amd64 (2.10.4+dfsg-1+deb11u2) ...
#7 5.814 Setting up libfreetype-dev:amd64 (2.10.4+dfsg-1+deb11u2) ...
#7 5.826 Setting up libfreetype6-dev:amd64 (2.10.4+dfsg-1+deb11u2) ...
#7 5.842 Processing triggers for libc-bin (2.31-13+deb11u5) ...
#7 5.968 Processing triggers for mailcap (3.69) ...
#7 7.623 Configuring for:
#7 7.623 PHP Api Version:         20190902
#7 7.623 Zend Module Api No:      20190902
#7 7.623 Zend Extension Api No:   320190902
#7 8.203 configure: error: unrecognized options: --with-freetype-dir, --with-jpeg-dir
#7 ERROR: process "/bin/sh -c apt-get update     && apt-get install -y libpng-dev libjpeg-dev libfreetype6-dev zip unzip     && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/     && docker-php-ext-install gd mysqli" did not complete successfully: exit code: 1
------
 > [2/5] RUN apt-get update     && apt-get install -y libpng-dev libjpeg-dev libfreetype6-dev zip unzip     && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/     && docker-php-ext-install gd mysqli:
5.797 Setting up libfreetype6:amd64 (2.10.4+dfsg-1+deb11u2) ...
5.814 Setting up libfreetype-dev:amd64 (2.10.4+dfsg-1+deb11u2) ...
5.826 Setting up libfreetype6-dev:amd64 (2.10.4+dfsg-1+deb11u2) ...
5.842 Processing triggers for libc-bin (2.31-13+deb11u5) ...
5.968 Processing triggers for mailcap (3.69) ...
7.623 Configuring for:
7.623 PHP Api Version:         20190902
7.623 Zend Module Api No:      20190902
7.623 Zend Extension Api No:   320190902
8.203 configure: error: unrecognized options: --with-freetype-dir, --with-jpeg-dir
------
Dockerfile:3

--------------------

   2 |     

   3 | >>> RUN apt-get update \

   4 | >>>     && apt-get install -y libpng-dev libjpeg-dev libfreetype6-dev zip unzip \

   5 | >>>     && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ \

   6 | >>>     && docker-php-ext-install gd mysqli

   7 |     

--------------------

failed to solve: process "/bin/sh -c apt-get update     && apt-get install -y libpng-dev libjpeg-dev libfreetype6-dev zip unzip     && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/     && docker-php-ext-install gd mysqli" did not complete successfully: exit code: 1

