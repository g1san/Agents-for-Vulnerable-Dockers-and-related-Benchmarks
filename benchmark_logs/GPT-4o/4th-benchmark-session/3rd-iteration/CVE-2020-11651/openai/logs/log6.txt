time="2025-09-28T14:47:32+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-11651/openai/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.35kB done
#1 DONE 0.0s

#2 [salt-master internal] load build definition from Dockerfile
#2 transferring dockerfile: 269B done
#2 DONE 0.0s

#3 [salt-minion internal] load build definition from Dockerfile
#3 transferring dockerfile: 269B done
#3 DONE 0.0s

#4 [salt-minion internal] load metadata for docker.io/library/python:3.7-slim
#4 DONE 0.5s

#5 [salt-master internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [salt-minion internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [salt-master internal] load build context
#7 transferring context: 93B done
#7 DONE 0.0s

#8 [salt-minion internal] load build context
#8 transferring context: 69B done
#8 DONE 0.0s

#9 [salt-minion 1/4] FROM docker.io/library/python:3.7-slim@sha256:b53f496ca43e5af6994f8e316cf03af31050bf7944e0e4a308ad86c001cf028b
#9 resolve docker.io/library/python:3.7-slim@sha256:b53f496ca43e5af6994f8e316cf03af31050bf7944e0e4a308ad86c001cf028b 0.0s done
#9 DONE 0.0s

#10 [salt-minion 2/4] RUN apt-get update && apt-get install -y build-essential
#10 CACHED

#11 [salt-master 3/4] RUN pip install salt==3000.1 jinja2==2.11.3
#11 1.526 Collecting salt==3000.1
#11 1.613   Downloading salt-3000.1.tar.gz (15.2 MB)
#11 4.032      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 15.2/15.2 MB 6.2 MB/s eta 0:00:00
#11 5.643   Preparing metadata (setup.py): started
#11 6.238   Preparing metadata (setup.py): finished with status 'done'
#11 6.302 Collecting jinja2==2.11.3
#11 6.321   Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)
#11 6.347      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.7/125.7 kB 5.2 MB/s eta 0:00:00
#11 6.543 Collecting msgpack!=0.5.5,<1.0.0,>=0.5
#11 6.562   Downloading msgpack-0.6.2-cp37-cp37m-manylinux1_x86_64.whl (243 kB)
#11 6.607      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 243.4/243.4 kB 5.6 MB/s eta 0:00:00
#11 6.730 Collecting PyYAML
#11 6.749   Downloading PyYAML-6.0.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (670 kB)
#11 6.857      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 670.1/670.1 kB 6.3 MB/s eta 0:00:00
#11 7.018 Collecting MarkupSafe
#11 7.035   Downloading MarkupSafe-2.1.5-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
#11 7.115 Collecting requests>=1.0.0
#11 7.132   Downloading requests-2.31.0-py3-none-any.whl (62 kB)
#11 7.146      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.6/62.6 kB 5.6 MB/s eta 0:00:00
#11 7.174 Collecting pycrypto>=2.6.1
#11 7.192   Downloading pycrypto-2.6.1.tar.gz (446 kB)
#11 7.266      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 446.2/446.2 kB 6.1 MB/s eta 0:00:00
#11 7.324   Preparing metadata (setup.py): started
#11 7.488   Preparing metadata (setup.py): finished with status 'done'
#11 8.206 Collecting pyzmq>=2.2.0
#11 8.224   Downloading pyzmq-26.2.1-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (863 kB)
#11 8.365      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 864.0/864.0 kB 6.2 MB/s eta 0:00:00
#11 8.447 Collecting certifi>=2017.4.17
#11 8.494   Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
#11 8.575      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 161.2/161.2 kB 1.9 MB/s eta 0:00:00
#11 8.624 Collecting idna<4,>=2.5
#11 8.650   Downloading idna-3.10-py3-none-any.whl (70 kB)
#11 8.686      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 70.4/70.4 kB 2.0 MB/s eta 0:00:00
#11 8.787 Collecting urllib3<3,>=1.21.1
#11 8.815   Downloading urllib3-2.0.7-py3-none-any.whl (124 kB)
#11 8.862      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 124.2/124.2 kB 2.8 MB/s eta 0:00:00
#11 9.122 Collecting charset-normalizer<4,>=2
#11 9.153   Downloading charset_normalizer-3.4.3-py3-none-any.whl (53 kB)
#11 9.179      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.2/53.2 kB 2.3 MB/s eta 0:00:00
#11 9.208 Building wheels for collected packages: salt, pycrypto
#11 9.211   Building wheel for salt (setup.py): started
#11 11.64   Building wheel for salt (setup.py): finished with status 'done'
#11 11.66   Created wheel for salt: filename=salt-3000.1-py3-none-any.whl size=9352605 sha256=0d2d752c3ee688e5b6f627b010615b7781e0a740b5fb1edaa921f4c5349127d1
#11 11.66   Stored in directory: /root/.cache/pip/wheels/54/99/03/34d1db85b3d689f3479ed0ee17e1f889d874b5ebe881c15025
#11 11.68   Building wheel for pycrypto (setup.py): started
#11 22.24   Building wheel for pycrypto (setup.py): finished with status 'done'
#11 22.24   Created wheel for pycrypto: filename=pycrypto-2.6.1-cp37-cp37m-linux_x86_64.whl size=491778 sha256=134d2884e2d9851b29c184218acefcb6b5a6633b3722179fc4ef4bb63b246c84
#11 22.24   Stored in directory: /root/.cache/pip/wheels/cf/85/ba/bbd7c96add459de7598fb424e5ff2309baf2095c844ac0f191
#11 22.24 Successfully built salt pycrypto
#11 22.32 Installing collected packages: pycrypto, msgpack, urllib3, pyzmq, PyYAML, MarkupSafe, idna, charset-normalizer, certifi, requests, jinja2, salt
#11 25.63 Successfully installed MarkupSafe-2.1.5 PyYAML-6.0.1 certifi-2025.8.3 charset-normalizer-3.4.3 idna-3.10 jinja2-2.11.3 msgpack-0.6.2 pycrypto-2.6.1 pyzmq-26.2.1 requests-2.31.0 salt-3000.1 urllib3-2.0.7
#11 25.63 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#11 25.79 
#11 25.79 [notice] A new release of pip is available: 23.0.1 -> 24.0
#11 25.79 [notice] To update, run: pip install --upgrade pip
#11 DONE 26.3s

#12 [salt-master 4/4] COPY master.conf /etc/salt/master
#12 DONE 0.1s

#13 [salt-minion 4/4] COPY minion.conf /etc/salt/minion
#13 DONE 0.1s

#14 [salt-minion] exporting to image
#14 exporting layers
#14 exporting layers 3.7s done
#14 exporting manifest sha256:ecf12f74456297edf8d78e968e2033f99f31557c1adb0f2ddf06733c5e189844 0.0s done
#14 exporting config sha256:9b4127d1db63e9d6e4a2dd80f7bee2994e5d61c7279fe7c0a68310d0157408e7 0.0s done
#14 exporting attestation manifest sha256:d4a4db43121d1003d36d915dc411098f60a1bbc11ea2a268e17465cc2aa680c8 0.0s done
#14 exporting manifest list sha256:6ac539eceff14032f9c6ac759eb753833f954c5ab347ee7951d3a1d04cb8e86b
#14 exporting manifest list sha256:6ac539eceff14032f9c6ac759eb753833f954c5ab347ee7951d3a1d04cb8e86b 0.0s done
#14 naming to docker.io/library/openai-salt-minion:latest done
#14 unpacking to docker.io/library/openai-salt-minion:latest
#14 unpacking to docker.io/library/openai-salt-minion:latest 1.3s done
#14 DONE 5.2s

#15 [salt-master] exporting to image
#15 exporting layers 3.7s done
#15 exporting manifest sha256:9bb1d5dfb18b96b5c86f04189479a0b4abd4b74dcf044897cdad17e3451a34c7 0.0s done
#15 exporting config sha256:9a138233823a5b0406d7c9fc93eb10a33c2294f37a681e9682816a817c660c72 0.0s done
#15 exporting attestation manifest sha256:d605a1b8a08ebf27519e9fb2a9f49a34841b55c0a06cf15b4d6f746a3ca9ed5b 0.0s done
#15 exporting manifest list sha256:ae8e3f4f5d0a6070f106477bda8f9f9d14843208dc7e7a0ffd778d5700633009 0.0s done
#15 naming to docker.io/library/openai-salt-master:latest done
#15 unpacking to docker.io/library/openai-salt-master:latest 1.3s done
#15 DONE 5.2s

#16 [salt-master] resolving provenance for metadata file
#16 DONE 0.0s

#17 [salt-minion] resolving provenance for metadata file
#17 DONE 0.0s
 openai-salt-master  Built
 openai-salt-minion  Built
 Network openai_default  Creating
 Network openai_default  Created
 Volume openai_salt-minion-config  Creating
 Volume openai_salt-minion-config  Created
 Volume openai_salt-master-config  Creating
 Volume openai_salt-master-config  Created
 Container openai-salt-master-1  Creating
 Container openai-redis-1  Creating
 Container openai-salt-master-1  Created
 Container openai-salt-minion-1  Creating
 Container openai-redis-1  Created
 Container openai-salt-minion-1  Created
 Container openai-salt-master-1  Starting
 Container openai-redis-1  Starting
 Container openai-redis-1  Started
 Container openai-salt-master-1  Started
 Container openai-salt-minion-1  Starting
 Container openai-salt-minion-1  Started


sudo docker logs 228207a29bb4cd0c00e5186af7ca225a8f44edbdb43eefb370459e7039e30846 --details
STDOUT:  1:C 28 Sep 2025 12:48:05.966 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
 1:C 28 Sep 2025 12:48:05.966 # Redis version=5.0.14, bits=64, commit=00000000, modified=0, pid=1, just started
 1:C 28 Sep 2025 12:48:05.966 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
 1:M 28 Sep 2025 12:48:05.968 * Running mode=standalone, port=6379.
 1:M 28 Sep 2025 12:48:05.968 # Server initialized
 1:M 28 Sep 2025 12:48:05.968 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
 1:M 28 Sep 2025 12:48:05.968 * Ready to accept connections

STDERR: 



sudo docker logs 4a1ece99875d8b29b3eb8094092cb4f106971fa8d399ed0af35af066731ac89b --details
STDOUT: 
STDERR:  Traceback (most recent call last):
   File "/usr/local/bin/salt-master", line 8, in <module>
     sys.exit(salt_master())
   File "/usr/local/lib/python3.7/site-packages/salt/scripts.py", line 96, in salt_master
     import salt.cli.daemons
   File "/usr/local/lib/python3.7/site-packages/salt/cli/daemons.py", line 48, in <module>
     import salt.utils.parsers
   File "/usr/local/lib/python3.7/site-packages/salt/utils/parsers.py", line 28, in <module>
     import salt.config as config
   File "/usr/local/lib/python3.7/site-packages/salt/config/__init__.py", line 100, in <module>
     _DFLT_IPC_WBUFFER = _gather_buffer_space() * .5
   File "/usr/local/lib/python3.7/site-packages/salt/config/__init__.py", line 89, in _gather_buffer_space
     import salt.grains.core
   File "/usr/local/lib/python3.7/site-packages/salt/grains/core.py", line 58, in <module>
     import salt.utils.dns
   File "/usr/local/lib/python3.7/site-packages/salt/utils/dns.py", line 34, in <module>
     import salt.modules.cmdmod
   File "/usr/local/lib/python3.7/site-packages/salt/modules/cmdmod.py", line 34, in <module>
     import salt.utils.templates
   File "/usr/local/lib/python3.7/site-packages/salt/utils/templates.py", line 17, in <module>
     import jinja2
   File "/usr/local/lib/python3.7/site-packages/jinja2/__init__.py", line 12, in <module>
     from .environment import Environment
   File "/usr/local/lib/python3.7/site-packages/jinja2/environment.py", line 25, in <module>
     from .defaults import BLOCK_END_STRING
   File "/usr/local/lib/python3.7/site-packages/jinja2/defaults.py", line 3, in <module>
     from .filters import FILTERS as DEFAULT_FILTERS  # noqa: F401
   File "/usr/local/lib/python3.7/site-packages/jinja2/filters.py", line 13, in <module>
     from markupsafe import soft_unicode
 ImportError: cannot import name 'soft_unicode' from 'markupsafe' (/usr/local/lib/python3.7/site-packages/markupsafe/__init__.py)


