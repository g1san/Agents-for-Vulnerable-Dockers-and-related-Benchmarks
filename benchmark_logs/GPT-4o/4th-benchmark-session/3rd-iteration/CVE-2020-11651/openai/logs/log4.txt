time="2025-09-28T14:46:33+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-11651/openai/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.35kB done
#1 DONE 0.0s

#2 [salt-master internal] load build definition from Dockerfile
#2 transferring dockerfile: 261B done
#2 DONE 0.0s

#3 [salt-minion internal] load build definition from Dockerfile
#3 transferring dockerfile: 261B done
#3 DONE 0.0s

#4 [salt-minion internal] load metadata for docker.io/library/python:3.7-slim
#4 DONE 0.4s

#5 [salt-master internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [salt-minion internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [salt-master internal] load build context
#7 transferring context: 93B done
#7 DONE 0.0s

#8 [salt-minion internal] load build context
#8 transferring context: 69B done
#8 DONE 0.0s

#9 [salt-master 1/4] FROM docker.io/library/python:3.7-slim@sha256:b53f496ca43e5af6994f8e316cf03af31050bf7944e0e4a308ad86c001cf028b
#9 resolve docker.io/library/python:3.7-slim@sha256:b53f496ca43e5af6994f8e316cf03af31050bf7944e0e4a308ad86c001cf028b 0.0s done
#9 DONE 0.0s

#10 [salt-master 2/4] RUN apt-get update && apt-get install -y build-essential
#10 CACHED

#11 [salt-master 3/4] RUN pip install salt==3000.1 jinja2
#11 1.513 Collecting salt==3000.1
#11 1.671   Downloading salt-3000.1.tar.gz (15.2 MB)
#11 4.617      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 15.2/15.2 MB 6.3 MB/s eta 0:00:00
#11 6.226   Preparing metadata (setup.py): started
#11 6.828   Preparing metadata (setup.py): finished with status 'done'
#11 6.894 Collecting jinja2
#11 6.911   Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
#11 6.938      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.9/134.9 kB 5.5 MB/s eta 0:00:00
#11 7.134 Collecting msgpack!=0.5.5,<1.0.0,>=0.5
#11 7.160   Downloading msgpack-0.6.2-cp37-cp37m-manylinux1_x86_64.whl (243 kB)
#11 7.208      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 243.4/243.4 kB 5.2 MB/s eta 0:00:00
#11 7.331 Collecting PyYAML
#11 7.346   Downloading PyYAML-6.0.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (670 kB)
#11 7.475      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 670.1/670.1 kB 5.4 MB/s eta 0:00:00
#11 7.631 Collecting MarkupSafe
#11 7.649   Downloading MarkupSafe-2.1.5-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
#11 7.741 Collecting requests>=1.0.0
#11 7.756   Downloading requests-2.31.0-py3-none-any.whl (62 kB)
#11 7.770      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.6/62.6 kB 5.0 MB/s eta 0:00:00
#11 7.801 Collecting pycrypto>=2.6.1
#11 7.821   Downloading pycrypto-2.6.1.tar.gz (446 kB)
#11 7.897      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 446.2/446.2 kB 6.1 MB/s eta 0:00:00
#11 7.956   Preparing metadata (setup.py): started
#11 8.120   Preparing metadata (setup.py): finished with status 'done'
#11 8.831 Collecting pyzmq>=2.2.0
#11 8.848   Downloading pyzmq-26.2.1-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (863 kB)
#11 8.990      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 864.0/864.0 kB 6.2 MB/s eta 0:00:00
#11 9.049 Collecting idna<4,>=2.5
#11 9.066   Downloading idna-3.10-py3-none-any.whl (70 kB)
#11 9.082      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 70.4/70.4 kB 5.0 MB/s eta 0:00:00
#11 9.166 Collecting urllib3<3,>=1.21.1
#11 9.182   Downloading urllib3-2.0.7-py3-none-any.whl (124 kB)
#11 9.207      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 124.2/124.2 kB 5.2 MB/s eta 0:00:00
#11 9.429 Collecting charset-normalizer<4,>=2
#11 9.449   Downloading charset_normalizer-3.4.3-py3-none-any.whl (53 kB)
#11 9.462      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.2/53.2 kB 4.2 MB/s eta 0:00:00
#11 9.523 Collecting certifi>=2017.4.17
#11 9.543   Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
#11 9.573      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 161.2/161.2 kB 5.8 MB/s eta 0:00:00
#11 9.599 Building wheels for collected packages: salt, pycrypto
#11 9.601   Building wheel for salt (setup.py): started
#11 12.01   Building wheel for salt (setup.py): finished with status 'done'
#11 12.03   Created wheel for salt: filename=salt-3000.1-py3-none-any.whl size=9352605 sha256=c5824bf98fac62c18a2884e94b39950478a3f78ece4f1c9dc370d1943f1840f0
#11 12.03   Stored in directory: /root/.cache/pip/wheels/54/99/03/34d1db85b3d689f3479ed0ee17e1f889d874b5ebe881c15025
#11 12.05   Building wheel for pycrypto (setup.py): started
#11 22.62   Building wheel for pycrypto (setup.py): finished with status 'done'
#11 22.62   Created wheel for pycrypto: filename=pycrypto-2.6.1-cp37-cp37m-linux_x86_64.whl size=491778 sha256=60a75c5cb7ce2142adf5097f13ed5f43d8991b28175bf31d4c0519f9a20d61f7
#11 22.62   Stored in directory: /root/.cache/pip/wheels/cf/85/ba/bbd7c96add459de7598fb424e5ff2309baf2095c844ac0f191
#11 22.62 Successfully built salt pycrypto
#11 22.70 Installing collected packages: pycrypto, msgpack, urllib3, pyzmq, PyYAML, MarkupSafe, idna, charset-normalizer, certifi, requests, jinja2, salt
#11 25.99 Successfully installed MarkupSafe-2.1.5 PyYAML-6.0.1 certifi-2025.8.3 charset-normalizer-3.4.3 idna-3.10 jinja2-3.1.6 msgpack-0.6.2 pycrypto-2.6.1 pyzmq-26.2.1 requests-2.31.0 salt-3000.1 urllib3-2.0.7
#11 25.99 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#11 26.27 
#11 26.27 [notice] A new release of pip is available: 23.0.1 -> 24.0
#11 26.27 [notice] To update, run: pip install --upgrade pip
#11 DONE 26.8s

#12 [salt-master 4/4] COPY master.conf /etc/salt/master
#12 DONE 0.1s

#13 [salt-minion 4/4] COPY minion.conf /etc/salt/minion
#13 DONE 0.1s

#14 [salt-minion] exporting to image
#14 exporting layers
#14 exporting layers 3.7s done
#14 exporting manifest sha256:44b58e78337bb916f31756844d6d3ad017c0e4f633a9607ae2c23aeabb9e39cc 0.0s done
#14 exporting config sha256:a12d539433325f764ab20b695b7ae140c6952f27ed00a58f911252d8872c08ce 0.0s done
#14 exporting attestation manifest sha256:f0facae4445afec31b0e0757514c59c03d1ad2e10771f10fca3f806211dd323b 0.0s done
#14 exporting manifest list sha256:db496035dcb7154c50ec147b63255bed6b48897b8e54223ea136e520f8d71202 done
#14 naming to docker.io/library/openai-salt-minion:latest
#14 naming to docker.io/library/openai-salt-minion:latest done
#14 unpacking to docker.io/library/openai-salt-minion:latest
#14 unpacking to docker.io/library/openai-salt-minion:latest 1.3s done
#14 DONE 5.1s

#15 [salt-master] exporting to image
#15 exporting layers 3.7s done
#15 exporting manifest sha256:9c1f8e9eb262ea9c30bea40e3a7358806251d8fc022ca59cf389985ed7bece4c 0.0s done
#15 exporting config sha256:d5cba535eb08d8858c0ff94f3cc9fd22fefd26771ab42b42f81abddf49e9d6c6 0.0s done
#15 exporting attestation manifest sha256:715f057bab545e82ca6eab2ffa3ef84237b37cfa36ca49f194e52b753d044b6b 0.0s done
#15 exporting manifest list sha256:0251442d683dc6c9205314c35d7f69e724da35af8fea3a6eaf7ee29fb53d6cab done
#15 naming to docker.io/library/openai-salt-master:latest done
#15 unpacking to docker.io/library/openai-salt-master:latest 1.3s done
#15 DONE 5.1s

#16 [salt-minion] resolving provenance for metadata file
#16 DONE 0.0s

#17 [salt-master] resolving provenance for metadata file
#17 DONE 0.0s
 openai-salt-master  Built
 openai-salt-minion  Built
 Network openai_default  Creating
 Network openai_default  Created
 Volume openai_salt-master-config  Creating
 Volume openai_salt-master-config  Created
 Volume openai_salt-minion-config  Creating
 Volume openai_salt-minion-config  Created
 Container openai-salt-master-1  Creating
 Container openai-redis-1  Creating
 Container openai-salt-master-1  Created
 Container openai-salt-minion-1  Creating
 Container openai-redis-1  Created
 Container openai-salt-minion-1  Created
 Container openai-salt-master-1  Starting
 Container openai-redis-1  Starting
 Container openai-redis-1  Started
 Container openai-salt-master-1  Started
 Container openai-salt-minion-1  Starting
 Container openai-salt-minion-1  Started


sudo docker logs eda9ac3e28e97420587c7c9795d80f633bb9bce6f0d6621545a9e7cce508ef25 --details
STDOUT:  1:C 28 Sep 2025 12:47:07.268 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
 1:C 28 Sep 2025 12:47:07.268 # Redis version=5.0.14, bits=64, commit=00000000, modified=0, pid=1, just started
 1:C 28 Sep 2025 12:47:07.268 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
 1:M 28 Sep 2025 12:47:07.269 * Running mode=standalone, port=6379.
 1:M 28 Sep 2025 12:47:07.269 # Server initialized
 1:M 28 Sep 2025 12:47:07.269 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
 1:M 28 Sep 2025 12:47:07.270 * Ready to accept connections

STDERR: 



sudo docker logs ba2df52bedd721718ac23b9e14bf3877ab42ba8bf7b47f489034caa3d126cdeb --details
STDOUT: 
STDERR:  /usr/local/lib/python3.7/site-packages/salt/ext/tornado/httputil.py:107: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
   class HTTPHeaders(collections.MutableMapping):
 Traceback (most recent call last):
   File "/usr/local/bin/salt-master", line 8, in <module>
     sys.exit(salt_master())
   File "/usr/local/lib/python3.7/site-packages/salt/scripts.py", line 96, in salt_master
     import salt.cli.daemons
   File "/usr/local/lib/python3.7/site-packages/salt/cli/daemons.py", line 48, in <module>
     import salt.utils.parsers
   File "/usr/local/lib/python3.7/site-packages/salt/utils/parsers.py", line 28, in <module>
     import salt.config as config
   File "/usr/local/lib/python3.7/site-packages/salt/config/__init__.py", line 100, in <module>
     _DFLT_IPC_WBUFFER = _gather_buffer_space() * .5
   File "/usr/local/lib/python3.7/site-packages/salt/config/__init__.py", line 89, in _gather_buffer_space
     import salt.grains.core
   File "/usr/local/lib/python3.7/site-packages/salt/grains/core.py", line 58, in <module>
     import salt.utils.dns
   File "/usr/local/lib/python3.7/site-packages/salt/utils/dns.py", line 34, in <module>
     import salt.modules.cmdmod
   File "/usr/local/lib/python3.7/site-packages/salt/modules/cmdmod.py", line 34, in <module>
     import salt.utils.templates
   File "/usr/local/lib/python3.7/site-packages/salt/utils/templates.py", line 41, in <module>
     import salt.utils.jinja
   File "/usr/local/lib/python3.7/site-packages/salt/utils/jinja.py", line 23, in <module>
     from jinja2 import BaseLoader, Markup, TemplateNotFound, nodes
 ImportError: cannot import name 'Markup' from 'jinja2' (/usr/local/lib/python3.7/site-packages/jinja2/__init__.py)


