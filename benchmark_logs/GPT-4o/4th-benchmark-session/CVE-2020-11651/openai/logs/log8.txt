time="2025-09-28T14:48:29+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2020-11651/openai/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.35kB done
#1 DONE 0.0s

#2 [salt-minion internal] load build definition from Dockerfile
#2 transferring dockerfile: 300B done
#2 DONE 0.1s

#3 [salt-master internal] load build definition from Dockerfile
#3 transferring dockerfile: 300B done
#3 DONE 0.1s

#4 [salt-minion internal] load metadata for docker.io/library/python:3.7-slim
#4 DONE 0.9s

#5 [salt-master internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [salt-minion internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.1s

#7 [salt-minion internal] load build context
#7 transferring context: 69B done
#7 DONE 0.1s

#8 [salt-master internal] load build context
#8 transferring context: 93B done
#8 DONE 0.1s

#9 [salt-minion 1/4] FROM docker.io/library/python:3.7-slim@sha256:b53f496ca43e5af6994f8e316cf03af31050bf7944e0e4a308ad86c001cf028b
#9 resolve docker.io/library/python:3.7-slim@sha256:b53f496ca43e5af6994f8e316cf03af31050bf7944e0e4a308ad86c001cf028b
#9 resolve docker.io/library/python:3.7-slim@sha256:b53f496ca43e5af6994f8e316cf03af31050bf7944e0e4a308ad86c001cf028b 0.2s done
#9 DONE 0.2s

#10 [salt-master 2/4] RUN apt-get update && apt-get install -y build-essential
#10 CACHED

#11 [salt-master 3/4] RUN pip install salt==3000.1 jinja2==2.11.3 markupsafe==1.1.1
#11 1.609 Collecting salt==3000.1
#11 1.699   Downloading salt-3000.1.tar.gz (15.2 MB)
#11 12.06      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 15.2/15.2 MB 1.3 MB/s eta 0:00:00
#11 13.67   Preparing metadata (setup.py): started
#11 14.26   Preparing metadata (setup.py): finished with status 'done'
#11 15.02 Collecting jinja2==2.11.3
#11 15.03   Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)
#11 15.27      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.7/125.7 kB 535.8 kB/s eta 0:00:00
#11 15.45 Collecting markupsafe==1.1.1
#11 15.46   Downloading MarkupSafe-1.1.1-cp37-cp37m-manylinux2010_x86_64.whl (33 kB)
#11 15.73 Collecting msgpack!=0.5.5,<1.0.0,>=0.5
#11 15.75   Downloading msgpack-0.6.2-cp37-cp37m-manylinux1_x86_64.whl (243 kB)
#11 16.06      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 243.4/243.4 kB 815.1 kB/s eta 0:00:00
#11 16.19 Collecting PyYAML
#11 16.21   Downloading PyYAML-6.0.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (670 kB)
#11 16.73      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 670.1/670.1 kB 1.3 MB/s eta 0:00:00
#11 16.82 Collecting requests>=1.0.0
#11 16.83   Downloading requests-2.31.0-py3-none-any.whl (62 kB)
#11 16.91      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.6/62.6 kB 746.7 kB/s eta 0:00:00
#11 16.97 Collecting pycrypto>=2.6.1
#11 17.00   Downloading pycrypto-2.6.1.tar.gz (446 kB)
#11 17.43      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 446.2/446.2 kB 1.0 MB/s eta 0:00:00
#11 17.49   Preparing metadata (setup.py): started
#11 17.67   Preparing metadata (setup.py): finished with status 'done'
#11 18.56 Collecting pyzmq>=2.2.0
#11 18.58   Downloading pyzmq-26.2.1-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (863 kB)
#11 19.69      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 864.0/864.0 kB 779.9 kB/s eta 0:00:00
#11 19.80 Collecting idna<4,>=2.5
#11 19.81   Downloading idna-3.10-py3-none-any.whl (70 kB)
#11 19.93      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 70.4/70.4 kB 592.9 kB/s eta 0:00:00
#11 20.06 Collecting urllib3<3,>=1.21.1
#11 20.07   Downloading urllib3-2.0.7-py3-none-any.whl (124 kB)
#11 20.21      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 124.2/124.2 kB 928.1 kB/s eta 0:00:00
#11 20.30 Collecting certifi>=2017.4.17
#11 20.31   Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
#11 20.47      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 161.2/161.2 kB 1.1 MB/s eta 0:00:00
#11 20.75 Collecting charset-normalizer<4,>=2
#11 20.77   Downloading charset_normalizer-3.4.3-py3-none-any.whl (53 kB)
#11 20.83      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.2/53.2 kB 758.6 kB/s eta 0:00:00
#11 20.86 Building wheels for collected packages: salt, pycrypto
#11 20.87   Building wheel for salt (setup.py): started
#11 23.31   Building wheel for salt (setup.py): finished with status 'done'
#11 23.33   Created wheel for salt: filename=salt-3000.1-py3-none-any.whl size=9352605 sha256=274582eb7df6a10a2a3f04d102f37c92822b3ffb00542e9891a577f27a5e7949
#11 23.33   Stored in directory: /root/.cache/pip/wheels/54/99/03/34d1db85b3d689f3479ed0ee17e1f889d874b5ebe881c15025
#11 23.35   Building wheel for pycrypto (setup.py): started
#11 34.70   Building wheel for pycrypto (setup.py): finished with status 'done'
#11 34.70   Created wheel for pycrypto: filename=pycrypto-2.6.1-cp37-cp37m-linux_x86_64.whl size=491778 sha256=eb25d3cb532d7eab51ed7d43b120450fa34789c6baa233648954808ad7c3f827
#11 34.70   Stored in directory: /root/.cache/pip/wheels/cf/85/ba/bbd7c96add459de7598fb424e5ff2309baf2095c844ac0f191
#11 34.70 Successfully built salt pycrypto
#11 34.78 Installing collected packages: pycrypto, msgpack, urllib3, pyzmq, PyYAML, markupsafe, idna, charset-normalizer, certifi, requests, jinja2, salt
#11 38.10 Successfully installed PyYAML-6.0.1 certifi-2025.8.3 charset-normalizer-3.4.3 idna-3.10 jinja2-2.11.3 markupsafe-1.1.1 msgpack-0.6.2 pycrypto-2.6.1 pyzmq-26.2.1 requests-2.31.0 salt-3000.1 urllib3-2.0.7
#11 38.10 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#11 38.27 
#11 38.27 [notice] A new release of pip is available: 23.0.1 -> 24.0
#11 38.27 [notice] To update, run: pip install --upgrade pip
#11 DONE 38.8s

#12 [salt-master 4/4] COPY master.conf /etc/salt/master
#12 DONE 0.1s

#13 [salt-minion 4/4] COPY minion.conf /etc/salt/minion
#13 DONE 0.1s

#14 [salt-minion] exporting to image
#14 exporting layers
#14 exporting layers 3.7s done
#14 exporting manifest sha256:be5ba1d5be66905aef28a28adeb8737694a77c03fd620591cbfbd6ab5dec416e 0.0s done
#14 exporting config sha256:8e3c844f2d68ed5df69ec192b21575346ede5bc56b1a4fde4d51203df113f947 0.0s done
#14 exporting attestation manifest sha256:a6c9b823a8a3f644f915b7ba2b6c90b90192cdbaa817b518320817171f958ef1 0.0s done
#14 exporting manifest list sha256:d60e84012bf77a20076cb5724095b5e0fe11179e1b462c50abffdc65e3b9a432
#14 exporting manifest list sha256:d60e84012bf77a20076cb5724095b5e0fe11179e1b462c50abffdc65e3b9a432 0.0s done
#14 naming to docker.io/library/openai-salt-minion:latest done
#14 unpacking to docker.io/library/openai-salt-minion:latest
#14 unpacking to docker.io/library/openai-salt-minion:latest 1.4s done
#14 DONE 5.2s

#15 [salt-master] exporting to image
#15 exporting layers 3.7s done
#15 exporting manifest sha256:5ffdc69b2ea58029ae4206b458e703b9b98bd8a384fb7af9121b2492022f20d6 0.0s done
#15 exporting config sha256:710aa6f4af13ba7ec029bb2ad85eb0c70221e516aa4f9d94187447a935ec33c8 0.0s done
#15 exporting attestation manifest sha256:d434d27f4690cca4eead704c73ee428095ef0dcb3c58e8b27c8449c9f1157c6b 0.0s done
#15 exporting manifest list sha256:4f4f0c6499df28305e507696a6b2a02550dd9b77787f185eb25fb81d2875a122 0.0s done
#15 naming to docker.io/library/openai-salt-master:latest done
#15 unpacking to docker.io/library/openai-salt-master:latest 1.3s done
#15 DONE 5.2s

#16 [salt-master] resolving provenance for metadata file
#16 DONE 0.0s

#17 [salt-minion] resolving provenance for metadata file
#17 DONE 0.0s
 openai-salt-master  Built
 openai-salt-minion  Built
 Network openai_default  Creating
 Network openai_default  Created
 Volume openai_salt-master-config  Creating
 Volume openai_salt-master-config  Created
 Volume openai_salt-minion-config  Creating
 Volume openai_salt-minion-config  Created
 Container openai-salt-master-1  Creating
 Container openai-redis-1  Creating
 Container openai-redis-1  Created
 Container openai-salt-master-1  Created
 Container openai-salt-minion-1  Creating
 Container openai-salt-minion-1  Created
 Container openai-salt-master-1  Starting
 Container openai-redis-1  Starting
 Container openai-redis-1  Started
 Container openai-salt-master-1  Started
 Container openai-salt-minion-1  Starting
 Container openai-salt-minion-1  Started


sudo docker logs 945ae3fbcd1b1e10b2156169c4d4a0f32eb949c5cf023bed0bc39df1ee1f4bdf --details
STDOUT:  1:C 28 Sep 2025 12:49:16.698 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
 1:C 28 Sep 2025 12:49:16.698 # Redis version=5.0.14, bits=64, commit=00000000, modified=0, pid=1, just started
 1:C 28 Sep 2025 12:49:16.698 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
 1:M 28 Sep 2025 12:49:16.699 * Running mode=standalone, port=6379.
 1:M 28 Sep 2025 12:49:16.699 # Server initialized
 1:M 28 Sep 2025 12:49:16.700 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
 1:M 28 Sep 2025 12:49:16.700 * Ready to accept connections

STDERR: 



sudo docker logs 70f988e7fdb6356437f471261289c9e9d9fedafa45af72015cc0704e6c66cb8d --details
STDOUT: 
STDERR:  /usr/local/lib/python3.7/site-packages/salt/ext/tornado/httputil.py:107: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
   class HTTPHeaders(collections.MutableMapping):
 [WARNING ] /usr/local/lib/python3.7/site-packages/salt/transport/zeromq.py:42: DeprecationWarning: zmq.eventloop.ioloop is deprecated in pyzmq 17. pyzmq now works with default tornado and asyncio eventloops.
   import zmq.eventloop.ioloop
 
 Process salt.transport.zeromq.<class 'method'>._publish_daemon:
 Traceback (most recent call last):
   File "/usr/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
     self.run()
   File "/usr/local/lib/python3.7/multiprocessing/process.py", line 99, in run
     self._target(*self._args, **self._kwargs)
   File "/usr/local/lib/python3.7/site-packages/salt/transport/zeromq.py", line 875, in _publish_daemon
     pub_sock.setsockopt(zmq.HWM, self.opts.get('pub_hwm', 1000))
   File "_zmq.py", line 795, in zmq.backend.cython._zmq.Socket.set
   File "_zmq.py", line 1380, in zmq.backend.cython._zmq._setsockopt
   File "_zmq.py", line 179, in zmq.backend.cython._zmq._check_rc
 zmq.error.ZMQError: Invalid argument
 Process salt.transport.zeromq.<class 'method'>._publish_daemon:
 Traceback (most recent call last):
   File "/usr/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
     self.run()
   File "/usr/local/lib/python3.7/multiprocessing/process.py", line 99, in run
     self._target(*self._args, **self._kwargs)
   File "/usr/local/lib/python3.7/site-packages/salt/transport/zeromq.py", line 875, in _publish_daemon
     pub_sock.setsockopt(zmq.HWM, self.opts.get('pub_hwm', 1000))
   File "_zmq.py", line 795, in zmq.backend.cython._zmq.Socket.set
   File "_zmq.py", line 1380, in zmq.backend.cython._zmq._setsockopt
   File "_zmq.py", line 179, in zmq.backend.cython._zmq._check_rc
 zmq.error.ZMQError: Invalid argument
 [WARNING ] /usr/local/lib/python3.7/site-packages/salt/utils/dictdiffer.py:16: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
   from collections import Mapping
 
 [WARNING ] /usr/local/lib/python3.7/site-packages/salt/utils/dictdiffer.py:16: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
   from collections import Mapping
 
 [WARNING ] /usr/local/lib/python3.7/site-packages/salt/utils/dictdiffer.py:16: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
   from collections import Mapping
 
 [WARNING ] /usr/local/lib/python3.7/site-packages/salt/utils/dictdiffer.py:16: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
   from collections import Mapping
 
 [WARNING ] /usr/local/lib/python3.7/site-packages/salt/utils/dictdiffer.py:16: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
   from collections import Mapping
 


