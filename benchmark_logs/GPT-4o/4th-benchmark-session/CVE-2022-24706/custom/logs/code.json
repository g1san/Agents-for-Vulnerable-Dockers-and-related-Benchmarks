{
    "file_name": [
        "./../../dockers/CVE-2022-24706/custom/docker-compose.yml",
        "./../../dockers/CVE-2022-24706/custom/Dockerfile",
        "./../../dockers/CVE-2022-24706/custom/init-couchdb.sh"
    ],
    "file_code": [
        "services:\n  couchdb:\n    build: .\n    ports:\n      - \"5984:5984\"\n    environment:\n      - COUCHDB_USER=admin\n      - COUCHDB_PASSWORD=password\n    volumes:\n      - couchdb_data:/opt/couchdb/data\n\nvolumes:\n  couchdb_data:\n",
        "FROM apache/couchdb:3.2.2\n\nCOPY init-couchdb.sh /docker-entrypoint-initdb.d/\n\nRUN chmod +x /docker-entrypoint-initdb.d/init-couchdb.sh\n",
        "#!/bin/bash\n\n# This script sets up the default Erlang cookie for CouchDB\n# to simulate the vulnerable scenario.\n\n# Set the default cookie to 'monster'\necho \"monster\" > /opt/couchdb/.erlang.cookie\n\n# Set the correct permissions for the cookie file\nchmod 400 /opt/couchdb/.erlang.cookie\nchown couchdb:couchdb /opt/couchdb/.erlang.cookie\n\n# Create the '_users' database if it does not exist\ncurl -X PUT http://admin:password@localhost:5984/_users || true\n"
    ],
    "directory_tree": "CVE-2022-24706/\n    \u2514\u2500\u2500 custom\n        \u251c\u2500\u2500 docker-compose.yml\n        \u251c\u2500\u2500 Dockerfile\n        \u2514\u2500\u2500 init-couchdb.sh"
}