{
    "file_name": [
        "./../../dockers/CVE-2022-24706/openai/docker-compose.yml",
        "./../../dockers/CVE-2022-24706/openai/nginx.conf",
        "./../../dockers/CVE-2022-24706/openai/couchdb-entrypoint.sh",
        "./../../dockers/CVE-2022-24706/openai/Dockerfile"
    ],
    "file_code": [
        "services:\n  couchdb:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - \"5984:5984\"\n    environment:\n      - COUCHDB_USER=admin\n      - COUCHDB_PASSWORD=password\n    volumes:\n      - couchdb_data:/opt/couchdb/data\n\n  nginx:\n    image: nginx:1.18.0\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n\nvolumes:\n  couchdb_data:",
        "events {\n    worker_connections 1024;\n}\n\nhttp {\n    server {\n        listen 80;\n\n        location / {\n            proxy_pass http://couchdb:5984;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n}",
        "#!/bin/bash\n\n# Start CouchDB\n/docker-entrypoint.sh /opt/couchdb/bin/couchdb &\n\n# Wait for CouchDB to start\nsleep 10\n\n# Create _users database if it doesn't exist\ncurl -u admin:password -X PUT http://localhost:5984/_users\n\n# Wait indefinitely\nwait",
        "FROM couchdb:3.2.1\n\nCOPY couchdb-entrypoint.sh /usr/local/bin/couchdb-entrypoint.sh\nRUN chmod +x /usr/local/bin/couchdb-entrypoint.sh\n\nENTRYPOINT [\"/usr/local/bin/couchdb-entrypoint.sh\"]"
    ],
    "directory_tree": "./../../dockers/CVE-2022-24706/openai\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 couchdb-entrypoint.sh\n\u251c\u2500\u2500 docker-compose.yml\n\u2514\u2500\u2500 nginx.conf\n"
}