#1 [internal] load local bake definitions
#1 reading from stdin 711B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 177B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/apache/couchdb:3.2.1
#3 DONE 2.2s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 1.01kB done
#5 DONE 0.0s

#6 [1/3] FROM docker.io/apache/couchdb:3.2.1@sha256:bae43e8e57148820596f3427da82b15aea2bae492a229b9bac87624021da8168
#6 resolve docker.io/apache/couchdb:3.2.1@sha256:bae43e8e57148820596f3427da82b15aea2bae492a229b9bac87624021da8168 0.0s done
#6 DONE 0.1s

#6 [1/3] FROM docker.io/apache/couchdb:3.2.1@sha256:bae43e8e57148820596f3427da82b15aea2bae492a229b9bac87624021da8168
#6 sha256:fd6b477f4b2ab551e1a0d75aeb9b0a617b04bceb40a171e9fc661dc8b3b6e2ea 0B / 127B 0.2s
#6 sha256:44e65a5d823a5e494c0f1185a22002c9787375c53faa5bef6818a8a64b44e90e 0B / 2.19kB 0.2s
#6 sha256:e6474aa55b4b06c18e10d501e742fbe6b9c5da7926c13ced862d704ec6210ea0 0B / 772B 0.2s
#6 sha256:fc360b404fbc0ed9dd8c25f7461d307f563dcde98510e1409f10e598315d1413 0B / 389B 0.2s
#6 sha256:e6474aa55b4b06c18e10d501e742fbe6b9c5da7926c13ced862d704ec6210ea0 772B / 772B 0.5s done
#6 sha256:fc360b404fbc0ed9dd8c25f7461d307f563dcde98510e1409f10e598315d1413 389B / 389B 0.5s done
#6 sha256:fd6b477f4b2ab551e1a0d75aeb9b0a617b04bceb40a171e9fc661dc8b3b6e2ea 127B / 127B 0.6s done
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 0B / 48.99MB 0.2s
#6 sha256:e3f9210fdc326625b034b3abb0ed07787ee30092612fd2b1d283956632e4fc2f 283B / 283B 0.2s done
#6 sha256:f2137bfb05d54479c9233b63070e5c1d7310d91d12ba3466c900c39aea36de87 79.28kB / 79.28kB 0.2s done
#6 sha256:44e65a5d823a5e494c0f1185a22002c9787375c53faa5bef6818a8a64b44e90e 2.19kB / 2.19kB 1.0s done
#6 extracting sha256:f2137bfb05d54479c9233b63070e5c1d7310d91d12ba3466c900c39aea36de87 0.0s done
#6 extracting sha256:e3f9210fdc326625b034b3abb0ed07787ee30092612fd2b1d283956632e4fc2f 0.0s done
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 3.15MB / 48.99MB 1.8s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 7.34MB / 48.99MB 2.1s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 11.53MB / 48.99MB 2.4s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 16.78MB / 48.99MB 2.7s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 20.97MB / 48.99MB 3.0s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 25.17MB / 48.99MB 3.3s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 29.36MB / 48.99MB 3.6s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 33.55MB / 48.99MB 3.9s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 36.70MB / 48.99MB 4.1s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 40.89MB / 48.99MB 4.4s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 44.04MB / 48.99MB 4.7s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 47.19MB / 48.99MB 4.8s
#6 sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 48.99MB / 48.99MB 5.0s done
#6 extracting sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb
#6 extracting sha256:bd952debfb40eeb5374d1ee2ddf6e69c5131f999ca31b89f2fe57d8108c512eb 0.7s done
#6 DONE 6.3s

#6 [1/3] FROM docker.io/apache/couchdb:3.2.1@sha256:bae43e8e57148820596f3427da82b15aea2bae492a229b9bac87624021da8168
#6 extracting sha256:fc360b404fbc0ed9dd8c25f7461d307f563dcde98510e1409f10e598315d1413 0.0s done
#6 extracting sha256:e6474aa55b4b06c18e10d501e742fbe6b9c5da7926c13ced862d704ec6210ea0 0.0s done
#6 extracting sha256:44e65a5d823a5e494c0f1185a22002c9787375c53faa5bef6818a8a64b44e90e 0.0s done
#6 extracting sha256:fd6b477f4b2ab551e1a0d75aeb9b0a617b04bceb40a171e9fc661dc8b3b6e2ea 0.0s done
#6 DONE 6.4s

#7 [2/3] COPY init.sh /usr/local/bin/init.sh
#7 DONE 0.2s

#8 [3/3] RUN chmod +x /usr/local/bin/init.sh
#8 DONE 0.2s

#9 exporting to image
#9 exporting layers 0.1s done
#9 exporting manifest sha256:45b546afb2529820cebe004430547fb2f89b29c41d2d77766086902ac6d3614f 0.0s done
#9 exporting config sha256:0e9ff9f719b1dcb65c37511393fbfa479fd29f5fad934f506dc6ff0d5a7e5135
#9 exporting config sha256:0e9ff9f719b1dcb65c37511393fbfa479fd29f5fad934f506dc6ff0d5a7e5135 0.0s done
#9 exporting attestation manifest sha256:03cb3549928695d0abe7b41904662bcdccdd21495fe24904e489e1a4346c19a6 0.0s done
#9 exporting manifest list sha256:c0f75df8c72bc3e1810c662eefaa43f72d1bbf9a23f4e77256e274d93b2ab80d 0.0s done
#9 naming to docker.io/library/custom_no_tool-couchdb:latest done
#9 unpacking to docker.io/library/custom_no_tool-couchdb:latest 0.0s done
#9 DONE 0.2s

#10 resolving provenance for metadata file
#10 DONE 0.0s
 custom_no_tool-couchdb  Built
 Network custom_no_tool_default  Creating
 Network custom_no_tool_default  Created
 Volume custom_no_tool_couchdb_data  Creating
 Volume custom_no_tool_couchdb_data  Created
 Container custom_no_tool-couchdb-1  Creating
 Container custom_no_tool-couchdb-1  Created
 Container custom_no_tool-couchdb-1  Starting
 Container custom_no_tool-couchdb-1  Started


sudo docker logs 60e67e4649fd57e4108f5afb732e9972e335be151533a72c635cfd8947518a0c --details
STDOUT: 
STDERR:  [info] 2025-10-01T18:30:24.178058Z nonode@nohost <0.250.0> -------- Preflight check: Asserting Admin Account
 
 [info] 2025-10-01T18:30:24.179841Z nonode@nohost <0.250.0> -------- Apache CouchDB 3.2.1 is starting.
 
 [info] 2025-10-01T18:30:24.179932Z nonode@nohost <0.251.0> -------- Starting couch_sup
 [notice] 2025-10-01T18:30:24.188446Z nonode@nohost <0.104.0> -------- config: [admins] admin set to '****' for reason nil
 [info] 2025-10-01T18:30:24.227791Z nonode@nohost <0.250.0> -------- Apache CouchDB has started. Time to relax.
 
 [notice] 2025-10-01T18:30:24.232724Z nonode@nohost <0.304.0> -------- rexi_server : started servers
 [notice] 2025-10-01T18:30:24.233735Z nonode@nohost <0.308.0> -------- rexi_buffer : started servers
 [warning] 2025-10-01T18:30:24.245951Z nonode@nohost <0.316.0> -------- creating missing database: _nodes
 [info] 2025-10-01T18:30:24.245998Z nonode@nohost <0.317.0> -------- open_result error {not_found,no_db_file} for _nodes
 [warning] 2025-10-01T18:30:24.282879Z nonode@nohost <0.332.0> -------- creating missing database: _dbs
 [warning] 2025-10-01T18:30:24.282879Z nonode@nohost <0.331.0> -------- creating missing database: _dbs
 [info] 2025-10-01T18:30:24.282920Z nonode@nohost <0.334.0> -------- open_result error {not_found,no_db_file} for _dbs
 [notice] 2025-10-01T18:30:24.293520Z nonode@nohost <0.346.0> -------- mem3_reshard_dbdoc start init()
 [notice] 2025-10-01T18:30:24.295827Z nonode@nohost <0.348.0> -------- mem3_reshard start init()
 [notice] 2025-10-01T18:30:24.295891Z nonode@nohost <0.349.0> -------- mem3_reshard db monitor <0.349.0> starting
 [notice] 2025-10-01T18:30:24.297000Z nonode@nohost <0.348.0> -------- mem3_reshard starting reloading jobs
 [notice] 2025-10-01T18:30:24.297122Z nonode@nohost <0.348.0> -------- mem3_reshard finished reloading jobs
 [info] 2025-10-01T18:30:24.314890Z nonode@nohost <0.355.0> -------- Apache CouchDB has started. Time to relax.
 
 [info] 2025-10-01T18:30:24.314957Z nonode@nohost <0.355.0> -------- Apache CouchDB has started on http://any:5984/
 [notice] 2025-10-01T18:30:24.321031Z nonode@nohost <0.378.0> -------- chttpd_auth_cache changes listener died because the _users database does not exist. Create the database to silence this notice.
 [error] 2025-10-01T18:30:24.321297Z nonode@nohost emulator -------- Error in process <0.379.0> with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [error] 2025-10-01T18:30:24.321385Z nonode@nohost emulator -------- Error in process <0.379.0> with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [notice] 2025-10-01T18:30:24.342736Z nonode@nohost <0.426.0> -------- Missing system database _users
 [notice] 2025-10-01T18:30:29.321955Z nonode@nohost <0.378.0> -------- chttpd_auth_cache changes listener died because the _users database does not exist. Create the database to silence this notice.
 [error] 2025-10-01T18:30:29.322206Z nonode@nohost emulator -------- Error in process <0.528.0> with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [error] 2025-10-01T18:30:29.322421Z nonode@nohost emulator -------- Error in process <0.528.0> with exit value:
 {database_does_not_exist,[{mem3_shards,load_shards_from_db,"_users",[{file,"src/mem3_shards.erl"},{line,400}]},{mem3_shards,load_shards_from_disk,1,[{file,"src/mem3_shards.erl"},{line,375}]},{mem3_shards,load_shards_from_disk,2,[{file,"src/mem3_shards.erl"},{line,404}]},{mem3_shards,for_docid,3,[{file,"src/mem3_shards.erl"},{line,97}]},{fabric_doc_open,go,3,[{file,"src/fabric_doc_open.erl"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,"src/chttpd_auth_cache.erl"},{line,198}]},{chttpd_auth_cache,listen_for_changes,1,[{file,"src/chttpd_auth_cache.erl"},{line,145}]}]}
 
 [notice] 2025-10-01T18:30:29.325633Z nonode@nohost <0.400.0> -------- couch_replicator_clustering : cluster stable
 [notice] 2025-10-01T18:30:29.327233Z nonode@nohost <0.410.0> -------- Started replicator db changes listener <0.529.0>
 [info] 2025-10-01T18:30:29.327657Z nonode@nohost <0.531.0> -------- open_result error {not_found,no_db_file} for _replicator


