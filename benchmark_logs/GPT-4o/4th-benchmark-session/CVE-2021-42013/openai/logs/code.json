{
    "file_name": [
        "./../../dockers/CVE-2021-42013/openai/docker-compose.yml",
        "./../../dockers/CVE-2021-42013/openai/Dockerfile",
        "./../../dockers/CVE-2021-42013/openai/httpd.conf"
    ],
    "file_code": [
        "version: '3.8'\nservices:\n  apache:\n    build: .\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./httpd.conf:/etc/apache2/apache2.conf\n    depends_on:\n      - healthcheck\n\n  healthcheck:\n    image: debian:11.0\n    command: [\"/bin/bash\", \"-c\", \"apt-get update && apt-get install -y curl && curl -f http://localhost:8080/ || exit 1\"]\n",
        "FROM debian:11.0\n\nRUN apt-get update && \\\n    apt-get install -y apache2 apache2-bin apache2-utils bash coreutils\n\n# Enable CGI scripts\nRUN a2enmod cgi\n\n# Ensure necessary modules are enabled\nRUN a2enmod mpm_event && \\\n    a2enmod alias && \\\n    a2enmod mime && \\\n    a2enmod authz_core\n\n# Create log directory and set permissions\nRUN mkdir -p /var/log/apache2 && \\\n    chown -R www-data:www-data /var/log/apache2\n\n# Copy the configuration file\nCOPY httpd.conf /etc/apache2/apache2.conf\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=3s CMD curl -f http://localhost:80/ || exit 1\n\nENV APACHE_RUN_USER=www-data\nENV APACHE_RUN_GROUP=www-data\nENV APACHE_LOG_DIR=/var/log/apache2\n\nCMD [\"/usr/sbin/apache2ctl\", \"-D\", \"FOREGROUND\"]\n",
        "ServerRoot \"/etc/apache2\"\nListen 80\nLoadModule mpm_event_module /usr/lib/apache2/modules/mod_mpm_event.so\nLoadModule dir_module /usr/lib/apache2/modules/mod_dir.so\nLoadModule alias_module /usr/lib/apache2/modules/mod_alias.so\nLoadModule mime_module /usr/lib/apache2/modules/mod_mime.so\nLoadModule cgi_module /usr/lib/apache2/modules/mod_cgi.so\nLoadModule authz_core_module /usr/lib/apache2/modules/mod_authz_core.so\n\nServerName localhost\n\n<Directory />\n    AllowOverride none\n    Require all denied\n</Directory>\n\n<Directory \"/var/www/html\">\n    Options Indexes FollowSymLinks ExecCGI\n    AllowOverride None\n    Require all granted\n</Directory>\n\nDocumentRoot \"/var/www/html\"\nScriptAlias /cgi-bin/ \"/usr/lib/cgi-bin/\"\n\n<Directory \"/usr/lib/cgi-bin\">\n    AllowOverride None\n    Options +ExecCGI\n    Require all granted\n</Directory>\n\nErrorLog ${APACHE_LOG_DIR}/error.log\nCustomLog ${APACHE_LOG_DIR}/access.log combined\n"
    ],
    "directory_tree": "./../../dockers/CVE-2021-42013/openai\n\u2502   docker-compose.yml\n\u2502   Dockerfile\n\u2502   httpd.conf\n"
}