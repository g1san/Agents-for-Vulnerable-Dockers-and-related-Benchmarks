{
    "files": [
        {
            "location": "./../../dockers/CVE-2012-1823/openai/docker-compose.yml",
            "content": "services:\n  php:\n    build: ./php\n    ports:\n      - \"8080:80\"\n  nginx:\n    image: nginx:1.21.3\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx/default.conf:/etc/nginx/conf.d/default.conf\n    depends_on:\n      - php\n  mysql:\n    image: mysql:5.7.34\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpassword\n      MYSQL_DATABASE: testdb\n      MYSQL_USER: testuser\n      MYSQL_PASSWORD: testpassword\n    ports:\n      - \"3306:3306\"\n    volumes:\n      - db_data:/var/lib/mysql\n\nvolumes:\n  db_data:\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/php/Dockerfile",
            "content": "FROM php:5.3-apache\nCOPY . /var/www/html\nWORKDIR /var/www/html\n\n# Install any additional PHP extensions or dependencies\n# RUN docker-php-ext-install <extension_name>\n\nCMD [\"apache2-foreground\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/php/index.php",
            "content": "<?php\n$servername = \"mysql\";\n$username = \"testuser\";\n$password = \"testpassword\";\n$dbname = \"testdb\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\necho \"Connected successfully\";\n\n$sql = \"SELECT id, name FROM users\";\n$result = $conn->query($sql);\n\nif ($result->num_rows > 0) {\n    // output data of each row\n    while($row = $result->fetch_assoc()) {\n        echo \"id: \" . $row[\"id\"]. \" - Name: \" . $row[\"name\"]. \"<br>\";\n    }\n} else {\n    echo \"0 results\";\n}\n$conn->close();\n?>\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/nginx/default.conf",
            "content": "server {\n    listen 80;\n\n    location / {\n        root /var/www/html;\n        index index.php;\n        try_files $uri $uri/ =404;\n    }\n\n    location ~ \\.php$ {\n        include snippets/fastcgi-php.conf;\n        fastcgi_pass php:9000;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME /var/www/html$fastcgi_script_name;\n        include fastcgi_params;\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/mysql/init.sql",
            "content": "CREATE TABLE IF NOT EXISTS users (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(255) NOT NULL\n);\n\nINSERT INTO users (name) VALUES ('Alice'), ('Bob'), ('Charlie');\n"
        }
    ],
    "directory_tree": "CVE-2012-1823/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 mysql\n\u2502   \u2514\u2500\u2500 init.sql\n\u251c\u2500\u2500 nginx\n\u2502   \u2514\u2500\u2500 default.conf\n\u2514\u2500\u2500 php\n    \u251c\u2500\u2500 Dockerfile\n    \u2514\u2500\u2500 index.php\n"
}