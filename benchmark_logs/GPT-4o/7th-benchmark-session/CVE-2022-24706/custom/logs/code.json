{
    "files": [
        {
            "location": "./../../dockers/CVE-2022-24706/custom/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  couchdb:\n    image: apache/couchdb:3.2.2\n    container_name: secure_couchdb\n    environment:\n      - NODENAME=couchdb@secure_couchdb\n      - COUCHDB_USER=admin\n      - COUCHDB_PASSWORD=password\n      - ERL_FLAGS=-setcookie \"a_secure_random_cookie_value\"\n    ports:\n      - \"5984:5984\"\n    volumes:\n      - couchdb_data:/opt/couchdb/data\n    networks:\n      - couchdb_network\n\nvolumes:\n  couchdb_data:\n\nnetworks:\n  couchdb_network:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2022-24706/custom/init-couchdb.sh",
            "content": "#!/bin/bash\n# Script to initialize CouchDB with test data\n\n# Wait for CouchDB to start\nuntil curl -s http://admin:password@secure_couchdb:5984/_all_dbs; do\n  echo \"Waiting for CouchDB to start...\"\n  sleep 2\n  done\n\n# Create a test database and add some documents\ncurl -X PUT http://admin:password@secure_couchdb:5984/test_db\n\ncurl -X POST http://admin:password@secure_couchdb:5984/test_db -H \"Content-Type: application/json\" -d '{\"name\": \"test_doc_1\", \"type\": \"test\"}'\ncurl -X POST http://admin:password@secure_couchdb:5984/test_db -H \"Content-Type: application/json\" -d '{\"name\": \"test_doc_2\", \"type\": \"test\"}'\n\n# Verify the documents\ncurl http://admin:password@secure_couchdb:5984/test_db/_all_docs\n"
        },
        {
            "location": "./../../dockers/CVE-2022-24706/custom/Dockerfile",
            "content": "# Use official CouchDB image\nFROM apache/couchdb:3.2.2\n\n# Copy initialization script\nCOPY init-couchdb.sh /docker-entrypoint-initdb.d/init-couchdb.sh\n\n# Make the script executable\nRUN chmod +x /docker-entrypoint-initdb.d/init-couchdb.sh\n"
        }
    ],
    "directory_tree": "CVE-2022-24706/\n\u2514\u2500\u2500 custom\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 init-couchdb.sh\n    \u2514\u2500\u2500 Dockerfile\n"
}