time="2025-10-23T00:28:29+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 679B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 397B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/apache/couchdb:3.2.1
#3 DONE 0.1s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 DONE 0.0s

#6 [1/3] FROM docker.io/apache/couchdb:3.2.1@sha256:bae43e8e57148820596f3427da82b15aea2bae492a229b9bac87624021da8168
#6 resolve docker.io/apache/couchdb:3.2.1@sha256:bae43e8e57148820596f3427da82b15aea2bae492a229b9bac87624021da8168 0.0s done
#6 DONE 0.1s

#5 [internal] load build context
#5 transferring context: 620B done
#5 DONE 0.0s

#7 [2/3] COPY init-couchdb.sh /opt/couchdb/init-couchdb.sh
#7 DONE 0.0s

#8 [3/3] RUN chmod +x /opt/couchdb/init-couchdb.sh
#8 DONE 0.2s

#9 exporting to image
#9 exporting layers 0.1s done
#9 exporting manifest sha256:044dc0cb48687e6ccc65eac44f3b07310d401338e8a63d56e0df6217af39ed11 0.0s done
#9 exporting config sha256:7a27b8a53e929dbc33f68969c328dd13e28e66ce0c69b2fc9c8a5dceaab62293 0.0s done
#9 exporting attestation manifest sha256:7b7eca69fad15dece962e51af733cb79478eb6b17c0cb79a686e903c0f01352a 0.0s done
#9 exporting manifest list sha256:d022be07b06161e11d96a8f52e417c62d74f9c8566c3fc6a8226a76d0da95f07 0.0s done
#9 naming to docker.io/library/custom-couchdb:latest done
#9 unpacking to docker.io/library/custom-couchdb:latest 0.0s done
#9 DONE 0.3s

#10 resolving provenance for metadata file
#10 DONE 0.0s
 custom-couchdb  Built
 Network custom_default  Creating
 Network custom_default  Created
 Volume custom_couchdb_data  Creating
 Volume custom_couchdb_data  Created
 Container custom-couchdb-1  Creating
 Container custom-couchdb-1  Created
 Container custom-couchdb-1  Starting
 Container custom-couchdb-1  Started


sudo docker logs 669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1 --details
STDOUT:  Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...
 Waiting for CouchDB to start...

STDERR:  /bin/bash: line 1: couchdb: command not found




sudo docker inspect 669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1[
    {
        "Id": "669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1",
        "Created": "2025-10-22T22:28:30.684424795Z",
        "Path": "tini",
        "Args": [
            "--",
            "/docker-entrypoint.sh",
            "/bin/bash",
            "-c",
            "couchdb & /opt/couchdb/init-couchdb.sh"
        ],
        "State": {
            "Status": "running",
            "Running": true,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 59998,
            "ExitCode": 0,
            "Error": "",
            "StartedAt": "2025-10-22T22:28:30.907772865Z",
            "FinishedAt": "0001-01-01T00:00:00Z"
        },
        "Image": "sha256:d022be07b06161e11d96a8f52e417c62d74f9c8566c3fc6a8226a76d0da95f07",
        "ResolvConfPath": "/var/lib/docker/containers/669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1/resolv.conf",
        "HostnamePath": "/var/lib/docker/containers/669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1/hostname",
        "HostsPath": "/var/lib/docker/containers/669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1/hosts",
        "LogPath": "/var/lib/docker/containers/669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1/669f5769e53e433307e11320d6b3bbab57357c733ab98c587242d196799d27e1-json.log",
        "Name": "/custom-couchdb-1",
        "RestartCount": 0,
        "Driver": "overlayfs",
        "Platform": "linux",
        "MountLabel": "",
        "ProcessLabel": "",
        "AppArmorProfile": "",
        "ExecIDs": null,
        "HostConfig": {
            "Binds": [
                "custom_couchdb_data:/opt/couchdb/data:rw"
            ],
            "ContainerIDFile": "",
            "LogConfig": {
                "Type": "json-file",
                "Config": {}
            },
            "NetworkMode": "custom_default",
            "PortBindings": {
                "5984/tcp": [
                    {
                        "HostIp": "",
                        "HostPort": "5984"
                    }
                ]
            },
            "RestartPolicy": {
                "Name": "no",
                "MaximumRetryCount": 0
            },
            "AutoRemove": false,
            "VolumeDriver": "",
            "VolumesFrom": null,
            "ConsoleSize": [
                0,
                0
            ],
            "CapAdd": null,
            "CapDrop": null,
            "CgroupnsMode": "private",
            "Dns": null,
            "DnsOptions": null,
            "DnsSearch": null,
            "ExtraHosts": [],
            "GroupAdd": null,
            "IpcMode": "private",
            "Cgroup": "",
            "Links": null,
            "OomScoreAdj": 0,
            "PidMode": "",
            "Privileged": false,
            "PublishAllPorts": false,
            "ReadonlyRootfs": false,
            "SecurityOpt": null,
            "UTSMode": "",
            "UsernsMode": "",
            "ShmSize": 67108864,
            "Runtime": "runc",
            "Isolation": "",
            "CpuShares": 0,
            "Memory": 0,
            "NanoCpus": 0,
            "CgroupParent": "",
            "BlkioWeight": 0,
            "BlkioWeightDevice": null,
            "BlkioDeviceReadBps": null,
            "BlkioDeviceWriteBps": null,
            "BlkioDeviceReadIOps": null,
            "BlkioDeviceWriteIOps": null,
            "CpuPeriod": 0,
            "CpuQuota": 0,
            "CpuRealtimePeriod": 0,
            "CpuRealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "Devices": null,
            "DeviceCgroupRules": null,
            "DeviceRequests": null,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "MemorySwappiness": null,
            "OomKillDisable": null,
            "PidsLimit": null,
            "Ulimits": null,
            "CpuCount": 0,
            "CpuPercent": 0,
            "IOMaximumIOps": 0,
            "IOMaximumBandwidth": 0,
            "MaskedPaths": [
                "/proc/asound",
                "/proc/acpi",
                "/proc/interrupts",
                "/proc/kcore",
                "/proc/keys",
                "/proc/latency_stats",
                "/proc/timer_list",
                "/proc/timer_stats",
                "/proc/sched_debug",
                "/proc/scsi",
                "/sys/firmware",
                "/sys/devices/virtual/powercap"
            ],
            "ReadonlyPaths": [
                "/proc/bus",
                "/proc/fs",
                "/proc/irq",
                "/proc/sys",
                "/proc/sysrq-trigger"
            ]
        },
        "GraphDriver": {
            "Data": null,
            "Name": "overlayfs"
        },
        "Mounts": [
            {
                "Type": "volume",
                "Name": "custom_couchdb_data",
                "Source": "/var/lib/docker/volumes/custom_couchdb_data/_data",
                "Destination": "/opt/couchdb/data",
                "Driver": "local",
                "Mode": "rw",
                "RW": true,
                "Propagation": ""
            }
        ],
        "Config": {
            "Hostname": "669f5769e53e",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": true,
            "AttachStderr": true,
            "ExposedPorts": {
                "4369/tcp": {},
                "5984/tcp": {},
                "9100/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "COUCHDB_USER=admin",
                "COUCHDB_PASSWORD=password",
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "GPG_COUCH_KEY=390EF70BB1EA12B2773962950EE62FB37A00258D",
                "COUCHDB_VERSION=3.2.1-1"
            ],
            "Cmd": [
                "/bin/bash",
                "-c",
                "couchdb & /opt/couchdb/init-couchdb.sh"
            ],
            "Image": "custom-couchdb",
            "Volumes": {
                "/opt/couchdb/data": {}
            },
            "WorkingDir": "",
            "Entrypoint": [
                "tini",
                "--",
                "/docker-entrypoint.sh"
            ],
            "OnBuild": null,
            "Labels": {
                "com.docker.compose.config-hash": "409ac3067d814c5ceb7c6177409cb12f90fbeb72e87c34bcc5c3bd7f03981f05",
                "com.docker.compose.container-number": "1",
                "com.docker.compose.depends_on": "",
                "com.docker.compose.image": "sha256:d022be07b06161e11d96a8f52e417c62d74f9c8566c3fc6a8226a76d0da95f07",
                "com.docker.compose.oneoff": "False",
                "com.docker.compose.project": "custom",
                "com.docker.compose.project.config_files": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom/docker-compose.yml",
                "com.docker.compose.project.working_dir": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-24706/custom",
                "com.docker.compose.service": "couchdb",
                "com.docker.compose.version": "2.40.0",
                "desktop.docker.io/wsl-distro": "Ubuntu",
                "maintainer": "CouchDB Developers dev@couchdb.apache.org"
            },
            "StopTimeout": 1
        },
        "NetworkSettings": {
            "Bridge": "",
            "SandboxID": "76080158d436f8e1ddcb4bb38ccb86fa4bea6bcfbef04107bbbf1a28dfcb62a0",
            "SandboxKey": "/var/run/docker/netns/76080158d436",
            "Ports": {
                "5984/tcp": [
                    {
                        "HostIp": "0.0.0.0",
                        "HostPort": "5984"
                    },
                    {
                        "HostIp": "::",
                        "HostPort": "5984"
                    }
                ]
            },
            "HairpinMode": false,
            "LinkLocalIPv6Address": "",
            "LinkLocalIPv6PrefixLen": 0,
            "SecondaryIPAddresses": null,
            "SecondaryIPv6Addresses": null,
            "EndpointID": "",
            "Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "IPAddress": "",
            "IPPrefixLen": 0,
            "IPv6Gateway": "",
            "MacAddress": "",
            "Networks": {
                "custom_default": {
                    "IPAMConfig": null,
                    "Links": null,
                    "Aliases": [
                        "custom-couchdb-1",
                        "couchdb"
                    ],
                    "MacAddress": "22:0a:d3:e6:24:26",
                    "DriverOpts": null,
                    "GwPriority": 0,
                    "NetworkID": "0193f80b1659173e7bc426c2ffea1c2723e88ba0b2c78c3b70357e61b02b4221",
                    "EndpointID": "43420f5a797b7a1495872076ce203924624e35203e8ef85e292daa80230d8c88",
                    "Gateway": "172.18.0.1",
                    "IPAddress": "172.18.0.2",
                    "IPPrefixLen": 16,
                    "IPv6Gateway": "",
                    "GlobalIPv6Address": "",
                    "GlobalIPv6PrefixLen": 0,
                    "DNSNames": [
                        "custom-couchdb-1",
                        "couchdb",
                        "669f5769e53e"
                    ]
                }
            }
        },
        "ImageManifestDescriptor": {
            "mediaType": "application/vnd.oci.image.manifest.v1+json",
            "digest": "sha256:044dc0cb48687e6ccc65eac44f3b07310d401338e8a63d56e0df6217af39ed11",
            "size": 2755,
            "platform": {
                "architecture": "amd64",
                "os": "linux"
            }
        }
    }
]