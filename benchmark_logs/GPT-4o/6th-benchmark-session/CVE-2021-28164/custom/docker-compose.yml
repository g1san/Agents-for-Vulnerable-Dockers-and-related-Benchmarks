version: '3.8'

services:
  jetty:
    image: jetty:9.4.42-jre11-slim
    container_name: jetty_vulnerable
    volumes:
      - ./webapps:/var/lib/jetty/webapps
    ports:
      - "8080:8080"
    environment:
      - JETTY_BASE=/var/lib/jetty
    command: ["java", "-jar", "/usr/local/jetty/start.jar"]

  openjdk:
    image: openjdk:11-jre-slim
    container_name: openjdk_runtime
    volumes:
      - ./webapps:/var/lib/jetty/webapps
    command: ["/bin/sh", "-c", "while true; do sleep 1000; done"]

networks:
  default:
    name: jetty_network