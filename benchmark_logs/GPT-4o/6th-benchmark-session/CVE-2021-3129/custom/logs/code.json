{
    "files": [
        {
            "location": "./../../dockers/CVE-2021-3129/custom/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  app:\n    build:\n      context: ./app\n    ports:\n      - \"8000:8000\"\n    environment:\n      - APP_ENV=local\n      - APP_DEBUG=false\n      - DB_HOST=db\n      - DB_PORT=3306\n      - DB_DATABASE=laravel\n      - DB_USERNAME=root\n      - DB_PASSWORD=secret\n    depends_on:\n      - db\n    networks:\n      - laravel-net\n\n  db:\n    image: mysql:5.7\n    environment:\n      MYSQL_ROOT_PASSWORD: secret\n      MYSQL_DATABASE: laravel\n    ports:\n      - \"3306:3306\"\n    volumes:\n      - db_data:/var/lib/mysql\n    networks:\n      - laravel-net\n\n  web:\n    image: nginx:1.19\n    volumes:\n      - ./nginx/default.conf:/etc/nginx/conf.d/default.conf\n    ports:\n      - \"80:80\"\n    depends_on:\n      - app\n    networks:\n      - laravel-net\n\nvolumes:\n  db_data:\n\nnetworks:\n  laravel-net:\n"
        },
        {
            "location": "./../../dockers/CVE-2021-3129/custom/app/Dockerfile",
            "content": "FROM php:7.4-fpm\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    libpng-dev \\\n    libjpeg-dev \\\n    libfreetype6-dev \\\n    zip \\\n    unzip \\\n    git \\\n    curl\n\n# Install PHP extensions\nRUN docker-php-ext-configure gd --with-freetype --with-jpeg \\\n    && docker-php-ext-install gd pdo pdo_mysql\n\n# Install Composer\nCOPY --from=composer:2 /usr/bin/composer /usr/bin/composer\n\n# Set working directory\nWORKDIR /var/www\n\n# Copy application\nCOPY . .\n\n# Ensure artisan file is executable\nRUN if [ -f artisan ]; then chmod +x artisan; fi\n\n# Install application dependencies\nRUN composer install\n\n# Expose port 8000 and start PHP-FPM server\nEXPOSE 8000\nCMD php artisan serve --host=0.0.0.0 --port=8000\n"
        },
        {
            "location": "./../../dockers/CVE-2021-3129/custom/app/composer.json",
            "content": "{\n    \"require\": {\n        \"php\": \"^7.3|^8.0\",\n        \"fideloper/proxy\": \"^4.2\",\n        \"fruitcake/laravel-cors\": \"^2.0\",\n        \"guzzlehttp/guzzle\": \"^7.0.1\",\n        \"laravel/framework\": \"^8.5.0\",\n        \"laravel/tinker\": \"^2.5\",\n        \"facade/ignition\": \"^2.5.2\"\n    },\n    \"require-dev\": {\n        \"facade/ignition\": \"^2.5.2\",\n        \"nunomaduro/collision\": \"^5.0\"\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2021-3129/custom/nginx/default.conf",
            "content": "server {\n    listen 80;\n    index index.php index.html;\n    server_name localhost;\n    \n    root /var/www/public;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    location ~ \\.php$ {\n        include fastcgi_params;\n        fastcgi_pass app:9000;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    }\n\n    location ~ /\\.ht {\n        deny all;\n    }\n}\n"
        }
    ],
    "directory_tree": "CVE-2021-3129/\n\u2514\u2500\u2500 custom/\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 app/\n    \u2502   \u251c\u2500\u2500 Dockerfile\n    \u2502   \u251c\u2500\u2500 composer.json\n    \u2514\u2500\u2500 nginx/\n        \u2514\u2500\u2500 default.conf\n"
}