{
    "files": [
        {
            "location": "./../../dockers/CVE-2012-1823/openai/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  web:\n    image: nginx:1.21.3\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf\n    depends_on:\n      - php\n\n  php:\n    build: ./php\n    volumes:\n      - ./php:/var/www/html\n    expose:\n      - \"9000\"\n    environment:\n      MYSQL_HOST: db\n      MYSQL_USER: user\n      MYSQL_PASSWORD: password\n      MYSQL_DATABASE: testdb\n\n  db:\n    image: mysql:5.7\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpassword\n      MYSQL_DATABASE: testdb\n      MYSQL_USER: user\n      MYSQL_PASSWORD: password\n    volumes:\n      - db_data:/var/lib/mysql\n    ports:\n      - \"3306:3306\"\n\nvolumes:\n  db_data:\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/nginx.conf",
            "content": "events {}\nhttp {\n    server {\n        listen 80;\n        server_name localhost;\n\n        location / {\n            fastcgi_pass php:9000;\n            include fastcgi_params;\n            fastcgi_param SCRIPT_FILENAME /var/www/html/index.php;\n        }\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/php/Dockerfile",
            "content": "FROM php:5.4.1\n\nRUN docker-php-ext-install mysqli\n\nCOPY . /var/www/html\n\nWORKDIR /var/www/html\n\nCMD [\"php\", \"-S\", \"0.0.0.0:9000\", \"-t\", \"/var/www/html\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/php/index.php",
            "content": "<?php\n$mysqli = new mysqli(getenv('MYSQL_HOST'), getenv('MYSQL_USER'), getenv('MYSQL_PASSWORD'), getenv('MYSQL_DATABASE'));\n\nif ($mysqli->connect_error) {\n    die(\"Connection failed: \" . $mysqli->connect_error);\n}\n\necho \"Connected successfully to the database.\";\n\n// A simple query to test the database connection\necho \"<br>\";\n$result = $mysqli->query(\"SELECT 'Hello, CVE-2012-1823' AS message\");\n$row = $result->fetch_assoc();\necho $row['message'];\n\n$mysqli->close();\n"
        },
        {
            "location": "./../../dockers/CVE-2012-1823/openai/init.sql",
            "content": "CREATE TABLE IF NOT EXISTS test (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    message VARCHAR(255) NOT NULL\n);\n\nINSERT INTO test (message) VALUES ('Hello, CVE-2012-1823');\n"
        }
    ],
    "directory_tree": "CVE-2012-1823/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 init.sql\n\u251c\u2500\u2500 nginx.conf\n\u2514\u2500\u2500 php\n    \u251c\u2500\u2500 Dockerfile\n    \u2514\u2500\u2500 index.php\n"
}