services:
  jetty:
    image: jetty:9.4.42-jre11
    container_name: vulnerable_jetty
    ports:
      - "8080:8080"
    volumes:
      - ./webapps:/var/lib/jetty/webapps
    environment:
      - JAVA_OPTIONS=-Dorg.eclipse.jetty.server.Request.maxFormContentSize=-1

  openjdk:
    image: openjdk:11-jre-slim
    container_name: openjdk
    command: sleep infinity
    volumes:
      - ./webapps:/var/lib/jetty/webapps
    depends_on:
      - jetty

networks:
  default:
    name: cve-2021-34429-network
