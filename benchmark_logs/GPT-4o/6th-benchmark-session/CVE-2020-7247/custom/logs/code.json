{
    "files": [
        {
            "location": "./../../dockers/CVE-2020-7247/custom/docker-compose.yml",
            "content": "services:\n  opensmtpd:\n    build:\n      context: ./opensmtpd\n    ports:\n      - \"25:25\"\n    networks:\n      - smtp_network\n    restart: unless-stopped\n\nnetworks:\n  smtp_network:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2020-7247/custom/opensmtpd/Dockerfile",
            "content": "FROM alpine:3.11\n\nRUN apk add --no-cache \\\n    build-base \\\n    libressl-dev \\\n    libevent-dev \\\n    git\n\n# Clone the OpenSMTPD source code for version 6.6.2p1\nRUN git clone https://github.com/OpenSMTPD/OpenSMTPD.git /opensmtpd && \\\n    cd /opensmtpd && \\\n    git checkout opensmtpd-6.6.2p1\n\n# Build and install OpenSMTPD\nRUN cd /opensmtpd && \\\n    ./bootstrap && \\\n    ./configure && \\\n    make && \\\n    make install\n\n# Create the mail directory\nRUN mkdir -p /var/mail\n\nCOPY smtpd.conf /etc/smtpd/smtpd.conf\n\nCMD [\"/usr/local/sbin/smtpd\", \"-d\", \"-f\", \"/etc/smtpd/smtpd.conf\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2020-7247/custom/opensmtpd/smtpd.conf",
            "content": "# Sample smtpd.conf for OpenSMTPD\n\nlisten on 0.0.0.0\n\naction \"local\" maildir \"/var/mail/$u\"\n\nmatch from any for domain \"example.com\" action \"local\"\n"
        }
    ],
    "directory_tree": "CVE-2020-7247/\n\u251c\u2500\u2500 custom\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u2514\u2500\u2500 opensmtpd\n\u2502       \u251c\u2500\u2500 Dockerfile\n\u2502       \u2514\u2500\u2500 smtpd.conf\n"
}