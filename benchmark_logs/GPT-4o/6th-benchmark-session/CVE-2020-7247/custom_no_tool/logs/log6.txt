#1 [internal] load local bake definitions
#1 reading from stdin 737B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 385B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/debian:bullseye-slim
#3 DONE 0.5s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/5] FROM docker.io/library/debian:bullseye-slim@sha256:52927eff8153b563244f98cdc802ba97918afcdf67f9e4867cbf1f7afb3d147b
#5 resolve docker.io/library/debian:bullseye-slim@sha256:52927eff8153b563244f98cdc802ba97918afcdf67f9e4867cbf1f7afb3d147b 0.0s done
#5 DONE 0.0s

#6 [internal] load build context
#6 transferring context: 475B done
#6 DONE 0.0s

#7 [2/5] RUN apt-get update &&     apt-get install -y opensmtpd &&     apt-get clean && rm -rf /var/lib/apt/lists/*
#7 CACHED

#8 [3/5] COPY smtpd.conf /etc/mail/smtpd.conf
#8 CACHED

#9 [4/5] RUN echo "smtpd-container" > /etc/hostname
#9 CACHED

#10 [5/5] RUN hostname smtpd-container
#10 0.204 hostname: you must be root to change the host name
#10 ERROR: process "/bin/sh -c hostname smtpd-container" did not complete successfully: exit code: 1
------
 > [5/5] RUN hostname smtpd-container:
0.204 hostname: you must be root to change the host name
------
Dockerfile:13

--------------------

  11 |     

  12 |     # Ensure hostname is set correctly

  13 | >>> RUN hostname smtpd-container

  14 |     

  15 |     CMD ["/usr/sbin/smtpd", "-d"]

--------------------

failed to solve: process "/bin/sh -c hostname smtpd-container" did not complete successfully: exit code: 1

