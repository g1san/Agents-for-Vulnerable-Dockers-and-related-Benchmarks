FROM saltstack/salt:3000.1

# Install necessary tools
RUN apt-get update && apt-get install -y \
    python3-pip \
    && rm -rf /var/lib/apt/lists/*

# Copy custom configuration
COPY ./salt-master/salt /etc/salt

# Expose necessary ports
EXPOSE 4505 4506

CMD ["salt-master"]
