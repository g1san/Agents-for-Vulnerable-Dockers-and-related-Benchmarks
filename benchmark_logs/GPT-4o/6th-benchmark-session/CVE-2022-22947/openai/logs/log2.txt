 nginx Pulling 
 db24d06d5af4 Pulling fs layer 
 7b1fab684d70 Pulling fs layer 
 915cc9bd79c2 Pulling fs layer 
 42c077c10790 Pulling fs layer 
 62c70f376f6a Pulling fs layer 
 75a963e94de0 Pulling fs layer 
 db24d06d5af4 Download complete 
 915cc9bd79c2 Download complete 
 42c077c10790 Downloading [=>                                                 ]  1.049MB/31.38MB
 42c077c10790 Downloading [===>                                               ]    2.2MB/31.38MB
 75a963e94de0 Download complete 
 7b1fab684d70 Download complete 
 42c077c10790 Downloading [======>                                            ]  4.194MB/31.38MB
 42c077c10790 Downloading [========>                                          ]  5.243MB/31.38MB
 42c077c10790 Downloading [========>                                          ]  5.243MB/31.38MB
 62c70f376f6a Downloading [==>                                                ]  1.049MB/25.35MB
 42c077c10790 Downloading [==========>                                        ]  6.291MB/31.38MB
 62c70f376f6a Downloading [====>                                              ]  2.097MB/25.35MB
 42c077c10790 Downloading [===========>                                       ]   7.34MB/31.38MB
 62c70f376f6a Downloading [====>                                              ]  2.097MB/25.35MB
 62c70f376f6a Downloading [====>                                              ]  2.097MB/25.35MB
 42c077c10790 Downloading [=============>                                     ]  8.389MB/31.38MB
 42c077c10790 Downloading [===============>                                   ]  9.437MB/31.38MB
 62c70f376f6a Downloading [======>                                            ]  3.146MB/25.35MB
 42c077c10790 Downloading [================>                                  ]  10.49MB/31.38MB
 62c70f376f6a Downloading [======>                                            ]  3.146MB/25.35MB
 62c70f376f6a Downloading [========>                                          ]  4.194MB/25.35MB
 42c077c10790 Downloading [==================>                                ]  11.53MB/31.38MB
 62c70f376f6a Downloading [========>                                          ]  4.194MB/25.35MB
 42c077c10790 Downloading [====================>                              ]  12.58MB/31.38MB
 42c077c10790 Downloading [=====================>                             ]  13.63MB/31.38MB
 62c70f376f6a Downloading [==========>                                        ]  5.243MB/25.35MB
 42c077c10790 Downloading [=======================>                           ]  14.68MB/31.38MB
 62c70f376f6a Downloading [==========>                                        ]  5.243MB/25.35MB
 42c077c10790 Downloading [=========================>                         ]  15.73MB/31.38MB
 62c70f376f6a Downloading [============>                                      ]  6.291MB/25.35MB
 42c077c10790 Downloading [==========================>                        ]  16.78MB/31.38MB
 62c70f376f6a Downloading [============>                                      ]  6.291MB/25.35MB
 42c077c10790 Downloading [============================>                      ]  17.83MB/31.38MB
 62c70f376f6a Downloading [==============>                                    ]   7.34MB/25.35MB
 42c077c10790 Downloading [==============================>                    ]  18.87MB/31.38MB
 62c70f376f6a Downloading [==============>                                    ]   7.34MB/25.35MB
 42c077c10790 Downloading [===============================>                   ]  19.92MB/31.38MB
 62c70f376f6a Downloading [================>                                  ]  8.389MB/25.35MB
 42c077c10790 Downloading [===============================>                   ]  19.92MB/31.38MB
 62c70f376f6a Downloading [================>                                  ]  8.389MB/25.35MB
 62c70f376f6a Downloading [==================>                                ]  9.437MB/25.35MB
 42c077c10790 Downloading [=================================>                 ]  20.97MB/31.38MB
 62c70f376f6a Downloading [====================>                              ]  10.49MB/25.35MB
 42c077c10790 Downloading [===================================>               ]  22.02MB/31.38MB
 42c077c10790 Downloading [====================================>              ]  23.07MB/31.38MB
 62c70f376f6a Downloading [====================>                              ]  10.49MB/25.35MB
 42c077c10790 Downloading [======================================>            ]  24.12MB/31.38MB
 62c70f376f6a Downloading [======================>                            ]  11.53MB/25.35MB
 42c077c10790 Downloading [========================================>          ]  25.17MB/31.38MB
 62c70f376f6a Downloading [======================>                            ]  11.53MB/25.35MB
 42c077c10790 Downloading [=========================================>         ]  26.21MB/31.38MB
 62c70f376f6a Downloading [========================>                          ]  12.58MB/25.35MB
 62c70f376f6a Downloading [========================>                          ]  12.58MB/25.35MB
 42c077c10790 Downloading [===========================================>       ]  27.26MB/31.38MB
 62c70f376f6a Downloading [==========================>                        ]  13.63MB/25.35MB
 42c077c10790 Downloading [=============================================>     ]  28.31MB/31.38MB
 42c077c10790 Downloading [==============================================>    ]  29.36MB/31.38MB
 62c70f376f6a Downloading [==========================>                        ]  13.63MB/25.35MB
 42c077c10790 Downloading [================================================>  ]  30.41MB/31.38MB
 62c70f376f6a Downloading [============================>                      ]  14.68MB/25.35MB
 42c077c10790 Downloading [==================================================>]  31.38MB/31.38MB
 62c70f376f6a Downloading [============================>                      ]  14.68MB/25.35MB
 62c70f376f6a Downloading [===============================>                   ]  15.73MB/25.35MB
 42c077c10790 Download complete 
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [=================================>                 ]  16.78MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [===================================>               ]  17.83MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [=====================================>             ]  18.87MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [=======================================>           ]  19.92MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [=========================================>         ]  20.97MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [===========================================>       ]  22.02MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [===============================================>   ]  24.12MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Downloading [==================================================>]  25.35MB/25.35MB
 42c077c10790 Extracting 1 s
 62c70f376f6a Download complete 
 42c077c10790 Extracting 1 s
 42c077c10790 Extracting 1 s
 42c077c10790 Extracting 2 s
 42c077c10790 Extracting 2 s
 42c077c10790 Pull complete 
 62c70f376f6a Extracting 1 s
 62c70f376f6a Extracting 1 s
 62c70f376f6a Extracting 1 s
 62c70f376f6a Extracting 1 s
 62c70f376f6a Extracting 1 s
 915cc9bd79c2 Pull complete 
 75a963e94de0 Pull complete 
 7b1fab684d70 Extracting 1 s
 62c70f376f6a Pull complete 
 db24d06d5af4 Pull complete 
 7b1fab684d70 Pull complete 
 nginx Pulled 
#1 [internal] load local bake definitions
#1 reading from stdin 773B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 136B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/openjdk:8-jdk
#3 DONE 1.1s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 198B done
#5 DONE 0.0s

#6 [1/3] FROM docker.io/library/openjdk:8-jdk@sha256:86e863cc57215cfb181bd319736d0baf625fe8f150577f9eb58bd937f5452cb8
#6 resolve docker.io/library/openjdk:8-jdk@sha256:86e863cc57215cfb181bd319736d0baf625fe8f150577f9eb58bd937f5452cb8 0.0s done
#6 DONE 0.0s

#7 [2/3] WORKDIR /app
#7 CACHED

#8 [3/3] COPY ./app.jar /app.jar
#8 DONE 0.2s

#9 exporting to image
#9 exporting layers 0.1s done
#9 exporting manifest sha256:a3857c822a6be81fa941f418aa672844d5a8097eef85678fd4e228ab334493ac 0.0s done
#9 exporting config sha256:178089bb927eea7a01d9302e0f21599580cea8aa881ec607b445ad9861727b50 0.0s done
#9 exporting attestation manifest sha256:6f1c01724e9764d8057baa6a4129f3193b5b425002eb43351827db63b1c6575f
#9 exporting attestation manifest sha256:6f1c01724e9764d8057baa6a4129f3193b5b425002eb43351827db63b1c6575f 0.0s done
#9 exporting manifest list sha256:6cf653b21463d569758ada3b3ea86dda5cbda5e159b4fde5f68ccd99bf1b98c0 0.0s done
#9 naming to docker.io/library/openai-spring-cloud-gateway:latest done
#9 unpacking to docker.io/library/openai-spring-cloud-gateway:latest 0.0s done
#9 DONE 0.2s

#10 resolving provenance for metadata file
#10 DONE 0.0s
 openai-spring-cloud-gateway  Built
 Network cve-2022-22947-network  Creating
 Network cve-2022-22947-network  Created
 Container spring-cloud-gateway  Creating
 Container spring-cloud-gateway  Created
 Container nginx  Creating
 Container nginx  Created
 Container spring-cloud-gateway  Starting
 Container spring-cloud-gateway  Started
 Container nginx  Starting
 Container nginx  Started


sudo docker logs 0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e --details
STDOUT:  /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
 /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
 /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
 /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
 /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
 /docker-entrypoint.sh: Configuration complete; ready for start up

STDERR:  2025/10/23 01:17:17 [emerg] 1#1: host not found in upstream "spring-cloud-gateway" in /etc/nginx/nginx.conf:7
 nginx: [emerg] host not found in upstream "spring-cloud-gateway" in /etc/nginx/nginx.conf:7




sudo docker inspect 0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e[
    {
        "Id": "0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e",
        "Created": "2025-10-23T01:17:17.246464849Z",
        "Path": "/docker-entrypoint.sh",
        "Args": [
            "nginx",
            "-g",
            "daemon off;"
        ],
        "State": {
            "Status": "exited",
            "Running": false,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 0,
            "ExitCode": 1,
            "Error": "",
            "StartedAt": "2025-10-23T01:17:17.624561826Z",
            "FinishedAt": "2025-10-23T01:17:19.812954456Z"
        },
        "Image": "sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514",
        "ResolvConfPath": "/var/lib/docker/containers/0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e/resolv.conf",
        "HostnamePath": "/var/lib/docker/containers/0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e/hostname",
        "HostsPath": "/var/lib/docker/containers/0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e/hosts",
        "LogPath": "/var/lib/docker/containers/0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e/0d2752bb80a7f0db66a687c73f145679165c38b8e2deb4d7c9703ea2568a760e-json.log",
        "Name": "/nginx",
        "RestartCount": 0,
        "Driver": "overlayfs",
        "Platform": "linux",
        "MountLabel": "",
        "ProcessLabel": "",
        "AppArmorProfile": "",
        "ExecIDs": null,
        "HostConfig": {
            "Binds": [
                "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22947/openai/nginx.conf:/etc/nginx/nginx.conf:rw"
            ],
            "ContainerIDFile": "",
            "LogConfig": {
                "Type": "json-file",
                "Config": {}
            },
            "NetworkMode": "cve-2022-22947-network",
            "PortBindings": {
                "80/tcp": [
                    {
                        "HostIp": "",
                        "HostPort": "80"
                    }
                ]
            },
            "RestartPolicy": {
                "Name": "no",
                "MaximumRetryCount": 0
            },
            "AutoRemove": false,
            "VolumeDriver": "",
            "VolumesFrom": null,
            "ConsoleSize": [
                0,
                0
            ],
            "CapAdd": null,
            "CapDrop": null,
            "CgroupnsMode": "private",
            "Dns": null,
            "DnsOptions": null,
            "DnsSearch": null,
            "ExtraHosts": [],
            "GroupAdd": null,
            "IpcMode": "private",
            "Cgroup": "",
            "Links": null,
            "OomScoreAdj": 0,
            "PidMode": "",
            "Privileged": false,
            "PublishAllPorts": false,
            "ReadonlyRootfs": false,
            "SecurityOpt": null,
            "UTSMode": "",
            "UsernsMode": "",
            "ShmSize": 67108864,
            "Runtime": "runc",
            "Isolation": "",
            "CpuShares": 0,
            "Memory": 0,
            "NanoCpus": 0,
            "CgroupParent": "",
            "BlkioWeight": 0,
            "BlkioWeightDevice": null,
            "BlkioDeviceReadBps": null,
            "BlkioDeviceWriteBps": null,
            "BlkioDeviceReadIOps": null,
            "BlkioDeviceWriteIOps": null,
            "CpuPeriod": 0,
            "CpuQuota": 0,
            "CpuRealtimePeriod": 0,
            "CpuRealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "Devices": null,
            "DeviceCgroupRules": null,
            "DeviceRequests": null,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "MemorySwappiness": null,
            "OomKillDisable": null,
            "PidsLimit": null,
            "Ulimits": null,
            "CpuCount": 0,
            "CpuPercent": 0,
            "IOMaximumIOps": 0,
            "IOMaximumBandwidth": 0,
            "MaskedPaths": [
                "/proc/asound",
                "/proc/acpi",
                "/proc/interrupts",
                "/proc/kcore",
                "/proc/keys",
                "/proc/latency_stats",
                "/proc/timer_list",
                "/proc/timer_stats",
                "/proc/sched_debug",
                "/proc/scsi",
                "/sys/firmware",
                "/sys/devices/virtual/powercap"
            ],
            "ReadonlyPaths": [
                "/proc/bus",
                "/proc/fs",
                "/proc/irq",
                "/proc/sys",
                "/proc/sysrq-trigger"
            ]
        },
        "GraphDriver": {
            "Data": null,
            "Name": "overlayfs"
        },
        "Mounts": [
            {
                "Type": "bind",
                "Source": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22947/openai/nginx.conf",
                "Destination": "/etc/nginx/nginx.conf",
                "Mode": "rw",
                "RW": true,
                "Propagation": "rprivate"
            }
        ],
        "Config": {
            "Hostname": "0d2752bb80a7",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": true,
            "AttachStderr": true,
            "ExposedPorts": {
                "80/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "NGINX_VERSION=1.21.6",
                "NJS_VERSION=0.7.3",
                "PKG_RELEASE=1~bullseye"
            ],
            "Cmd": [
                "nginx",
                "-g",
                "daemon off;"
            ],
            "Image": "nginx:1.21.6",
            "Volumes": null,
            "WorkingDir": "",
            "Entrypoint": [
                "/docker-entrypoint.sh"
            ],
            "OnBuild": null,
            "Labels": {
                "com.docker.compose.config-hash": "61dbaa4d73f5d9f38eb07427f1fd60f2c308434c5065e564c48f1b30f1fdb09f",
                "com.docker.compose.container-number": "1",
                "com.docker.compose.depends_on": "spring-cloud-gateway:service_started:false",
                "com.docker.compose.image": "sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514",
                "com.docker.compose.oneoff": "False",
                "com.docker.compose.project": "openai",
                "com.docker.compose.project.config_files": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22947/openai/docker-compose.yml",
                "com.docker.compose.project.working_dir": "/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2022-22947/openai",
                "com.docker.compose.service": "nginx",
                "com.docker.compose.version": "2.40.0",
                "desktop.docker.io/wsl-distro": "Ubuntu",
                "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"
            },
            "StopSignal": "SIGQUIT",
            "StopTimeout": 1
        },
        "NetworkSettings": {
            "Bridge": "",
            "SandboxID": "",
            "SandboxKey": "",
            "Ports": {},
            "HairpinMode": false,
            "LinkLocalIPv6Address": "",
            "LinkLocalIPv6PrefixLen": 0,
            "SecondaryIPAddresses": null,
            "SecondaryIPv6Addresses": null,
            "EndpointID": "",
            "Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "IPAddress": "",
            "IPPrefixLen": 0,
            "IPv6Gateway": "",
            "MacAddress": "",
            "Networks": {
                "cve-2022-22947-network": {
                    "IPAMConfig": null,
                    "Links": null,
                    "Aliases": [
                        "nginx",
                        "nginx"
                    ],
                    "MacAddress": "",
                    "DriverOpts": null,
                    "GwPriority": 0,
                    "NetworkID": "32e3828b0383c2df6fd6d0ff5481ca302da8e3398e671ff33f9ed33d11a8969b",
                    "EndpointID": "",
                    "Gateway": "",
                    "IPAddress": "",
                    "IPPrefixLen": 0,
                    "IPv6Gateway": "",
                    "GlobalIPv6Address": "",
                    "GlobalIPv6PrefixLen": 0,
                    "DNSNames": [
                        "nginx",
                        "0d2752bb80a7"
                    ]
                }
            }
        },
        "ImageManifestDescriptor": {
            "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
            "digest": "sha256:25dedae0aceb6b4fe5837a0acbacc6580453717f126a095aa05a3c6fcea14dd4",
            "size": 1570,
            "platform": {
                "architecture": "amd64",
                "os": "linux"
            }
        }
    }
]