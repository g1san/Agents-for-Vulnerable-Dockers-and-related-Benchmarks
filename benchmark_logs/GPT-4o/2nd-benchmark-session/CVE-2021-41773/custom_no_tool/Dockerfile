FROM httpd:2.4.49

# Copy the custom configuration file
COPY httpd.conf /usr/local/apache2/conf/httpd.conf
COPY conf/extra/httpd-vhosts.conf /usr/local/apache2/conf/extra/httpd-vhosts.conf

# Copy the HTML content
COPY html/ /usr/local/apache2/htdocs/

# Ensure correct permissions
RUN chmod -R 755 /usr/local/apache2/htdocs/ && \
    chmod 644 /usr/local/apache2/conf/httpd.conf

# Verify Apache configuration
RUN httpd -t
