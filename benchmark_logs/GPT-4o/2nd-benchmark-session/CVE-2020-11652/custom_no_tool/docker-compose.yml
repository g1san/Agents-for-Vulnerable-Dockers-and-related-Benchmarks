version: '3.8'

services:
  salt-master:
    build:
      context: ./salt-master
    image: saltstack/salt:2019.2.3-CVE-2020-11652
    ports:
      - "4505:4505"
      - "4506:4506"
    volumes:
      - salt-master-config:/etc/salt/master.d
      - salt-master-logs:/var/log/salt
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

volumes:
  salt-master-config:
  salt-master-logs:
