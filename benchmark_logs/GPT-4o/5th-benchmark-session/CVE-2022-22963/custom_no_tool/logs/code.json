{
    "files": [
        {
            "location": "./../../dockers/CVE-2022-22963/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\n\nservices:\n  spring-function:\n    build: ./spring-function\n    ports:\n      - \"8080:8080\"\n    environment:\n      - SPRING_PROFILES_ACTIVE=default\n\n  nginx:\n    image: nginx:1.21.6\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\n    depends_on:\n      - spring-function\n\nnetworks:\n  default:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom_no_tool/spring-function/Dockerfile",
            "content": "FROM openjdk:8-jdk\n\nWORKDIR /app\n\nCOPY . .\n\n# Execute Maven Wrapper\nRUN chmod +x mvnw && ./mvnw clean package\n\nENTRYPOINT [\"java\", \"-jar\", \"target/spring-cloud-function-demo.jar\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom_no_tool/spring-function/pom.xml",
            "content": "<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>spring-cloud-function-demo</artifactId>\n    <version>1.0-SNAPSHOT</version>\n\n    <properties>\n        <java.version>1.8</java.version>\n        <spring-cloud.version>Hoxton.SR12</spring-cloud.version>\n    </properties>\n\n    <dependencyManagement>\n        <dependencies>\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-dependencies</artifactId>\n                <version>${spring-cloud.version}</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-function-context</artifactId>\n            <version>3.1.7</version> <!-- Updated to a non-vulnerable version -->\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom_no_tool/spring-function/src/main/java/com/example/DemoApplication.java",
            "content": "package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.function.context.FunctionalSpringApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        FunctionalSpringApplication.run(DemoApplication.class, args);\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom_no_tool/nginx/nginx.conf",
            "content": "events {}\n\nhttp {\n    server {\n        listen 80;\n\n        location / {\n            proxy_pass http://spring-function:8080;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom_no_tool/spring-function/mvnw",
            "content": "#!/bin/sh\n\n# ----------------------------------------------------------------------------\n# Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the \"License\"); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n# ----------------------------------------------------------------------------\n\n# ----------------------------------------------------------------------------\n# Maven Start Up Batch script\n#\n# Required ENV vars:\n# ------------------\n#   JAVA_HOME - location of a JDK home dir\n#\n# Optional ENV vars\n# -----------------\n#   M2_HOME - location of maven2's installed home dir\n#   MAVEN_OPTS - parameters passed to the Java VM when running Maven\n#     e.g. to debug Maven itself, use\n#       set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\n#   MAVEN_SKIP_RC - flag to disable loading of mavenrc files\n# ----------------------------------------------------------------------------\n\nif [ -z \"$MAVEN_SKIP_RC\" ] ; then\n  if [ -f /etc/mavenrc ] ; then\n    . /etc/mavenrc\n  fi\n  if [ -f \"$HOME/.mavenrc\" ] ; then\n    . \"$HOME/.mavenrc\"\n  fi\nfi\n\n# OS specific support.  $var _must_ be set to either true or false.\ncygwin=false;\ndarwin=false;\nmingw=false;\ncase \"`uname`\" in\n  CYGWIN*) cygwin=true ;;\n  Darwin*) darwin=true ;;\n  MINGW*) mingw=true ;;\nesac\n\nif [ -z \"$MAVEN_PROJECTBASEDIR\" ] ; then\n  # get the full path (without any relative bits)\n  MAVEN_PROJECTBASEDIR=`cd \"`dirname \"$0\"`; pwd`\n  if [ \"`echo $MAVEN_PROJECTBASEDIR | cut -c1`\" = \"/\" ] && [ \"$cygwin\" = \"true\" ] ; then\n    # cygwin path\n    MAVEN_PROJECTBASEDIR=`cygpath --mixed \"$MAVEN_PROJECTBASEDIR\"`\n  fi\nfi\n\nif [ -z \"$M2_HOME\" ] ; then\n  if [ -r \"$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.properties\" ] ; then\n    M2_HOME=`grep -v '^#' \"$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.properties\" | grep 'mavenHome' | cut -d'=' -f 2`\n  fi\nfi\n\nif [ -z \"$M2_HOME\" ] ; then\n  M2_HOME=\"$MAVEN_PROJECTBASEDIR/.mvn/wrapper/dist\"\nfi\n\nWRAPPER_JAR=\"${MAVEN_PROJECTBASEDIR}/.mvn/wrapper/maven-wrapper.jar\"\nWRAPPER_LAUNCHER=\"org.apache.maven.wrapper.MavenWrapperMain\"\n\nexec \"$JAVA_HOME/bin/java\" \\\n  $MAVEN_OPTS \\\n  -classpath \"$WRAPPER_JAR\" \\\n  \"-Dmaven.multiModuleProjectDirectory=$MAVEN_PROJECTBASEDIR\" \\\n  $WRAPPER_LAUNCHER \"$@\"\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom_no_tool/spring-function/mvnw.cmd",
            "content": "@echo off\n\nsetlocal\n\nset DIRNAME=%~dp0\nif \"%DIRNAME%\" == \"\" set DIRNAME=.\n\nset MAVEN_PROJECTBASEDIR=\"%DIRNAME%\"\n\nif not \"%MAVEN_SKIP_RC%\" == \"\" goto skipRcPre\nif exist \"%USERPROFILE%\\.mavenrc_pre\" call \"%USERPROFILE%\\.mavenrc_pre\"\n:skipRcPre\n\nif not \"%MAVEN_SKIP_RC%\" == \"\" goto skipRc\nif exist \"%USERPROFILE%\\.mavenrc\" call \"%USERPROFILE%\\.mavenrc\"\n:skipRc\n\nset WRAPPER_JAR=\"%MAVEN_PROJECTBASEDIR%\\.mvn\\wrapper\\maven-wrapper.jar\"\nset WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain\n\nset JAVA_EXE=\"%JAVA_HOME%\\bin\\java.exe\"\n\nif not exist %JAVA_EXE% (\n  echo The JAVA_HOME environment variable is not defined correctly\n  echo This environment variable is needed to run this program\n  echo NB: JAVA_HOME should point to a JDK not a JRE\n  exit /b 1\n)\n\nif exist %WRAPPER_JAR% (\n  set CLASSPATH=%WRAPPER_JAR%\n) else (\n  echo Wrapper jar not found: %WRAPPER_JAR%\n  exit /b 1\n)\n\n\"%JAVA_EXE%\" %MAVEN_OPTS% -classpath %CLASSPATH% \"-Dmaven.multiModuleProjectDirectory=%MAVEN_PROJECTBASEDIR%\" %WRAPPER_LAUNCHER% %*\n"
        }
    ],
    "directory_tree": "CVE-2022-22963/\n    \u2514\u2500\u2500 custom_no_tool/\n        \u251c\u2500\u2500 docker-compose.yml\n        \u251c\u2500\u2500 nginx/\n        \u2502   \u2514\u2500\u2500 nginx.conf\n        \u2514\u2500\u2500 spring-function/\n            \u251c\u2500\u2500 Dockerfile\n            \u251c\u2500\u2500 mvnw\n            \u251c\u2500\u2500 mvnw.cmd\n            \u251c\u2500\u2500 pom.xml\n            \u2514\u2500\u2500 src/\n                \u2514\u2500\u2500 main/\n                    \u2514\u2500\u2500 java/\n                        \u2514\u2500\u2500 com/\n                            \u2514\u2500\u2500 example/\n                                \u2514\u2500\u2500 DemoApplication.java"
}