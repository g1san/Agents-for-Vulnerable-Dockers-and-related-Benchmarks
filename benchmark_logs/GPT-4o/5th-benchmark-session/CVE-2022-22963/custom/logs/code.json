{
    "files": [
        {
            "location": "./../../dockers/CVE-2022-22963/custom/docker-compose.yml",
            "content": "services:\n  openjdk:\n    image: openjdk:8-jdk-alpine\n    container_name: openjdk\n    volumes:\n      - ./app:/usr/src/app\n    working_dir: /usr/src/app\n    command: [\"java\", \"-jar\", \"app.jar\"]\n    networks:\n      - app-network\n\n  spring-cloud-function:\n    build:\n      context: ./spring-cloud-function\n    container_name: spring-cloud-function\n    ports:\n      - \"8080:8080\"\n    networks:\n      - app-network\n\n  nginx:\n    image: nginx:1.21\n    container_name: nginx\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\n    networks:\n      - app-network\n\nnetworks:\n  app-network:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom/spring-cloud-function/Dockerfile",
            "content": "FROM openjdk:8-jdk-alpine\n\n# Install Maven\nRUN apk add --no-cache maven\n\nCOPY . /usr/src/app\nWORKDIR /usr/src/app\n\n# Use Maven to build the project\nRUN mvn clean package\n\nEXPOSE 8080\n\nCMD [\"java\", \"-jar\", \"target/app.jar\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom/spring-cloud-function/pom.xml",
            "content": "<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>spring-cloud-function-demo</artifactId>\n    <version>1.0-SNAPSHOT</version>\n\n    <properties>\n        <java.version>1.8</java.version>\n        <spring-cloud.version>3.2.3</spring-cloud.version> <!-- Updated to a valid version -->\n        <spring-boot.version>2.5.5</spring-boot.version> <!-- Added Spring Boot version -->\n    </properties>\n\n    <dependencyManagement>\n        <dependencies>\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-dependencies</artifactId>\n                <version>${spring-cloud.version}</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n            <version>${spring-boot.version}</version> <!-- Added version -->\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-function-web</artifactId>\n            <version>${spring-cloud.version}</version> <!-- Added version -->\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <version>${spring-boot.version}</version> <!-- Added version -->\n            </plugin>\n        </plugins>\n    </build>\n\n</project>\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom/spring-cloud-function/src/main/java/com/example/FunctionApplication.java",
            "content": "package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.messaging.Message;\nimport java.util.function.Function;\n\n@SpringBootApplication\npublic class FunctionApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FunctionApplication.class, args);\n    }\n\n    @Bean\n    public Function<Message<String>, String> uppercase() {\n        return message -> message.getPayload().toUpperCase();\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22963/custom/nginx/nginx.conf",
            "content": "events {}\n\nhttp {\n    server {\n        listen 80;\n\n        location / {\n            proxy_pass http://spring-cloud-function:8080;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n}\n"
        }
    ],
    "directory_tree": "CVE-2022-22963/\n\u251c\u2500\u2500 custom\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u251c\u2500\u2500 nginx\n\u2502   \u2502   \u2514\u2500\u2500 nginx.conf\n\u2502   \u2514\u2500\u2500 spring-cloud-function\n\u2502       \u251c\u2500\u2500 Dockerfile\n\u2502       \u251c\u2500\u2500 pom.xml\n\u2502       \u2514\u2500\u2500 src\n\u2502           \u2514\u2500\u2500 main\n\u2502               \u2514\u2500\u2500 java\n\u2502                   \u2514\u2500\u2500 com\n\u2502                       \u2514\u2500\u2500 example\n\u2502                           \u2514\u2500\u2500 FunctionApplication.java"
}