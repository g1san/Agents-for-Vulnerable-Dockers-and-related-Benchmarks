services:
  jetty:
    image: jetty:9.4.42-jre11
    ports:
      - "8080:8080"
    volumes:
      - ./webapps:/var/lib/jetty/webapps
    environment:
      - JAVA_OPTIONS=-Dorg.eclipse.jetty.server.Request.maxFormContentSize=-1

  openjdk:
    image: openjdk:11-jre
    command: tail -f /dev/null # Keep the container running
    depends_on:
      - jetty
    volumes:
      - ./webapps:/usr/src/app/webapps

networks:
  default:
    name: cve-2021-34429-network
