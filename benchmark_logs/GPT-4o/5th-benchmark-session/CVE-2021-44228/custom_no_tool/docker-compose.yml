services:
  maven:
    image: maven:3.8.4-jdk-8
    container_name: maven
    volumes:
      - ./webapp:/usr/src/app
    working_dir: /usr/src/app
    command: mvn clean package

  webapp:
    build:
      context: ./webapp
    ports:
      - "8080:8080"
    depends_on:
      - maven

  jdk:
    image: openjdk:8-jdk
    container_name: jdk
