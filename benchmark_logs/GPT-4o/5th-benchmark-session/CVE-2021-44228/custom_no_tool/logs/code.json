{
    "files": [
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/docker-compose.yml",
            "content": "services:\n  maven:\n    image: maven:3.8.4-jdk-8\n    container_name: maven\n    volumes:\n      - ./webapp:/usr/src/app\n    working_dir: /usr/src/app\n    command: mvn clean package\n\n  webapp:\n    build:\n      context: ./webapp\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      - maven\n\n  jdk:\n    image: openjdk:8-jdk\n    container_name: jdk\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/webapp/Dockerfile",
            "content": "# Use Maven to build the application\nFROM maven:3.8.4-jdk-8 AS build\nWORKDIR /usr/src/app\nCOPY . .\nRUN mvn clean package\n\n# Use Tomcat to deploy the application\nFROM tomcat:9.0\nCOPY --from=build /usr/src/app/target/webapp-1.0-SNAPSHOT.war /usr/local/tomcat/webapps/\n\nEXPOSE 8080\nCMD [\"catalina.sh\", \"run\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/webapp/pom.xml",
            "content": "<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>com.example</groupId>\n    <artifactId>webapp</artifactId>\n    <version>1.0-SNAPSHOT</version>\n    <packaging>war</packaging>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.apache.logging.log4j</groupId>\n            <artifactId>log4j-core</artifactId>\n            <version>2.17.1</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.logging.log4j</groupId>\n            <artifactId>log4j-api</artifactId>\n            <version>2.17.1</version>\n        </dependency>\n        <dependency>\n            <groupId>javax.servlet</groupId>\n            <artifactId>javax.servlet-api</artifactId>\n            <version>4.0.1</version>\n            <scope>provided</scope>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.8.1</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-war-plugin</artifactId>\n                <version>3.3.1</version>\n                <configuration>\n                    <warSourceDirectory>src/main/webapp</warSourceDirectory>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/webapp/src/main/webapp/WEB-INF/web.xml",
            "content": "<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\">\n    <servlet>\n        <servlet-name>ExampleServlet</servlet-name>\n        <servlet-class>com.example.ExampleServlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>ExampleServlet</servlet-name>\n        <url-pattern>/example</url-pattern>\n    </servlet-mapping>\n</web-app>\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/webapp/src/main/java/com/example/ExampleServlet.java",
            "content": "package com.example;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\n//@WebServlet(\"/example\") // Commented out to avoid conflict with web.xml\npublic class ExampleServlet extends HttpServlet {\n\n    private static final Logger logger = LogManager.getLogger(ExampleServlet.class);\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        String userAgent = req.getHeader(\"User-Agent\");\n        logger.info(\"User-Agent: \" + userAgent);\n        resp.getWriter().write(\"Hello, World!\");\n    }\n}\n"
        }
    ],
    "directory_tree": "CVE-2021-44228/\n\u2514\u2500\u2500 custom_no_tool/\n    \u251c\u2500\u2500 docker-compose.yml\n    \u2514\u2500\u2500 webapp/\n        \u251c\u2500\u2500 Dockerfile\n        \u251c\u2500\u2500 pom.xml\n        \u2514\u2500\u2500 src/\n            \u2514\u2500\u2500 main/\n                \u251c\u2500\u2500 java/\n                \u2502   \u2514\u2500\u2500 com/\n                \u2502       \u2514\u2500\u2500 example/\n                \u2502           \u2514\u2500\u2500 ExampleServlet.java\n                \u2514\u2500\u2500 webapp/\n                    \u2514\u2500\u2500 WEB-INF/\n                        \u2514\u2500\u2500 web.xml\n"
}