{
    "files": [
        {
            "location": "./../../dockers/CVE-2022-22947/custom/Dockerfile",
            "content": "# Use Maven to build the application\nFROM maven:3.8.5-openjdk-11-slim AS build\n\nWORKDIR /app\nCOPY pom.xml ./\nCOPY src ./src\n\nRUN mvn clean package -DskipTests\n\n# Use OpenJDK to run the application\nFROM openjdk:11-jre-slim\n\nWORKDIR /app\nCOPY --from=build /app/target/spring-cloud-gateway-0.0.1-SNAPSHOT.jar /app/spring-cloud-gateway.jar\n\nEXPOSE 8080\n\nCMD [\"java\", \"-jar\", \"spring-cloud-gateway.jar\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22947/custom/docker-compose.yml",
            "content": "services:\n  gateway:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - \"8080:8080\"\n    networks:\n      - gateway-network\n\nnetworks:\n  gateway-network:\n    driver: bridge\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22947/custom/pom.xml",
            "content": "<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>com.example</groupId>\n    <artifactId>spring-cloud-gateway</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <properties>\n        <java.version>11</java.version>\n        <spring-cloud.version>2020.0.3</spring-cloud.version>\n        <spring-boot.version>2.5.5</spring-boot.version>\n    </properties>\n    <dependencyManagement>\n        <dependencies>\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-dependencies</artifactId>\n                <version>${spring-cloud.version}</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-webflux</artifactId>\n            <version>${spring-boot.version}</version>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-gateway</artifactId>\n            <version>3.0.6</version> <!-- Vulnerable version -->\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-actuator</artifactId>\n            <version>${spring-boot.version}</version>\n        </dependency>\n    </dependencies>\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.8.1</version>\n                <configuration>\n                    <source>11</source>\n                    <target>11</target>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <version>${spring-boot.version}</version>\n                <executions>\n                    <execution>\n                        <goals>\n                            <goal>repackage</goal>\n                        </goals>\n                    </execution>\n                </executions>\n                <configuration>\n                    <mainClass>com.example.Application</mainClass>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22947/custom/src/main/java/com/example/Application.java",
            "content": "package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2022-22947/custom/src/main/resources/application.properties",
            "content": "management.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\nserver.port=8080\nspring.application.name=spring-cloud-gateway\n"
        }
    ],
    "directory_tree": "CVE-2022-22947/\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 pom.xml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502   \u251c\u2500\u2500 java\n    \u2502   \u2502   \u2514\u2500\u2500 com\n    \u2502   \u2502       \u2514\u2500\u2500 example\n    \u2502   \u2502           \u2514\u2500\u2500 Application.java\n    \u2502   \u2514\u2500\u2500 resources\n    \u2502       \u2514\u2500\u2500 application.properties\n"
}