@echo off

setlocal

set MVNW_VERBOSE=false

if "%MVNW_VERBOSE%" == "true" (
  set MAVEN_BATCH_ECHO=on
  set MAVEN_OPTS="%MAVEN_OPTS% -X"
)

if not defined JAVA_HOME goto err_no_java_home

set CLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher
set MAVEN_PROJECTBASEDIR=%~dp0
set MAVEN_HOME=%M2_HOME%

if not defined MAVEN_HOME set MAVEN_HOME=%MAVEN_PROJECTBASEDIR%.mvn\wrapper

set WRAPPER_JAR="%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.jar"

if exist %WRAPPER_JAR% (
  set WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain
  if not defined MVNW_VERBOSE (
    java -jar %WRAPPER_JAR% %*
  ) else (
    java -jar %WRAPPER_JAR% %*
  )
) else (
  if not defined MVNW_VERBOSE (
    java -classpath "%MAVEN_HOME%\boot\plexus-classworlds-2.6.0.jar" %CLASSWORLDS_LAUNCHER% %*
  ) else (
    java -classpath "%MAVEN_HOME%\boot\plexus-classworlds-2.6.0.jar" %CLASSWORLDS_LAUNCHER% %*
  )
)

:end

endlocal

exit /b %ERRORLEVEL%

:err_no_java_home

echo.
echo ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.
echo.
echo Please set the JAVA_HOME variable in your environment to match the

echo location of your Java installation.
echo.

exit /b 1
