#1 [internal] load local bake definitions
#1 reading from stdin 703B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 838B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/openjdk:11-jdk-slim
#3 DONE 0.9s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/7] FROM docker.io/library/openjdk:11-jdk-slim@sha256:868a4f2151d38ba6a09870cec584346a5edc8e9b71fde275eb2e0625273e2fd8
#5 resolve docker.io/library/openjdk:11-jdk-slim@sha256:868a4f2151d38ba6a09870cec584346a5edc8e9b71fde275eb2e0625273e2fd8 0.0s done
#5 DONE 0.0s

#6 [internal] load build context
#6 transferring context: 862B done
#6 DONE 0.0s

#7 [2/7] WORKDIR /app
#7 CACHED

#8 [3/7] COPY Log4jVulnerableApp.java ./
#8 CACHED

#9 [4/7] COPY log4j2.xml ./
#9 CACHED

#10 [5/7] RUN apt-get update && apt-get install -y wget && rm -rf /var/lib/apt/lists/*
#10 0.322 Get:1 http://deb.debian.org/debian bullseye InRelease [75.1 kB]
#10 0.409 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
#10 0.445 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.0 kB]
#10 0.514 Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
#10 1.004 Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [403 kB]
#10 1.050 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#10 1.881 Fetched 8634 kB in 2s (5257 kB/s)
#10 1.881 Reading package lists...
#10 2.366 Reading package lists...
#10 2.804 Building dependency tree...
#10 2.902 Reading state information...
#10 3.013 The following additional packages will be installed:
#10 3.014   libpsl5 publicsuffix
#10 3.054 The following NEW packages will be installed:
#10 3.054   libpsl5 publicsuffix wget
#10 3.142 0 upgraded, 3 newly installed, 0 to remove and 42 not upgraded.
#10 3.142 Need to get 1149 kB of archives.
#10 3.142 After this operation, 4001 kB of additional disk space will be used.
#10 3.142 Get:1 http://deb.debian.org/debian bullseye/main amd64 libpsl5 amd64 0.21.0-1.2 [57.3 kB]
#10 3.827 Get:2 http://deb.debian.org/debian-security bullseye-security/main amd64 wget amd64 1.21-1+deb11u2 [964 kB]
#10 5.304 Get:3 http://deb.debian.org/debian bullseye/main amd64 publicsuffix all 20220811.1734-0+deb11u1 [127 kB]
#10 5.441 debconf: delaying package configuration, since apt-utils is not installed
#10 5.467 Fetched 1149 kB in 0s (4072 kB/s)
#10 5.492 Selecting previously unselected package libpsl5:amd64.
#10 5.492 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 7071 files and directories currently installed.)
#10 5.499 Preparing to unpack .../libpsl5_0.21.0-1.2_amd64.deb ...
#10 5.506 Unpacking libpsl5:amd64 (0.21.0-1.2) ...
#10 5.538 Selecting previously unselected package wget.
#10 5.539 Preparing to unpack .../wget_1.21-1+deb11u2_amd64.deb ...
#10 5.542 Unpacking wget (1.21-1+deb11u2) ...
#10 5.628 Selecting previously unselected package publicsuffix.
#10 5.629 Preparing to unpack .../publicsuffix_20220811.1734-0+deb11u1_all.deb ...
#10 5.633 Unpacking publicsuffix (20220811.1734-0+deb11u1) ...
#10 5.673 Setting up libpsl5:amd64 (0.21.0-1.2) ...
#10 5.683 Setting up wget (1.21-1+deb11u2) ...
#10 5.695 Setting up publicsuffix (20220811.1734-0+deb11u1) ...
#10 5.707 Processing triggers for libc-bin (2.31-13+deb11u3) ...
#10 DONE 5.8s

#11 [6/7] RUN wget https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-api/2.14.1/log4j-api-2.14.1.jar &&     wget https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-core/2.14.1/log4j-core-2.14.1.jar
#11 0.234 --2025-09-18 13:30:01--  https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-api/2.14.1/log4j-api-2.14.1.jar
#11 0.244 Resolving repo1.maven.org (repo1.maven.org)... 146.75.52.209
#11 0.308 Connecting to repo1.maven.org (repo1.maven.org)|146.75.52.209|:443... connected.
#11 0.392 HTTP request sent, awaiting response... 200 OK
#11 0.425 Length: 300365 (293K) [application/java-archive]
#11 0.425 Saving to: ‘log4j-api-2.14.1.jar’
#11 0.425 
#11 0.425      0K .......... .......... .......... .......... .......... 17% 1.71M 0s
#11 0.454     50K .......... .......... .......... .......... .......... 34% 5.84M 0s
#11 0.462    100K .......... .......... .......... .......... .......... 51% 3.31M 0s
#11 0.477    150K .......... .......... .......... .......... .......... 68% 9.14M 0s
#11 0.482    200K .......... .......... .......... .......... .......... 85% 3.57M 0s
#11 0.500    250K .......... .......... .......... .......... ...       100% 6.16M=0.08s
#11 0.503 
#11 0.503 2025-09-18 13:30:02 (3.69 MB/s) - ‘log4j-api-2.14.1.jar’ saved [300365/300365]
#11 0.503 
#11 0.507 --2025-09-18 13:30:02--  https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-core/2.14.1/log4j-core-2.14.1.jar
#11 0.513 Resolving repo1.maven.org (repo1.maven.org)... 146.75.52.209
#11 0.515 Connecting to repo1.maven.org (repo1.maven.org)|146.75.52.209|:443... connected.
#11 0.612 HTTP request sent, awaiting response... 200 OK
#11 0.645 Length: 1745700 (1.7M) [application/java-archive]
#11 0.645 Saving to: ‘log4j-core-2.14.1.jar’
#11 0.645 
#11 0.645      0K .......... .......... .......... .......... ..........  2% 1.58M 1s
#11 0.676     50K .......... .......... .......... .......... ..........  5% 3.81M 1s
#11 0.689    100K .......... .......... .......... .......... ..........  8% 2.30M 1s
#11 0.710    150K .......... .......... .......... .......... .......... 11% 7.77M 1s
#11 0.716    200K .......... .......... .......... .......... .......... 14% 3.36M 0s
#11 0.731    250K .......... .......... .......... .......... .......... 17% 4.08M 0s
#11 0.742    300K .......... .......... .......... .......... .......... 20% 9.65M 0s
#11 0.748    350K .......... .......... .......... .......... .......... 23% 2.35M 0s
#11 0.768    400K .......... .......... .......... .......... .......... 26% 9.08M 0s
#11 0.774    450K .......... .......... .......... .......... .......... 29% 23.2M 0s
#11 0.776    500K .......... .......... .......... .......... .......... 32% 16.4M 0s
#11 0.779    550K .......... .......... .......... .......... .......... 35% 6.01M 0s
#11 0.787    600K .......... .......... .......... .......... .......... 38% 6.57M 0s
#11 0.794    650K .......... .......... .......... .......... .......... 41% 33.5M 0s
#11 0.796    700K .......... .......... .......... .......... .......... 43% 16.7M 0s
#11 0.799    750K .......... .......... .......... .......... .......... 46% 10.4M 0s
#11 0.803    800K .......... .......... .......... .......... .......... 49% 20.6M 0s
#11 0.806    850K .......... .......... .......... .......... .......... 52% 13.7M 0s
#11 0.809    900K .......... .......... .......... .......... .......... 55% 62.6M 0s
#11 0.811    950K .......... .......... .......... .......... .......... 58% 26.8M 0s
#11 0.812   1000K .......... .......... .......... .......... .......... 61% 11.1M 0s
#11 0.816   1050K .......... .......... .......... .......... .......... 64% 28.0M 0s
#11 0.818   1100K .......... .......... .......... .......... .......... 67% 97.3M 0s
#11 0.819   1150K .......... .......... .......... .......... .......... 70% 13.2M 0s
#11 0.822   1200K .......... .......... .......... .......... .......... 73% 24.8M 0s
#11 0.824   1250K .......... .......... .......... .......... .......... 76% 14.4M 0s
#11 0.828   1300K .......... .......... .......... .......... .......... 79% 81.1M 0s
#11 0.828   1350K .......... .......... .......... .......... .......... 82% 26.4M 0s
#11 0.830   1400K .......... .......... .......... .......... .......... 85% 14.1M 0s
#11 0.834   1450K .......... .......... .......... .......... .......... 87% 49.0M 0s
#11 0.835   1500K .......... .......... .......... .......... .......... 90% 19.5M 0s
#11 0.837   1550K .......... .......... .......... .......... .......... 93% 15.0M 0s
#11 0.840   1600K .......... .......... .......... .......... .......... 96% 17.7M 0s
#11 0.843   1650K .......... .......... .......... .......... .......... 99%  135M 0s
#11 0.844   1700K ....                                                  100%  101M=0.2s
#11 0.844 
#11 0.844 2025-09-18 13:30:02 (8.38 MB/s) - ‘log4j-core-2.14.1.jar’ saved [1745700/1745700]
#11 0.844 
#11 DONE 0.9s

#12 [7/7] RUN javac -cp .:log4j-api-2.14.1.jar:log4j-core-2.14.1.jar Log4jVulnerableApp.java &&     mkdir -p /app/config &&     mv log4j2.xml /app/config/
#12 DONE 0.8s

#13 exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 exporting manifest sha256:a76a6541ea95a29067c1725af08bcccfab4cab844468a544aab931f1d354a27a 0.0s done
#13 exporting config sha256:9bf24d5c3455bbc9f55842c2669e5e10918893e90679c3cd9397ea9e397036f7 done
#13 exporting attestation manifest sha256:404e6f5e5b24e2f7298ac72743df227ad4e41d1e88f70a7041311deae48fbe10 0.0s done
#13 exporting manifest list sha256:db27c072f307052a930212135587053fa58b341e8814ad8453887939afd33b9e done
#13 naming to docker.io/library/custom_no_tool-app:latest done
#13 unpacking to docker.io/library/custom_no_tool-app:latest 0.1s done
#13 DONE 0.4s

#14 resolving provenance for metadata file
#14 DONE 0.0s
 custom_no_tool-app  Built
 Network custom_no_tool_default  Creating
 Network custom_no_tool_default  Created
 Container custom_no_tool-app-1  Creating
 Container custom_no_tool-app-1  Created
 Container custom_no_tool-app-1  Starting
 Container custom_no_tool-app-1  Started


sudo docker logs 12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165 --details
STDOUT: 
STDERR: 



sudo docker inspect 12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165
[{'Id': '12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165', 'Created': '2025-09-18T13:30:03.901549289Z', 'Path': 'java', 'Args': ['-cp', '.:log4j-api-2.14.1.jar:log4j-core-2.14.1.jar', 'Log4jVulnerableApp'], 'State': {'Status': 'running', 'Running': True, 'Paused': False, 'Restarting': False, 'OOMKilled': False, 'Dead': False, 'Pid': 20235, 'ExitCode': 0, 'Error': '', 'StartedAt': '2025-09-18T13:30:04.024207264Z', 'FinishedAt': '0001-01-01T00:00:00Z'}, 'Image': 'sha256:db27c072f307052a930212135587053fa58b341e8814ad8453887939afd33b9e', 'ResolvConfPath': '/var/lib/docker/containers/12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165/resolv.conf', 'HostnamePath': '/var/lib/docker/containers/12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165/hostname', 'HostsPath': '/var/lib/docker/containers/12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165/hosts', 'LogPath': '/var/lib/docker/containers/12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165/12d5aa253bfdd35fdeb5480e35747db1c0bde0a2e711b2920db2ae9b0f33a165-json.log', 'Name': '/custom_no_tool-app-1', 'RestartCount': 0, 'Driver': 'overlayfs', 'Platform': 'linux', 'MountLabel': '', 'ProcessLabel': '', 'AppArmorProfile': '', 'ExecIDs': None, 'HostConfig': {'Binds': None, 'ContainerIDFile': '', 'LogConfig': {'Type': 'json-file', 'Config': {}}, 'NetworkMode': 'custom_no_tool_default', 'PortBindings': {'8080/tcp': [{'HostIp': '', 'HostPort': '8080'}]}, 'RestartPolicy': {'Name': 'no', 'MaximumRetryCount': 0}, 'AutoRemove': False, 'VolumeDriver': '', 'VolumesFrom': None, 'ConsoleSize': [0, 0], 'CapAdd': None, 'CapDrop': None, 'CgroupnsMode': 'private', 'Dns': None, 'DnsOptions': None, 'DnsSearch': None, 'ExtraHosts': [], 'GroupAdd': None, 'IpcMode': 'private', 'Cgroup': '', 'Links': None, 'OomScoreAdj': 0, 'PidMode': '', 'Privileged': False, 'PublishAllPorts': False, 'ReadonlyRootfs': False, 'SecurityOpt': None, 'UTSMode': '', 'UsernsMode': '', 'ShmSize': 67108864, 'Runtime': 'runc', 'Isolation': '', 'CpuShares': 0, 'Memory': 0, 'NanoCpus': 0, 'CgroupParent': '', 'BlkioWeight': 0, 'BlkioWeightDevice': None, 'BlkioDeviceReadBps': None, 'BlkioDeviceWriteBps': None, 'BlkioDeviceReadIOps': None, 'BlkioDeviceWriteIOps': None, 'CpuPeriod': 0, 'CpuQuota': 0, 'CpuRealtimePeriod': 0, 'CpuRealtimeRuntime': 0, 'CpusetCpus': '', 'CpusetMems': '', 'Devices': None, 'DeviceCgroupRules': None, 'DeviceRequests': None, 'MemoryReservation': 0, 'MemorySwap': 0, 'MemorySwappiness': None, 'OomKillDisable': None, 'PidsLimit': None, 'Ulimits': None, 'CpuCount': 0, 'CpuPercent': 0, 'IOMaximumIOps': 0, 'IOMaximumBandwidth': 0, 'MaskedPaths': ['/proc/asound', '/proc/acpi', '/proc/interrupts', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/proc/scsi', '/sys/firmware', '/sys/devices/virtual/powercap'], 'ReadonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}, 'GraphDriver': {'Data': None, 'Name': 'overlayfs'}, 'Mounts': [], 'Config': {'Hostname': '12d5aa253bfd', 'Domainname': '', 'User': '', 'AttachStdin': False, 'AttachStdout': True, 'AttachStderr': True, 'ExposedPorts': {'8080/tcp': {}}, 'Tty': False, 'OpenStdin': False, 'StdinOnce': False, 'Env': ['JAVA_OPTS=-Dlog4j2.formatMsgNoLookups=true', 'PATH=/usr/local/openjdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'JAVA_HOME=/usr/local/openjdk-11', 'LANG=C.UTF-8', 'JAVA_VERSION=11.0.16'], 'Cmd': ['java', '-cp', '.:log4j-api-2.14.1.jar:log4j-core-2.14.1.jar', 'Log4jVulnerableApp'], 'Image': 'custom_no_tool-app', 'Volumes': None, 'WorkingDir': '/app', 'Entrypoint': None, 'OnBuild': None, 'Labels': {'com.docker.compose.config-hash': '8cd11c8c37beb4a77de61b29aa1db74d551d1d72462b6fb6443b74cadf433c11', 'com.docker.compose.container-number': '1', 'com.docker.compose.depends_on': '', 'com.docker.compose.image': 'sha256:db27c072f307052a930212135587053fa58b341e8814ad8453887939afd33b9e', 'com.docker.compose.oneoff': 'False', 'com.docker.compose.project': 'custom_no_tool', 'com.docker.compose.project.config_files': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2021-44228/custom_no_tool/docker-compose.yml', 'com.docker.compose.project.working_dir': '/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2021-44228/custom_no_tool', 'com.docker.compose.service': 'app', 'com.docker.compose.version': '2.39.2', 'desktop.docker.io/wsl-distro': 'Ubuntu'}}, 'NetworkSettings': {'Bridge': '', 'SandboxID': 'e8603ff02e7f5183dd1cff4ffa07f0568ce8277c86c732ce226e10d8165ec625', 'SandboxKey': '/var/run/docker/netns/e8603ff02e7f', 'Ports': {'8080/tcp': [{'HostIp': '0.0.0.0', 'HostPort': '8080'}, {'HostIp': '::', 'HostPort': '8080'}]}, 'HairpinMode': False, 'LinkLocalIPv6Address': '', 'LinkLocalIPv6PrefixLen': 0, 'SecondaryIPAddresses': None, 'SecondaryIPv6Addresses': None, 'EndpointID': '', 'Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'IPAddress': '', 'IPPrefixLen': 0, 'IPv6Gateway': '', 'MacAddress': '', 'Networks': {'custom_no_tool_default': {'IPAMConfig': None, 'Links': None, 'Aliases': ['custom_no_tool-app-1', 'app'], 'MacAddress': '02:88:f8:e0:b6:12', 'DriverOpts': None, 'GwPriority': 0, 'NetworkID': 'cecc2c0b0ecf279791c8f6f2137ed59e103cb177f41fb975a90325d2c0531fc5', 'EndpointID': 'f8b2a16b6c8d194a9a5bc8dc2c490fc6bcc62a78fabd490cc72df0da1603a9e3', 'Gateway': '172.18.0.1', 'IPAddress': '172.18.0.2', 'IPPrefixLen': 16, 'IPv6Gateway': '', 'GlobalIPv6Address': '', 'GlobalIPv6PrefixLen': 0, 'DNSNames': ['custom_no_tool-app-1', 'app', '12d5aa253bfd']}}}, 'ImageManifestDescriptor': {'mediaType': 'application/vnd.oci.image.manifest.v1+json', 'digest': 'sha256:a76a6541ea95a29067c1725af08bcccfab4cab844468a544aab931f1d354a27a', 'size': 2191, 'platform': {'architecture': 'amd64', 'os': 'linux'}}}]

