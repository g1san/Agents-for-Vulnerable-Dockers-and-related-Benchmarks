{
    "file_name": [
        "docker-compose.yml",
        "Dockerfile",
        "nginx.conf",
        "cacti/Dockerfile",
        "cacti/config.php"
    ],
    "file_code": [
        "services:\n  db:\n    image: mysql:8.0\n    container_name: cacti_db\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpass\n      MYSQL_DATABASE: cacti\n    command: --default-authentication-plugin=mysql_native_password\n    volumes:\n      - db_data:/var/lib/mysql\n    networks:\n      - cacti_net\n    healthcheck:\n      test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"localhost\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\n  web:\n    build: .\n    container_name: cacti_nginx\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf\n    ports:\n      - '80:80'\n    networks:\n      - cacti_net\n\n  cacti:\n    build:\n      context: ./cacti\n    container_name: cacti_app\n    environment:\n      - DB_HOST=db\n      - DB_NAME=cacti\n      - DB_USER=root\n      - DB_PASS=rootpass\n    ports:\n      - '8080:80'\n    depends_on:\n      - db\n    networks:\n      - cacti_net\n\nnetworks:\n  cacti_net:\n    driver: bridge\n\nvolumes:\n  db_data:\n    driver: local\n",
        "FROM nginx:1.21\nCOPY ./nginx.conf /etc/nginx/nginx.conf\n",
        "worker_processes 1;\n\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    server {\n        listen 80;\n        location / {\n            root /usr/share/nginx/html;\n            index index.html index.htm;\n        }\n    }\n}\n",
        "FROM php:7.4-apache\nRUN docker-php-ext-install mysqli\nCOPY config.php /var/www/html/config.php\nCOPY . /var/www/html\n",
        "<?php\n// Cacti configuration file\n$database_default = array(\n    'hostname' => getenv('DB_HOST'),\n    'username' => getenv('DB_USER'),\n    'password' => getenv('DB_PASS'),\n    'database' => getenv('DB_NAME'),\n    'port' => '3306',\n    'type' => 'mysql',\n    'ssl' => false,\n);\n"
    ],
    "directory_tree": "./../../dockers/CVE-2022-46169/custom_no_tool\n\u251c\u2500\u2500 cacti\n\u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u2514\u2500\u2500 config.php\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 nginx.conf\n"
}