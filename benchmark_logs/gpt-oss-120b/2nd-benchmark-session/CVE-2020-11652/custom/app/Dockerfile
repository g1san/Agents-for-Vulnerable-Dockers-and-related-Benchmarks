FROM python:3.8-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
# Create uploads directory and set correct ownership
RUN mkdir -p /app/uploads && chown -R 1000:1000 /app/uploads
EXPOSE 5000
# Run the application as a nonâ€‘root user matching the directory ownership
USER 1000:1000
CMD ["python", "app.py"]