{
    "files": [
        {
            "location": "./../../dockers/CVE-2020-7247/custom/docker-compose.yml",
            "content": "services:\n  vulnerable:\n    build: ./vuln_app\n    ports:\n      - \"5000:5000\"\n    environment:\n      - FLASK_ENV=development\n    depends_on:\n      - smtp\n  smtp:\n    build: ./smtp\n    ports:\n      - \"25:25\"\n    command: [\"/usr/sbin/opensmtpd\", \"-d\", \"-f\", \"/etc/opensmtpd/opensmtpd.conf\"]\n    restart: unless-stopped"
        },
        {
            "location": "./../../dockers/CVE-2020-7247/custom/vuln_app/Dockerfile",
            "content": "FROM python:3.9-slim\nWORKDIR /app\nCOPY app.py .\nRUN pip install --no-cache-dir flask\nCMD [\"python\", \"app.py\"]"
        },
        {
            "location": "./../../dockers/CVE-2020-7247/custom/vuln_app/app.py",
            "content": "from flask import Flask, request\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    return 'Vulnerable Flask app running.'\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000)"
        },
        {
            "location": "./../../dockers/CVE-2020-7247/custom/smtp/Dockerfile",
            "content": "FROM alpine:3.18\nRUN apk add --no-cache opensmtpd && \\\n    mkdir -p /etc/opensmtpd && \\\n    echo \"listen on *\" > /etc/opensmtpd/opensmtpd.conf && \\\n    chmod 644 /etc/opensmtpd/opensmtpd.conf && \\\n    mkdir -p /var/spool/opensmtpd /var/run/opensmtpd && \\\n    chmod 755 /var/spool/opensmtpd /var/run/opensmtpd\nEXPOSE 25\nCMD [\"/usr/sbin/opensmtpd\", \"-d\", \"-f\", \"/etc/opensmtpd/opensmtpd.conf\"]"
        }
    ],
    "directory_tree": "custom/\n\u251c\u2500 docker-compose.yml\n\u251c\u2500 vuln_app/\n\u2502   \u251c\u2500 Dockerfile\n\u2502   \u2514\u2500 app.py\n\u2514\u2500 smtp/\n    \u2514\u2500 Dockerfile"
}