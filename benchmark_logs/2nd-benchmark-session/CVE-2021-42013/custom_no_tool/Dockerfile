FROM httpd:2.4.49

# Enable CGI module
RUN sed -i 's/#LoadModule cgi_module/LoadModule cgi_module/' /usr/local/apache2/conf/httpd.conf

# Copy custom configuration
COPY httpd.conf /usr/local/apache2/conf/httpd.conf
COPY htdocs/ /usr/local/apache2/htdocs/
COPY cgi-bin/ /usr/local/apache2/cgi-bin/

# Ensure correct permissions for CGI execution
RUN chmod +x /usr/local/apache2/cgi-bin/*
