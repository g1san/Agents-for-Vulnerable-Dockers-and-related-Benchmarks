========== Generated Code (First Version) ==========
Directory tree:
./../../dockers/CVE-2024-23897/custom_no_tool
├── Dockerfile
├── docker-compose.yml
└── jenkins_home
    └── config.xml


---------- docker-compose.yml ----------
version: '3.8'

services:
  jenkins:
    build:
      context: .
      dockerfile: Dockerfile
    image: jenkins/jenkins:CVE-2024-23897
    container_name: vulnerable_jenkins
    ports:
      - "8080:8080"
      - "50000:50000"
    volumes:
      - jenkins_home:/var/jenkins_home

volumes:
  jenkins_home:
    driver: local


---------- Dockerfile ----------
FROM jenkins/jenkins:2.441

USER root

RUN apt-get update && \
    apt-get install -y openjdk-17-jdk && \
    rm -rf /var/lib/apt/lists/*

USER jenkins

# Set up Jenkins environment
ENV JENKINS_OPTS "--httpPort=8080"

# Expose necessary ports
EXPOSE 8080 50000

# Start Jenkins
CMD ["/usr/bin/java", "-jar", "/usr/share/jenkins/jenkins.war"]


---------- jenkins_home/config.xml ----------
<?xml version='1.1' encoding='UTF-8'?>
<jenkins>
  <version>2.441</version>
  <installStateName>RUNNING</installStateName>
  <numExecutors>2</numExecutors>
  <mode>NORMAL</mode>
  <useSecurity>false</useSecurity>
  <authorizationStrategy class="hudson.security.AuthorizationStrategy$Unsecured"/>
  <securityRealm class="hudson.security.SecurityRealm$None"/>
  <disableRememberMe>false</disableRememberMe>
</jenkins>




========== Test Passed! Generated Code (Final Version) ==========
Directory tree:
./../../dockers/CVE-2024-23897/custom_no_tool
├── Dockerfile
├── docker-compose.yml
└── jenkins_home
    └── config.xml


---------- docker-compose.yml ----------
version: '3.8'

services:
  jenkins:
    build:
      context: .
      dockerfile: Dockerfile
    image: jenkins/jenkins:CVE-2024-23897
    container_name: vulnerable_jenkins
    ports:
      - "8080:8080"
      - "50000:50000"
    volumes:
      - jenkins_home:/var/jenkins_home

volumes:
  jenkins_home:
    driver: local


---------- Dockerfile ----------
FROM jenkins/jenkins:2.441

USER root

RUN apt-get update && \
    apt-get install -y openjdk-17-jdk && \
    rm -rf /var/lib/apt/lists/*

USER jenkins

# Set up Jenkins environment
ENV JENKINS_OPTS "--httpPort=8080"

# Expose necessary ports
EXPOSE 8080 50000

# Start Jenkins
CMD ["/usr/bin/java", "-jar", "/usr/share/jenkins/jenkins.war"]


---------- jenkins_home/config.xml ----------
<?xml version='1.1' encoding='UTF-8'?>
<jenkins>
  <version>2.441</version>
  <installStateName>RUNNING</installStateName>
  <numExecutors>2</numExecutors>
  <mode>NORMAL</mode>
  <useSecurity>false</useSecurity>
  <authorizationStrategy class="hudson.security.AuthorizationStrategy$Unsecured"/>
  <securityRealm class="hudson.security.SecurityRealm$None"/>
  <disableRememberMe>false</disableRememberMe>
</jenkins>


