CREATE DATABASE IF NOT EXISTS cacti;
USE cacti;

CREATE TABLE IF NOT EXISTS poller_output (
  id int(11) NOT NULL AUTO_INCREMENT,
  local_data_id int(11) DEFAULT NULL,
  rrd_name varchar(255) DEFAULT NULL,
  output text,
  time timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
);

CREATE USER 'cactiuser'@'%' IDENTIFIED BY 'cactiuserpass';
GRANT ALL PRIVILEGES ON cacti.* TO 'cactiuser'@'%';
FLUSH PRIVILEGES;
