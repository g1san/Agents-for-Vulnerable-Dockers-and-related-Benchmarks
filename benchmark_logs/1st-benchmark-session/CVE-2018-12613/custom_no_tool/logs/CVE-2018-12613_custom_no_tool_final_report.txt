========== Generated Code (First Version) ==========
Directory tree:
CVE-2018-12613/
├── docker-compose.yml
├── mysql
│   ├── Dockerfile
│   └── init.sql
└── phpmyadmin
    └── config.user.inc.php


---------- docker-compose.yml ----------
version: '3.7'
services:
  db:
    build: ./mysql
    environment:
      MYSQL_ROOT_PASSWORD: example
      MYSQL_DATABASE: exampledb
    ports:
      - "3306:3306"

  phpmyadmin:
    image: phpmyadmin/phpmyadmin:4.8.1
    environment:
      PMA_HOST: db
      MYSQL_ROOT_PASSWORD: example
    ports:
      - "8080:80"
    volumes:
      - ./phpmyadmin/config.user.inc.php:/etc/phpmyadmin/config.user.inc.php


---------- phpmyadmin/config.user.inc.php ----------
<?php
$cfg['Servers'][1]['auth_type'] = 'cookie';
$cfg['blowfish_secret'] = 'randomstringhere';


---------- mysql/Dockerfile ----------
FROM mysql:5.7

COPY init.sql /docker-entrypoint-initdb.d/


---------- mysql/init.sql ----------
CREATE DATABASE IF NOT EXISTS exampledb;
USE exampledb;

CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL
);

INSERT INTO users (username, password) VALUES ('admin', 'password');




========== Test Passed! Generated Code (Final Version) ==========
Directory tree:
CVE-2018-12613/
├── docker-compose.yml
├── mysql
│   ├── Dockerfile
│   └── init.sql
└── phpmyadmin
    └── config.user.inc.php


---------- docker-compose.yml ----------
version: '3.7'
services:
  db:
    build: ./mysql
    environment:
      MYSQL_ROOT_PASSWORD: example
      MYSQL_DATABASE: exampledb
    ports:
      - "3306:3306"

  phpmyadmin:
    image: phpmyadmin/phpmyadmin:4.8.1
    environment:
      PMA_HOST: db
      MYSQL_ROOT_PASSWORD: example
    ports:
      - "8080:80"
    volumes:
      - ./phpmyadmin/config.user.inc.php:/etc/phpmyadmin/config.user.inc.php


---------- phpmyadmin/config.user.inc.php ----------
<?php
$cfg['Servers'][1]['auth_type'] = 'cookie';
$cfg['blowfish_secret'] = 'randomstringhere';


---------- mysql/Dockerfile ----------
FROM mysql:5.7

COPY init.sql /docker-entrypoint-initdb.d/


---------- mysql/init.sql ----------
CREATE DATABASE IF NOT EXISTS exampledb;
USE exampledb;

CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL
);

INSERT INTO users (username, password) VALUES ('admin', 'password');


