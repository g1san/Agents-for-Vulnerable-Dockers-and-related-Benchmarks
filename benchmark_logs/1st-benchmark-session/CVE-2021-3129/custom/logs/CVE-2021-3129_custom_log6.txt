time="2025-08-11T10:10:46+02:00" level=warning msg="/home/gabriele/thesis-project/Agents-for-Vulnerable-Dockers-and-related-Benchmarks/dockers/CVE-2021-3129/custom/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 1.27kB done
#1 DONE 0.0s

#2 [app internal] load build definition from Dockerfile
#2 transferring dockerfile: 469B done
#2 DONE 0.0s

#3 [webserver internal] load build definition from Dockerfile
#3 transferring dockerfile: 105B done
#3 DONE 0.0s

#4 [webserver internal] load metadata for docker.io/library/nginx:1.21.6
#4 ...

#5 [app internal] load metadata for docker.io/library/composer:2.0
#5 DONE 0.4s

#6 [app internal] load metadata for docker.io/library/php:7.4-fpm
#6 DONE 0.4s

#4 [webserver internal] load metadata for docker.io/library/nginx:1.21.6
#4 DONE 0.4s

#7 [app internal] load .dockerignore
#7 transferring context: 2B done
#7 DONE 0.0s

#8 [webserver internal] load .dockerignore
#8 transferring context: 2B done
#8 DONE 0.0s

#9 [webserver internal] load build context
#9 transferring context: 448B done
#9 DONE 0.0s

#10 [app] FROM docker.io/library/composer:2.0@sha256:b3703ad1ca8e91a301c2653844633a9aa91734f3fb278c56e2745f58965713f3
#10 resolve docker.io/library/composer:2.0@sha256:b3703ad1ca8e91a301c2653844633a9aa91734f3fb278c56e2745f58965713f3 0.0s done
#10 DONE 0.0s

#11 [app stage-0 1/7] FROM docker.io/library/php:7.4-fpm@sha256:3ac7c8c74b2b047c7cb273469d74fc0d59b857aa44043e6ea6a0084372811d5b
#11 resolve docker.io/library/php:7.4-fpm@sha256:3ac7c8c74b2b047c7cb273469d74fc0d59b857aa44043e6ea6a0084372811d5b 0.0s done
#11 DONE 0.0s

#12 [app stage-0 4/7] COPY --from=composer:2.0 /usr/bin/composer /usr/bin/composer
#12 CACHED

#13 [app stage-0 3/7] WORKDIR /var/www/html
#13 CACHED

#14 [app stage-0 2/7] RUN docker-php-ext-install pdo pdo_mysql
#14 CACHED

#15 [webserver 1/2] FROM docker.io/library/nginx:1.21.6@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514
#15 resolve docker.io/library/nginx:1.21.6@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514 0.0s done
#15 DONE 0.0s

#16 [app stage-0 5/7] RUN apt-get update && apt-get install -y     libpng-dev     libjpeg-dev     libfreetype6-dev     && docker-php-ext-configure gd     --with-freetype     --with-jpeg     && docker-php-ext-install gd
#16 CACHED

#17 [app internal] load build context
#17 transferring context: 346B done
#17 DONE 0.0s

#18 [webserver 2/2] COPY default.conf /etc/nginx/conf.d/default.conf
#18 CACHED

#19 [app stage-0 6/7] COPY src/composer.json /var/www/html/composer.json
#19 DONE 0.0s

#20 [webserver] exporting to image
#20 exporting layers done
#20 exporting manifest sha256:b314f8454c15acf23e498706e376ddea5ae810e3abd4a6078e9225c0169504c2 done
#20 exporting config sha256:31bcee6f6a48d2f505916c1ba8c2756d487b3de6638d18fe4dd393dabc79bef4 done
#20 exporting attestation manifest sha256:8923348fc41a8eb53fba077d7b93396f15a608611f166ad5e914cdd96616b3e1 0.0s done
#20 exporting manifest list sha256:31876fbfea2ac10987ddab0d673eade86b75ded328565c647c7c10235868c480 0.0s done
#20 naming to docker.io/library/custom-webserver:latest done
#20 unpacking to docker.io/library/custom-webserver:latest 0.0s done
#20 DONE 0.1s

#21 [app stage-0 7/7] RUN composer install
#21 ...

#22 [webserver] resolving provenance for metadata file
#22 DONE 0.0s

#21 [app stage-0 7/7] RUN composer install
#21 0.314 Do not run Composer as root/super user! See https://getcomposer.org/root for details
#21 0.319 No composer.lock file present. Updating dependencies to latest instead of installing from lock file. See https://getcomposer.org/install for more information.
#21 0.319 Loading composer repositories with package information
#21 1.371 Updating dependencies
#21 3.338 Your requirements could not be resolved to an installable set of packages.
#21 3.338 
#21 3.338   Problem 1
#21 3.338     - Root composer.json requires laravel/framework 8.4.2, found laravel/framework[dev-fix-database-cache-driver-write-connection, dev-fix-isolation-command-test, dev-fix-echo-installation, dev-sync-config, dev-deferred-events-patch, dev-master, dev-revert-53798-reduce, dev-discussion-54343-pgsql, dev-revert-55607-12.x, dev-revert-56184-revert-56129-passLimiterToThrottlesExceptions, dev-driesvints-patch-1, dev-11/issue-54401, dev-12/fixes-test, dev-13/fix-symfony-error, dev-pipeline-catch, v4.0.0-BETA2, ..., 4.2.x-dev, v5.0.0, ..., 5.8.x-dev, v6.0.0, ..., 6.x-dev, v7.0.0, ..., 7.x-dev, v8.0.0, ..., 8.x-dev, v9.0.0-beta.1, ..., 9.x-dev, v10.0.0, ..., 10.x-dev, v11.0.0, ..., 11.x-dev, v12.0.0, ..., 12.x-dev, 13.0.x-dev (alias of dev-master)] but it does not match the constraint.
#21 3.338 
#21 ERROR: process "/bin/sh -c composer install" did not complete successfully: exit code: 2
------
 > [app stage-0 7/7] RUN composer install:
0.314 Do not run Composer as root/super user! See https://getcomposer.org/root for details
0.319 No composer.lock file present. Updating dependencies to latest instead of installing from lock file. See https://getcomposer.org/install for more information.
0.319 Loading composer repositories with package information
1.371 Updating dependencies
3.338 Your requirements could not be resolved to an installable set of packages.
3.338 
3.338   Problem 1
3.338     - Root composer.json requires laravel/framework 8.4.2, found laravel/framework[dev-fix-database-cache-driver-write-connection, dev-fix-isolation-command-test, dev-fix-echo-installation, dev-sync-config, dev-deferred-events-patch, dev-master, dev-revert-53798-reduce, dev-discussion-54343-pgsql, dev-revert-55607-12.x, dev-revert-56184-revert-56129-passLimiterToThrottlesExceptions, dev-driesvints-patch-1, dev-11/issue-54401, dev-12/fixes-test, dev-13/fix-symfony-error, dev-pipeline-catch, v4.0.0-BETA2, ..., 4.2.x-dev, v5.0.0, ..., 5.8.x-dev, v6.0.0, ..., 6.x-dev, v7.0.0, ..., 7.x-dev, v8.0.0, ..., 8.x-dev, v9.0.0-beta.1, ..., 9.x-dev, v10.0.0, ..., 10.x-dev, v11.0.0, ..., 11.x-dev, v12.0.0, ..., 12.x-dev, 13.0.x-dev (alias of dev-master)] but it does not match the constraint.
3.338 
------
Dockerfile:20

--------------------

  18 |     COPY src/composer.json /var/www/html/composer.json

  19 |     

  20 | >>> RUN composer install

  21 |     

--------------------

target app: failed to solve: process "/bin/sh -c composer install" did not complete successfully: exit code: 2

