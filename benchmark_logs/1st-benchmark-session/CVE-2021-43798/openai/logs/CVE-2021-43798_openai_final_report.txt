========== Generated Code (First Version) ==========
Directory tree:
./../../dockers/CVE-2021-43798/openai/
├── docker-compose.yml
├── grafana
│   ├── Dockerfile
│   └── provisioning
│       └── datasources
│           └── datasource.yml
└── mysql
    └── init.sql

---------- docker-compose.yml ----------
version: '3.7'
services:
  grafana:
    build: ./grafana
    ports:
      - "3000:3000"
    volumes:
      - grafana-storage:/var/lib/grafana

  mysql:
    image: mysql:5.7
    environment:
      MYSQL_ROOT_PASSWORD: example
      MYSQL_DATABASE: grafana
    volumes:
      - mysql-data:/var/lib/mysql

volumes:
  grafana-storage:
  mysql-data:

---------- grafana/Dockerfile ----------
FROM grafana/grafana:8.2.6

COPY provisioning /etc/grafana/provisioning


---------- grafana/provisioning/datasources/datasource.yml ----------
apiVersion: 1

datasources:
  - name: MySQL
    type: mysql
    access: proxy
    url: mysql:3306
    database: grafana
    user: root
    secureJsonData:
      password: example
    isDefault: true
    editable: true

---------- mysql/init.sql ----------
CREATE DATABASE IF NOT EXISTS grafana;




========== Test Passed! Generated Code (Final Version) ==========
Directory tree:
./../../dockers/CVE-2021-43798/openai/
├── docker-compose.yml
├── grafana
│   ├── Dockerfile
│   └── provisioning
│       └── datasources
│           └── datasource.yml
└── mysql
    └── init.sql

---------- docker-compose.yml ----------
version: '3.7'
services:
  grafana:
    build: ./grafana
    ports:
      - "3000:3000"
    volumes:
      - grafana-storage:/var/lib/grafana

  mysql:
    image: mysql:5.7
    environment:
      MYSQL_ROOT_PASSWORD: example
      MYSQL_DATABASE: grafana
    volumes:
      - mysql-data:/var/lib/mysql

volumes:
  grafana-storage:
  mysql-data:

---------- grafana/Dockerfile ----------
FROM grafana/grafana:8.2.6

COPY provisioning /etc/grafana/provisioning


---------- grafana/provisioning/datasources/datasource.yml ----------
apiVersion: 1

datasources:
  - name: MySQL
    type: mysql
    access: proxy
    url: mysql:3306
    database: grafana
    user: root
    secureJsonData:
      password: example
    isDefault: true
    editable: true

---------- mysql/init.sql ----------
CREATE DATABASE IF NOT EXISTS grafana;


