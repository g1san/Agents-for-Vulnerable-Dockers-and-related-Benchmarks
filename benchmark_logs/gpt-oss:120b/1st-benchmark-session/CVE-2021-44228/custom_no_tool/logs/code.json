{
    "files": [
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/docker-compose.yml",
            "content": "version: '3.8'\nservices:\n  app:\n    build: ./app\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      - ldap\n  ldap:\n    image: osixia/openldap:1.5.0\n    environment:\n      - LDAP_ORGANISATION=Example Corp\n      - LDAP_DOMAIN=example.org\n      - LDAP_ADMIN_PASSWORD=admin\n    ports:\n      - \"389:389\"\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/app/Dockerfile",
            "content": "FROM maven:3.8.4-openjdk-8 as builder\nWORKDIR /app\nCOPY pom.xml .\nCOPY src ./src\nRUN mvn -B package -DskipTests\n\nFROM openjdk:8-jre\nWORKDIR /app\n# Copy the assembled jar (with dependencies) produced by the Maven assembly plugin\nCOPY --from=builder /app/target/*-jar-with-dependencies.jar ./log4j-vuln-app.jar\nEXPOSE 8080\nENTRYPOINT [\"java\",\"-jar\",\"log4j-vuln-app.jar\"]\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/app/pom.xml",
            "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>com.example</groupId>\n  <artifactId>log4j-vuln-app</artifactId>\n  <version>1.0.0</version>\n  <properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n  </properties>\n  <dependencies>\n    <dependency>\n      <groupId>org.apache.logging.log4j</groupId>\n      <artifactId>log4j-core</artifactId>\n      <version>2.14.1</version>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.logging.log4j</groupId>\n      <artifactId>log4j-api</artifactId>\n      <version>2.14.1</version>\n    </dependency>\n    <dependency>\n      <groupId>com.sparkjava</groupId>\n      <artifactId>spark-core</artifactId>\n      <version>2.9.4</version>\n    </dependency>\n  </dependencies>\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-compiler-plugin</artifactId>\n        <version>3.8.1</version>\n        <configuration>\n          <source>8</source>\n          <target>8</target>\n        </configuration>\n      </plugin>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-assembly-plugin</artifactId>\n        <version>3.3.0</version>\n        <configuration>\n          <descriptorRefs>\n            <descriptorRef>jar-with-dependencies</descriptorRef>\n          </descriptorRefs>\n          <archive>\n            <manifest>\n              <mainClass>com.example.Log4jVulnApp</mainClass>\n            </manifest>\n          </archive>\n        </configuration>\n        <executions>\n          <execution>\n            <id>make-assembly</id>\n            <phase>package</phase>\n            <goals>\n              <goal>single</goal>\n            </goals>\n          </execution>\n        </executions>\n      </plugin>\n    </plugins>\n  </build>\n</project>\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/app/src/main/java/com/example/Log4jVulnApp.java",
            "content": "package com.example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport static spark.Spark.*;\n\npublic class Log4jVulnApp {\n    private static final Logger logger = LogManager.getLogger(Log4jVulnApp.class);\n\n    public static void main(String[] args) {\n        get(\"/\", (req, res) -> {\n            String name = req.queryParams(\"name\");\n            logger.info(\"Received request with name: {}\", name);\n            return \"Hello \" + (name != null ? name : \"World\");\n        });\n    }\n}\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/app/src/main/resources/log4j2.xml",
            "content": "<Configuration status=\"WARN\">\n  <Appenders>\n    <Console name=\"Console\" target=\"SYSTEM_OUT\">\n      <PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\"/>\n    </Console>\n  </Appenders>\n  <Loggers>\n    <Root level=\"info\">\n      <AppenderRef ref=\"Console\"/>\n    </Root>\n  </Loggers>\n</Configuration>\n"
        },
        {
            "location": "./../../dockers/CVE-2021-44228/custom_no_tool/app/src/main/resources/log4j2.properties",
            "content": "# Placeholder \u2013 the project uses the default XML configuration provided above.\n"
        }
    ],
    "directory_tree": "CVE-2021-44228/custom_no_tool"
}