{
    "files": [
        {
            "location": "./../../dockers/CVE-2022-24706/custom_no_tool/docker-compose.yml",
            "content": "services:\n  couchdb:\n    image: couchdb:3.2.1\n    container_name: couchdb\n    restart: always\n    environment:\n      COUCHDB_USER: admin\n      COUCHDB_PASSWORD: adminpass\n    ports:\n      - \"5984:5984\"\n    volumes:\n      - couchdb-data:/opt/couchdb/data\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:5984/_up\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\n  init-db:\n    image: curlimages/curl:7.85.0\n    container_name: init-db\n    depends_on:\n      couchdb:\n        condition: service_healthy\n    entrypoint: [\"sh\", \"/init.sh\"]\n    volumes:\n      - ./init.sh:/init.sh:ro\n    restart: \"no\"\n\nvolumes:\n  couchdb-data:\n"
        },
        {
            "location": "./../../dockers/CVE-2022-24706/custom_no_tool/init.sh",
            "content": "#!/bin/sh\n# Wait a few seconds for CouchDB to be fully ready\nsleep 5\n# Create a test database named 'testdb'\ncurl -X PUT http://admin:adminpass@couchdb:5984/testdb\n# Insert a sample document\ncurl -X PUT http://admin:adminpass@couchdb:5984/testdb/sample_doc -d '{\"type\":\"example\",\"message\":\"Hello from CVE-2022-24706 test setup\"}' -H \"Content-Type: application/json\"\n"
        }
    ],
    "directory_tree": "CVE-2022-24706/custom_no_tool"
}